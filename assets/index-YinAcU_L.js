var d0=Object.defineProperty;var h0=(o,r,i)=>r in o?d0(o,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):o[r]=i;var He=(o,r,i)=>h0(o,typeof r!="symbol"?r+"":r,i);(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))l(a);new MutationObserver(a=>{for(const f of a)if(f.type==="childList")for(const h of f.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&l(h)}).observe(document,{childList:!0,subtree:!0});function i(a){const f={};return a.integrity&&(f.integrity=a.integrity),a.referrerPolicy&&(f.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?f.credentials="include":a.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function l(a){if(a.ep)return;a.ep=!0;const f=i(a);fetch(a.href,f)}})();function su(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}var ka={exports:{}},Xi={},_a={exports:{}},Oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bf;function p0(){if(Bf)return Oe;Bf=1;var o=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),f=Symbol.for("react.provider"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),k=Symbol.iterator;function S(D){return D===null||typeof D!="object"?null:(D=k&&D[k]||D["@@iterator"],typeof D=="function"?D:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,C={};function j(D,I,te){this.props=D,this.context=I,this.refs=C,this.updater=te||T}j.prototype.isReactComponent={},j.prototype.setState=function(D,I){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,I,"setState")},j.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function F(){}F.prototype=j.prototype;function $(D,I,te){this.props=D,this.context=I,this.refs=C,this.updater=te||T}var U=$.prototype=new F;U.constructor=$,_(U,j.prototype),U.isPureReactComponent=!0;var V=Array.isArray,ce=Object.prototype.hasOwnProperty,fe={current:null},X={key:!0,ref:!0,__self:!0,__source:!0};function G(D,I,te){var oe,ae={},me=null,Y=null;if(I!=null)for(oe in I.ref!==void 0&&(Y=I.ref),I.key!==void 0&&(me=""+I.key),I)ce.call(I,oe)&&!X.hasOwnProperty(oe)&&(ae[oe]=I[oe]);var Ee=arguments.length-2;if(Ee===1)ae.children=te;else if(1<Ee){for(var De=Array(Ee),Fe=0;Fe<Ee;Fe++)De[Fe]=arguments[Fe+2];ae.children=De}if(D&&D.defaultProps)for(oe in Ee=D.defaultProps,Ee)ae[oe]===void 0&&(ae[oe]=Ee[oe]);return{$$typeof:o,type:D,key:me,ref:Y,props:ae,_owner:fe.current}}function Se(D,I){return{$$typeof:o,type:D.type,key:I,ref:D.ref,props:D.props,_owner:D._owner}}function pe(D){return typeof D=="object"&&D!==null&&D.$$typeof===o}function Ce(D){var I={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(te){return I[te]})}var ke=/\/+/g;function Te(D,I){return typeof D=="object"&&D!==null&&D.key!=null?Ce(""+D.key):I.toString(36)}function Ie(D,I,te,oe,ae){var me=typeof D;(me==="undefined"||me==="boolean")&&(D=null);var Y=!1;if(D===null)Y=!0;else switch(me){case"string":case"number":Y=!0;break;case"object":switch(D.$$typeof){case o:case r:Y=!0}}if(Y)return Y=D,ae=ae(Y),D=oe===""?"."+Te(Y,0):oe,V(ae)?(te="",D!=null&&(te=D.replace(ke,"$&/")+"/"),Ie(ae,I,te,"",function(Fe){return Fe})):ae!=null&&(pe(ae)&&(ae=Se(ae,te+(!ae.key||Y&&Y.key===ae.key?"":(""+ae.key).replace(ke,"$&/")+"/")+D)),I.push(ae)),1;if(Y=0,oe=oe===""?".":oe+":",V(D))for(var Ee=0;Ee<D.length;Ee++){me=D[Ee];var De=oe+Te(me,Ee);Y+=Ie(me,I,te,De,ae)}else if(De=S(D),typeof De=="function")for(D=De.call(D),Ee=0;!(me=D.next()).done;)me=me.value,De=oe+Te(me,Ee++),Y+=Ie(me,I,te,De,ae);else if(me==="object")throw I=String(D),Error("Objects are not valid as a React child (found: "+(I==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":I)+"). If you meant to render a collection of children, use an array instead.");return Y}function Me(D,I,te){if(D==null)return D;var oe=[],ae=0;return Ie(D,oe,"","",function(me){return I.call(te,me,ae++)}),oe}function Pe(D){if(D._status===-1){var I=D._result;I=I(),I.then(function(te){(D._status===0||D._status===-1)&&(D._status=1,D._result=te)},function(te){(D._status===0||D._status===-1)&&(D._status=2,D._result=te)}),D._status===-1&&(D._status=0,D._result=I)}if(D._status===1)return D._result.default;throw D._result}var ge={current:null},q={transition:null},ie={ReactCurrentDispatcher:ge,ReactCurrentBatchConfig:q,ReactCurrentOwner:fe};function Q(){throw Error("act(...) is not supported in production builds of React.")}return Oe.Children={map:Me,forEach:function(D,I,te){Me(D,function(){I.apply(this,arguments)},te)},count:function(D){var I=0;return Me(D,function(){I++}),I},toArray:function(D){return Me(D,function(I){return I})||[]},only:function(D){if(!pe(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Oe.Component=j,Oe.Fragment=i,Oe.Profiler=a,Oe.PureComponent=$,Oe.StrictMode=l,Oe.Suspense=m,Oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ie,Oe.act=Q,Oe.cloneElement=function(D,I,te){if(D==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+D+".");var oe=_({},D.props),ae=D.key,me=D.ref,Y=D._owner;if(I!=null){if(I.ref!==void 0&&(me=I.ref,Y=fe.current),I.key!==void 0&&(ae=""+I.key),D.type&&D.type.defaultProps)var Ee=D.type.defaultProps;for(De in I)ce.call(I,De)&&!X.hasOwnProperty(De)&&(oe[De]=I[De]===void 0&&Ee!==void 0?Ee[De]:I[De])}var De=arguments.length-2;if(De===1)oe.children=te;else if(1<De){Ee=Array(De);for(var Fe=0;Fe<De;Fe++)Ee[Fe]=arguments[Fe+2];oe.children=Ee}return{$$typeof:o,type:D.type,key:ae,ref:me,props:oe,_owner:Y}},Oe.createContext=function(D){return D={$$typeof:h,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},D.Provider={$$typeof:f,_context:D},D.Consumer=D},Oe.createElement=G,Oe.createFactory=function(D){var I=G.bind(null,D);return I.type=D,I},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(D){return{$$typeof:d,render:D}},Oe.isValidElement=pe,Oe.lazy=function(D){return{$$typeof:E,_payload:{_status:-1,_result:D},_init:Pe}},Oe.memo=function(D,I){return{$$typeof:v,type:D,compare:I===void 0?null:I}},Oe.startTransition=function(D){var I=q.transition;q.transition={};try{D()}finally{q.transition=I}},Oe.unstable_act=Q,Oe.useCallback=function(D,I){return ge.current.useCallback(D,I)},Oe.useContext=function(D){return ge.current.useContext(D)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(D){return ge.current.useDeferredValue(D)},Oe.useEffect=function(D,I){return ge.current.useEffect(D,I)},Oe.useId=function(){return ge.current.useId()},Oe.useImperativeHandle=function(D,I,te){return ge.current.useImperativeHandle(D,I,te)},Oe.useInsertionEffect=function(D,I){return ge.current.useInsertionEffect(D,I)},Oe.useLayoutEffect=function(D,I){return ge.current.useLayoutEffect(D,I)},Oe.useMemo=function(D,I){return ge.current.useMemo(D,I)},Oe.useReducer=function(D,I,te){return ge.current.useReducer(D,I,te)},Oe.useRef=function(D){return ge.current.useRef(D)},Oe.useState=function(D){return ge.current.useState(D)},Oe.useSyncExternalStore=function(D,I,te){return ge.current.useSyncExternalStore(D,I,te)},Oe.useTransition=function(){return ge.current.useTransition()},Oe.version="18.3.1",Oe}var Wf;function lu(){return Wf||(Wf=1,_a.exports=p0()),_a.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hf;function g0(){if(Hf)return Xi;Hf=1;var o=lu(),r=Symbol.for("react.element"),i=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,a=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,f={key:!0,ref:!0,__self:!0,__source:!0};function h(d,m,v){var E,k={},S=null,T=null;v!==void 0&&(S=""+v),m.key!==void 0&&(S=""+m.key),m.ref!==void 0&&(T=m.ref);for(E in m)l.call(m,E)&&!f.hasOwnProperty(E)&&(k[E]=m[E]);if(d&&d.defaultProps)for(E in m=d.defaultProps,m)k[E]===void 0&&(k[E]=m[E]);return{$$typeof:r,type:d,key:S,ref:T,props:k,_owner:a.current}}return Xi.Fragment=i,Xi.jsx=h,Xi.jsxs=h,Xi}var Vf;function m0(){return Vf||(Vf=1,ka.exports=g0()),ka.exports}var p=m0(),w=lu();const di=su(w);var ms={},Oa={exports:{}},Dt={},Da={exports:{}},Ta={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kf;function v0(){return Kf||(Kf=1,(function(o){function r(q,ie){var Q=q.length;q.push(ie);e:for(;0<Q;){var D=Q-1>>>1,I=q[D];if(0<a(I,ie))q[D]=ie,q[Q]=I,Q=D;else break e}}function i(q){return q.length===0?null:q[0]}function l(q){if(q.length===0)return null;var ie=q[0],Q=q.pop();if(Q!==ie){q[0]=Q;e:for(var D=0,I=q.length,te=I>>>1;D<te;){var oe=2*(D+1)-1,ae=q[oe],me=oe+1,Y=q[me];if(0>a(ae,Q))me<I&&0>a(Y,ae)?(q[D]=Y,q[me]=Q,D=me):(q[D]=ae,q[oe]=Q,D=oe);else if(me<I&&0>a(Y,Q))q[D]=Y,q[me]=Q,D=me;else break e}}return ie}function a(q,ie){var Q=q.sortIndex-ie.sortIndex;return Q!==0?Q:q.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var f=performance;o.unstable_now=function(){return f.now()}}else{var h=Date,d=h.now();o.unstable_now=function(){return h.now()-d}}var m=[],v=[],E=1,k=null,S=3,T=!1,_=!1,C=!1,j=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function U(q){for(var ie=i(v);ie!==null;){if(ie.callback===null)l(v);else if(ie.startTime<=q)l(v),ie.sortIndex=ie.expirationTime,r(m,ie);else break;ie=i(v)}}function V(q){if(C=!1,U(q),!_)if(i(m)!==null)_=!0,Pe(ce);else{var ie=i(v);ie!==null&&ge(V,ie.startTime-q)}}function ce(q,ie){_=!1,C&&(C=!1,F(G),G=-1),T=!0;var Q=S;try{for(U(ie),k=i(m);k!==null&&(!(k.expirationTime>ie)||q&&!Ce());){var D=k.callback;if(typeof D=="function"){k.callback=null,S=k.priorityLevel;var I=D(k.expirationTime<=ie);ie=o.unstable_now(),typeof I=="function"?k.callback=I:k===i(m)&&l(m),U(ie)}else l(m);k=i(m)}if(k!==null)var te=!0;else{var oe=i(v);oe!==null&&ge(V,oe.startTime-ie),te=!1}return te}finally{k=null,S=Q,T=!1}}var fe=!1,X=null,G=-1,Se=5,pe=-1;function Ce(){return!(o.unstable_now()-pe<Se)}function ke(){if(X!==null){var q=o.unstable_now();pe=q;var ie=!0;try{ie=X(!0,q)}finally{ie?Te():(fe=!1,X=null)}}else fe=!1}var Te;if(typeof $=="function")Te=function(){$(ke)};else if(typeof MessageChannel<"u"){var Ie=new MessageChannel,Me=Ie.port2;Ie.port1.onmessage=ke,Te=function(){Me.postMessage(null)}}else Te=function(){j(ke,0)};function Pe(q){X=q,fe||(fe=!0,Te())}function ge(q,ie){G=j(function(){q(o.unstable_now())},ie)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(q){q.callback=null},o.unstable_continueExecution=function(){_||T||(_=!0,Pe(ce))},o.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Se=0<q?Math.floor(1e3/q):5},o.unstable_getCurrentPriorityLevel=function(){return S},o.unstable_getFirstCallbackNode=function(){return i(m)},o.unstable_next=function(q){switch(S){case 1:case 2:case 3:var ie=3;break;default:ie=S}var Q=S;S=ie;try{return q()}finally{S=Q}},o.unstable_pauseExecution=function(){},o.unstable_requestPaint=function(){},o.unstable_runWithPriority=function(q,ie){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var Q=S;S=q;try{return ie()}finally{S=Q}},o.unstable_scheduleCallback=function(q,ie,Q){var D=o.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?D+Q:D):Q=D,q){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=Q+I,q={id:E++,callback:ie,priorityLevel:q,startTime:Q,expirationTime:I,sortIndex:-1},Q>D?(q.sortIndex=Q,r(v,q),i(m)===null&&q===i(v)&&(C?(F(G),G=-1):C=!0,ge(V,Q-D))):(q.sortIndex=I,r(m,q),_||T||(_=!0,Pe(ce))),q},o.unstable_shouldYield=Ce,o.unstable_wrapCallback=function(q){var ie=S;return function(){var Q=S;S=ie;try{return q.apply(this,arguments)}finally{S=Q}}}})(Ta)),Ta}var qf;function y0(){return qf||(qf=1,Da.exports=v0()),Da.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qf;function w0(){if(Qf)return Dt;Qf=1;var o=lu(),r=y0();function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=new Set,a={};function f(e,t){h(e,t),h(e+"Capture",t)}function h(e,t){for(a[e]=t,e=0;e<t.length;e++)l.add(t[e])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,E={},k={};function S(e){return m.call(k,e)?!0:m.call(E,e)?!1:v.test(e)?k[e]=!0:(E[e]=!0,!1)}function T(e,t,n,s){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function _(e,t,n,s){if(t===null||typeof t>"u"||T(e,t,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function C(e,t,n,s,u,c,g){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=u,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=c,this.removeEmptyString=g}var j={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){j[e]=new C(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];j[t]=new C(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){j[e]=new C(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){j[e]=new C(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){j[e]=new C(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){j[e]=new C(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){j[e]=new C(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){j[e]=new C(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){j[e]=new C(e,5,!1,e.toLowerCase(),null,!1,!1)});var F=/[\-:]([a-z])/g;function $(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(F,$);j[t]=new C(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(F,$);j[t]=new C(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(F,$);j[t]=new C(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){j[e]=new C(e,1,!1,e.toLowerCase(),null,!1,!1)}),j.xlinkHref=new C("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){j[e]=new C(e,1,!1,e.toLowerCase(),null,!0,!0)});function U(e,t,n,s){var u=j.hasOwnProperty(t)?j[t]:null;(u!==null?u.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(_(t,n,u,s)&&(n=null),s||u===null?S(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):u.mustUseProperty?e[u.propertyName]=n===null?u.type===3?!1:"":n:(t=u.attributeName,s=u.attributeNamespace,n===null?e.removeAttribute(t):(u=u.type,n=u===3||u===4&&n===!0?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}var V=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ce=Symbol.for("react.element"),fe=Symbol.for("react.portal"),X=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),Se=Symbol.for("react.profiler"),pe=Symbol.for("react.provider"),Ce=Symbol.for("react.context"),ke=Symbol.for("react.forward_ref"),Te=Symbol.for("react.suspense"),Ie=Symbol.for("react.suspense_list"),Me=Symbol.for("react.memo"),Pe=Symbol.for("react.lazy"),ge=Symbol.for("react.offscreen"),q=Symbol.iterator;function ie(e){return e===null||typeof e!="object"?null:(e=q&&e[q]||e["@@iterator"],typeof e=="function"?e:null)}var Q=Object.assign,D;function I(e){if(D===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);D=t&&t[1]||""}return`
`+D+e}var te=!1;function oe(e,t){if(!e||te)return"";te=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(L){var s=L}Reflect.construct(e,[],t)}else{try{t.call()}catch(L){s=L}e.call(t.prototype)}else{try{throw Error()}catch(L){s=L}e()}}catch(L){if(L&&s&&typeof L.stack=="string"){for(var u=L.stack.split(`
`),c=s.stack.split(`
`),g=u.length-1,y=c.length-1;1<=g&&0<=y&&u[g]!==c[y];)y--;for(;1<=g&&0<=y;g--,y--)if(u[g]!==c[y]){if(g!==1||y!==1)do if(g--,y--,0>y||u[g]!==c[y]){var x=`
`+u[g].replace(" at new "," at ");return e.displayName&&x.includes("<anonymous>")&&(x=x.replace("<anonymous>",e.displayName)),x}while(1<=g&&0<=y);break}}}finally{te=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?I(e):""}function ae(e){switch(e.tag){case 5:return I(e.type);case 16:return I("Lazy");case 13:return I("Suspense");case 19:return I("SuspenseList");case 0:case 2:case 15:return e=oe(e.type,!1),e;case 11:return e=oe(e.type.render,!1),e;case 1:return e=oe(e.type,!0),e;default:return""}}function me(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case X:return"Fragment";case fe:return"Portal";case Se:return"Profiler";case G:return"StrictMode";case Te:return"Suspense";case Ie:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ce:return(e.displayName||"Context")+".Consumer";case pe:return(e._context.displayName||"Context")+".Provider";case ke:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Me:return t=e.displayName||null,t!==null?t:me(e.type)||"Memo";case Pe:t=e._payload,e=e._init;try{return me(e(t))}catch{}}return null}function Y(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return me(t);case 8:return t===G?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ee(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function De(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Fe(e){var t=De(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var u=n.get,c=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(g){s=""+g,c.call(this,g)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ge(e){e._valueTracker||(e._valueTracker=Fe(e))}function st(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=De(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function Vt(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function fr(e,t){var n=t.checked;return Q({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function cn(e,t){var n=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;n=Ee(t.value!=null?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Kt(e,t){t=t.checked,t!=null&&U(e,"checked",t,!1)}function dr(e,t){Kt(e,t);var n=Ee(t.value),s=t.type;if(n!=null)s==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?hr(e,t.type,n):t.hasOwnProperty("defaultValue")&&hr(e,t.type,Ee(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function fn(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function hr(e,t,n){(t!=="number"||Vt(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var en=Array.isArray;function tn(e,t,n,s){if(e=e.options,t){t={};for(var u=0;u<n.length;u++)t["$"+n[u]]=!0;for(n=0;n<e.length;n++)u=t.hasOwnProperty("$"+e[n].value),e[n].selected!==u&&(e[n].selected=u),u&&s&&(e[n].defaultSelected=!0)}else{for(n=""+Ee(n),t=null,u=0;u<e.length;u++){if(e[u].value===n){e[u].selected=!0,s&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function dn(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(i(91));return Q({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function jn(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(i(92));if(en(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ee(n)}}function Pn(e,t){var n=Ee(t.value),s=Ee(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),s!=null&&(e.defaultValue=""+s)}function Tt(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function bn(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qt(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?bn(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ln,Ar=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,s,u){MSApp.execUnsafeLocalFunction(function(){return e(t,n,s,u)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ln=Ln||document.createElement("div"),Ln.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ln.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function hn(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var It={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Mn=["Webkit","ms","Moz","O"];Object.keys(It).forEach(function(e){Mn.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),It[t]=It[e]})});function pn(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||It.hasOwnProperty(e)&&It[e]?(""+t).trim():t+"px"}function gn(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var s=n.indexOf("--")===0,u=pn(n,t[n],s);n==="float"&&(n="cssFloat"),s?e.setProperty(n,u):e[n]=u}}var pi=Q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pr(e,t){if(t){if(pi[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(i(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(i(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(t.style!=null&&typeof t.style!="object")throw Error(i(62))}}function In(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gr=null;function mn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var mr=null,nn=null,rn=null;function Fr(e){if(e=Ri(e)){if(typeof mr!="function")throw Error(i(280));var t=e.stateNode;t&&(t=Po(t),mr(e.stateNode,e.type,t))}}function Rn(e){nn?rn?rn.push(e):rn=[e]:nn=e}function $r(){if(nn){var e=nn,t=rn;if(rn=nn=null,Fr(e),t)for(e=0;e<t.length;e++)Fr(t[e])}}function vn(e,t){return e(t)}function An(){}var vr=!1;function M(e,t,n){if(vr)return e(t,n);vr=!0;try{return vn(e,t,n)}finally{vr=!1,(nn!==null||rn!==null)&&(An(),$r())}}function Ct(e,t){var n=e.stateNode;if(n===null)return null;var s=Po(n);if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(i(231,t,typeof n));return n}var lt=!1;if(d)try{var Ne={};Object.defineProperty(Ne,"passive",{get:function(){lt=!0}}),window.addEventListener("test",Ne,Ne),window.removeEventListener("test",Ne,Ne)}catch{lt=!1}function B(e,t,n,s,u,c,g,y,x){var L=Array.prototype.slice.call(arguments,3);try{t.apply(n,L)}catch(W){this.onError(W)}}var Ue=!1,_e=null,Be=!1,at=null,ht={onError:function(e){Ue=!0,_e=e}};function so(e,t,n,s,u,c,g,y,x){Ue=!1,_e=null,B.apply(ht,arguments)}function lo(e,t,n,s,u,c,g,y,x){if(so.apply(this,arguments),Ue){if(Ue){var L=_e;Ue=!1,_e=null}else throw Error(i(198));Be||(Be=!0,at=L)}}function ne(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function ao(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function gi(e){if(ne(e)!==e)throw Error(i(188))}function Bs(e){var t=e.alternate;if(!t){if(t=ne(e),t===null)throw Error(i(188));return t!==e?null:e}for(var n=e,s=t;;){var u=n.return;if(u===null)break;var c=u.alternate;if(c===null){if(s=u.return,s!==null){n=s;continue}break}if(u.child===c.child){for(c=u.child;c;){if(c===n)return gi(u),e;if(c===s)return gi(u),t;c=c.sibling}throw Error(i(188))}if(n.return!==s.return)n=u,s=c;else{for(var g=!1,y=u.child;y;){if(y===n){g=!0,n=u,s=c;break}if(y===s){g=!0,s=u,n=c;break}y=y.sibling}if(!g){for(y=c.child;y;){if(y===n){g=!0,n=c,s=u;break}if(y===s){g=!0,s=c,n=u;break}y=y.sibling}if(!g)throw Error(i(189))}}if(n.alternate!==s)throw Error(i(190))}if(n.tag!==3)throw Error(i(188));return n.stateNode.current===n?e:t}function mi(e){return e=Bs(e),e!==null?uo(e):null}function uo(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=uo(e);if(t!==null)return t;e=e.sibling}return null}var co=r.unstable_scheduleCallback,fo=r.unstable_cancelCallback,ho=r.unstable_shouldYield,po=r.unstable_requestPaint,Ve=r.unstable_now,Ws=r.unstable_getCurrentPriorityLevel,vi=r.unstable_ImmediatePriority,yi=r.unstable_UserBlockingPriority,Fn=r.unstable_NormalPriority,Hs=r.unstable_LowPriority,go=r.unstable_IdlePriority,yr=null,Rt=null;function ut(e){if(Rt&&typeof Rt.onCommitFiberRoot=="function")try{Rt.onCommitFiberRoot(yr,e,void 0,(e.current.flags&128)===128)}catch{}}var N=Math.clz32?Math.clz32:ue,R=Math.log,A=Math.LN2;function ue(e){return e>>>=0,e===0?32:31-(R(e)/A|0)|0}var le=64,je=4194304;function Nt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function yn(e,t){var n=e.pendingLanes;if(n===0)return 0;var s=0,u=e.suspendedLanes,c=e.pingedLanes,g=n&268435455;if(g!==0){var y=g&~u;y!==0?s=Nt(y):(c&=g,c!==0&&(s=Nt(c)))}else g=n&~u,g!==0?s=Nt(g):c!==0&&(s=Nt(c));if(s===0)return 0;if(t!==0&&t!==s&&(t&u)===0&&(u=s&-s,c=t&-t,u>=c||u===16&&(c&4194240)!==0))return t;if((s&4)!==0&&(s|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)n=31-N(t),u=1<<n,s|=e[n],t&=~u;return s}function Ph(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bh(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,u=e.expirationTimes,c=e.pendingLanes;0<c;){var g=31-N(c),y=1<<g,x=u[g];x===-1?((y&n)===0||(y&s)!==0)&&(u[g]=Ph(y,t)):x<=t&&(e.expiredLanes|=y),c&=~y}}function Vs(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function yu(){var e=le;return le<<=1,(le&4194240)===0&&(le=64),e}function Ks(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function wi(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-N(t),e[t]=n}function Lh(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var u=31-N(n),c=1<<u;t[u]=0,s[u]=-1,e[u]=-1,n&=~c}}function qs(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-N(n),u=1<<s;u&t|e[s]&t&&(e[s]|=t),n&=~u}}var Re=0;function wu(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Su,Qs,Cu,Eu,xu,Gs=!1,mo=[],$n=null,zn=null,Un=null,Si=new Map,Ci=new Map,Bn=[],Mh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ku(e,t){switch(e){case"focusin":case"focusout":$n=null;break;case"dragenter":case"dragleave":zn=null;break;case"mouseover":case"mouseout":Un=null;break;case"pointerover":case"pointerout":Si.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ci.delete(t.pointerId)}}function Ei(e,t,n,s,u,c){return e===null||e.nativeEvent!==c?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:c,targetContainers:[u]},t!==null&&(t=Ri(t),t!==null&&Qs(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function Ih(e,t,n,s,u){switch(t){case"focusin":return $n=Ei($n,e,t,n,s,u),!0;case"dragenter":return zn=Ei(zn,e,t,n,s,u),!0;case"mouseover":return Un=Ei(Un,e,t,n,s,u),!0;case"pointerover":var c=u.pointerId;return Si.set(c,Ei(Si.get(c)||null,e,t,n,s,u)),!0;case"gotpointercapture":return c=u.pointerId,Ci.set(c,Ei(Ci.get(c)||null,e,t,n,s,u)),!0}return!1}function _u(e){var t=wr(e.target);if(t!==null){var n=ne(t);if(n!==null){if(t=n.tag,t===13){if(t=ao(n),t!==null){e.blockedOn=t,xu(e.priority,function(){Cu(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function vo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xs(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);gr=s,n.target.dispatchEvent(s),gr=null}else return t=Ri(n),t!==null&&Qs(t),e.blockedOn=n,!1;t.shift()}return!0}function Ou(e,t,n){vo(e)&&n.delete(t)}function Rh(){Gs=!1,$n!==null&&vo($n)&&($n=null),zn!==null&&vo(zn)&&(zn=null),Un!==null&&vo(Un)&&(Un=null),Si.forEach(Ou),Ci.forEach(Ou)}function xi(e,t){e.blockedOn===t&&(e.blockedOn=null,Gs||(Gs=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Rh)))}function ki(e){function t(u){return xi(u,e)}if(0<mo.length){xi(mo[0],e);for(var n=1;n<mo.length;n++){var s=mo[n];s.blockedOn===e&&(s.blockedOn=null)}}for($n!==null&&xi($n,e),zn!==null&&xi(zn,e),Un!==null&&xi(Un,e),Si.forEach(t),Ci.forEach(t),n=0;n<Bn.length;n++)s=Bn[n],s.blockedOn===e&&(s.blockedOn=null);for(;0<Bn.length&&(n=Bn[0],n.blockedOn===null);)_u(n),n.blockedOn===null&&Bn.shift()}var zr=V.ReactCurrentBatchConfig,yo=!0;function Ah(e,t,n,s){var u=Re,c=zr.transition;zr.transition=null;try{Re=1,Ys(e,t,n,s)}finally{Re=u,zr.transition=c}}function Fh(e,t,n,s){var u=Re,c=zr.transition;zr.transition=null;try{Re=4,Ys(e,t,n,s)}finally{Re=u,zr.transition=c}}function Ys(e,t,n,s){if(yo){var u=Xs(e,t,n,s);if(u===null)pl(e,t,s,wo,n),ku(e,s);else if(Ih(u,e,t,n,s))s.stopPropagation();else if(ku(e,s),t&4&&-1<Mh.indexOf(e)){for(;u!==null;){var c=Ri(u);if(c!==null&&Su(c),c=Xs(e,t,n,s),c===null&&pl(e,t,s,wo,n),c===u)break;u=c}u!==null&&s.stopPropagation()}else pl(e,t,s,null,n)}}var wo=null;function Xs(e,t,n,s){if(wo=null,e=mn(s),e=wr(e),e!==null)if(t=ne(e),t===null)e=null;else if(n=t.tag,n===13){if(e=ao(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return wo=e,null}function Du(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ws()){case vi:return 1;case yi:return 4;case Fn:case Hs:return 16;case go:return 536870912;default:return 16}default:return 16}}var Wn=null,Zs=null,So=null;function Tu(){if(So)return So;var e,t=Zs,n=t.length,s,u="value"in Wn?Wn.value:Wn.textContent,c=u.length;for(e=0;e<n&&t[e]===u[e];e++);var g=n-e;for(s=1;s<=g&&t[n-s]===u[c-s];s++);return So=u.slice(e,1<s?1-s:void 0)}function Co(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Eo(){return!0}function Nu(){return!1}function jt(e){function t(n,s,u,c,g){this._reactName=n,this._targetInst=u,this.type=s,this.nativeEvent=c,this.target=g,this.currentTarget=null;for(var y in e)e.hasOwnProperty(y)&&(n=e[y],this[y]=n?n(c):c[y]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?Eo:Nu,this.isPropagationStopped=Nu,this}return Q(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Eo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Eo)},persist:function(){},isPersistent:Eo}),t}var Ur={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Js=jt(Ur),_i=Q({},Ur,{view:0,detail:0}),$h=jt(_i),el,tl,Oi,xo=Q({},_i,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Oi&&(Oi&&e.type==="mousemove"?(el=e.screenX-Oi.screenX,tl=e.screenY-Oi.screenY):tl=el=0,Oi=e),el)},movementY:function(e){return"movementY"in e?e.movementY:tl}}),ju=jt(xo),zh=Q({},xo,{dataTransfer:0}),Uh=jt(zh),Bh=Q({},_i,{relatedTarget:0}),nl=jt(Bh),Wh=Q({},Ur,{animationName:0,elapsedTime:0,pseudoElement:0}),Hh=jt(Wh),Vh=Q({},Ur,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Kh=jt(Vh),qh=Q({},Ur,{data:0}),Pu=jt(qh),Qh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xh(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Yh[e])?!!t[e]:!1}function rl(){return Xh}var Zh=Q({},_i,{key:function(e){if(e.key){var t=Qh[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Co(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Gh[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rl,charCode:function(e){return e.type==="keypress"?Co(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Co(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Jh=jt(Zh),ep=Q({},xo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bu=jt(ep),tp=Q({},_i,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rl}),np=jt(tp),rp=Q({},Ur,{propertyName:0,elapsedTime:0,pseudoElement:0}),ip=jt(rp),op=Q({},xo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),sp=jt(op),lp=[9,13,27,32],il=d&&"CompositionEvent"in window,Di=null;d&&"documentMode"in document&&(Di=document.documentMode);var ap=d&&"TextEvent"in window&&!Di,Lu=d&&(!il||Di&&8<Di&&11>=Di),Mu=" ",Iu=!1;function Ru(e,t){switch(e){case"keyup":return lp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Au(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Br=!1;function up(e,t){switch(e){case"compositionend":return Au(t);case"keypress":return t.which!==32?null:(Iu=!0,Mu);case"textInput":return e=t.data,e===Mu&&Iu?null:e;default:return null}}function cp(e,t){if(Br)return e==="compositionend"||!il&&Ru(e,t)?(e=Tu(),So=Zs=Wn=null,Br=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Lu&&t.locale!=="ko"?null:t.data;default:return null}}var fp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!fp[e.type]:t==="textarea"}function $u(e,t,n,s){Rn(s),t=To(t,"onChange"),0<t.length&&(n=new Js("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var Ti=null,Ni=null;function dp(e){rc(e,0)}function ko(e){var t=qr(e);if(st(t))return e}function hp(e,t){if(e==="change")return t}var zu=!1;if(d){var ol;if(d){var sl="oninput"in document;if(!sl){var Uu=document.createElement("div");Uu.setAttribute("oninput","return;"),sl=typeof Uu.oninput=="function"}ol=sl}else ol=!1;zu=ol&&(!document.documentMode||9<document.documentMode)}function Bu(){Ti&&(Ti.detachEvent("onpropertychange",Wu),Ni=Ti=null)}function Wu(e){if(e.propertyName==="value"&&ko(Ni)){var t=[];$u(t,Ni,e,mn(e)),M(dp,t)}}function pp(e,t,n){e==="focusin"?(Bu(),Ti=t,Ni=n,Ti.attachEvent("onpropertychange",Wu)):e==="focusout"&&Bu()}function gp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ko(Ni)}function mp(e,t){if(e==="click")return ko(t)}function vp(e,t){if(e==="input"||e==="change")return ko(t)}function yp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Qt=typeof Object.is=="function"?Object.is:yp;function ji(e,t){if(Qt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var u=n[s];if(!m.call(t,u)||!Qt(e[u],t[u]))return!1}return!0}function Hu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Vu(e,t){var n=Hu(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Hu(n)}}function Ku(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ku(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function qu(){for(var e=window,t=Vt();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Vt(e.document)}return t}function ll(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function wp(e){var t=qu(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Ku(n.ownerDocument.documentElement,n)){if(s!==null&&ll(n)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var u=n.textContent.length,c=Math.min(s.start,u);s=s.end===void 0?c:Math.min(s.end,u),!e.extend&&c>s&&(u=s,s=c,c=u),u=Vu(n,c);var g=Vu(n,s);u&&g&&(e.rangeCount!==1||e.anchorNode!==u.node||e.anchorOffset!==u.offset||e.focusNode!==g.node||e.focusOffset!==g.offset)&&(t=t.createRange(),t.setStart(u.node,u.offset),e.removeAllRanges(),c>s?(e.addRange(t),e.extend(g.node,g.offset)):(t.setEnd(g.node,g.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Sp=d&&"documentMode"in document&&11>=document.documentMode,Wr=null,al=null,Pi=null,ul=!1;function Qu(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ul||Wr==null||Wr!==Vt(s)||(s=Wr,"selectionStart"in s&&ll(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Pi&&ji(Pi,s)||(Pi=s,s=To(al,"onSelect"),0<s.length&&(t=new Js("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=Wr)))}function _o(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Hr={animationend:_o("Animation","AnimationEnd"),animationiteration:_o("Animation","AnimationIteration"),animationstart:_o("Animation","AnimationStart"),transitionend:_o("Transition","TransitionEnd")},cl={},Gu={};d&&(Gu=document.createElement("div").style,"AnimationEvent"in window||(delete Hr.animationend.animation,delete Hr.animationiteration.animation,delete Hr.animationstart.animation),"TransitionEvent"in window||delete Hr.transitionend.transition);function Oo(e){if(cl[e])return cl[e];if(!Hr[e])return e;var t=Hr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Gu)return cl[e]=t[n];return e}var Yu=Oo("animationend"),Xu=Oo("animationiteration"),Zu=Oo("animationstart"),Ju=Oo("transitionend"),ec=new Map,tc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Hn(e,t){ec.set(e,t),f(t,[e])}for(var fl=0;fl<tc.length;fl++){var dl=tc[fl],Cp=dl.toLowerCase(),Ep=dl[0].toUpperCase()+dl.slice(1);Hn(Cp,"on"+Ep)}Hn(Yu,"onAnimationEnd"),Hn(Xu,"onAnimationIteration"),Hn(Zu,"onAnimationStart"),Hn("dblclick","onDoubleClick"),Hn("focusin","onFocus"),Hn("focusout","onBlur"),Hn(Ju,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),f("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),f("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),f("onBeforeInput",["compositionend","keypress","textInput","paste"]),f("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),f("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),f("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xp=new Set("cancel close invalid load scroll toggle".split(" ").concat(bi));function nc(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,lo(s,t,void 0,e),e.currentTarget=null}function rc(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],u=s.event;s=s.listeners;e:{var c=void 0;if(t)for(var g=s.length-1;0<=g;g--){var y=s[g],x=y.instance,L=y.currentTarget;if(y=y.listener,x!==c&&u.isPropagationStopped())break e;nc(u,y,L),c=x}else for(g=0;g<s.length;g++){if(y=s[g],x=y.instance,L=y.currentTarget,y=y.listener,x!==c&&u.isPropagationStopped())break e;nc(u,y,L),c=x}}}if(Be)throw e=at,Be=!1,at=null,e}function $e(e,t){var n=t[Sl];n===void 0&&(n=t[Sl]=new Set);var s=e+"__bubble";n.has(s)||(ic(t,e,2,!1),n.add(s))}function hl(e,t,n){var s=0;t&&(s|=4),ic(n,e,s,t)}var Do="_reactListening"+Math.random().toString(36).slice(2);function Li(e){if(!e[Do]){e[Do]=!0,l.forEach(function(n){n!=="selectionchange"&&(xp.has(n)||hl(n,!1,e),hl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Do]||(t[Do]=!0,hl("selectionchange",!1,t))}}function ic(e,t,n,s){switch(Du(t)){case 1:var u=Ah;break;case 4:u=Fh;break;default:u=Ys}n=u.bind(null,t,n,e),u=void 0,!lt||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),s?u!==void 0?e.addEventListener(t,n,{capture:!0,passive:u}):e.addEventListener(t,n,!0):u!==void 0?e.addEventListener(t,n,{passive:u}):e.addEventListener(t,n,!1)}function pl(e,t,n,s,u){var c=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var g=s.tag;if(g===3||g===4){var y=s.stateNode.containerInfo;if(y===u||y.nodeType===8&&y.parentNode===u)break;if(g===4)for(g=s.return;g!==null;){var x=g.tag;if((x===3||x===4)&&(x=g.stateNode.containerInfo,x===u||x.nodeType===8&&x.parentNode===u))return;g=g.return}for(;y!==null;){if(g=wr(y),g===null)return;if(x=g.tag,x===5||x===6){s=c=g;continue e}y=y.parentNode}}s=s.return}M(function(){var L=c,W=mn(n),H=[];e:{var z=ec.get(e);if(z!==void 0){var Z=Js,ee=e;switch(e){case"keypress":if(Co(n)===0)break e;case"keydown":case"keyup":Z=Jh;break;case"focusin":ee="focus",Z=nl;break;case"focusout":ee="blur",Z=nl;break;case"beforeblur":case"afterblur":Z=nl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=ju;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=Uh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=np;break;case Yu:case Xu:case Zu:Z=Hh;break;case Ju:Z=ip;break;case"scroll":Z=$h;break;case"wheel":Z=sp;break;case"copy":case"cut":case"paste":Z=Kh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=bu}var re=(t&4)!==0,Ye=!re&&e==="scroll",P=re?z!==null?z+"Capture":null:z;re=[];for(var O=L,b;O!==null;){b=O;var K=b.stateNode;if(b.tag===5&&K!==null&&(b=K,P!==null&&(K=Ct(O,P),K!=null&&re.push(Mi(O,K,b)))),Ye)break;O=O.return}0<re.length&&(z=new Z(z,ee,null,n,W),H.push({event:z,listeners:re}))}}if((t&7)===0){e:{if(z=e==="mouseover"||e==="pointerover",Z=e==="mouseout"||e==="pointerout",z&&n!==gr&&(ee=n.relatedTarget||n.fromElement)&&(wr(ee)||ee[wn]))break e;if((Z||z)&&(z=W.window===W?W:(z=W.ownerDocument)?z.defaultView||z.parentWindow:window,Z?(ee=n.relatedTarget||n.toElement,Z=L,ee=ee?wr(ee):null,ee!==null&&(Ye=ne(ee),ee!==Ye||ee.tag!==5&&ee.tag!==6)&&(ee=null)):(Z=null,ee=L),Z!==ee)){if(re=ju,K="onMouseLeave",P="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(re=bu,K="onPointerLeave",P="onPointerEnter",O="pointer"),Ye=Z==null?z:qr(Z),b=ee==null?z:qr(ee),z=new re(K,O+"leave",Z,n,W),z.target=Ye,z.relatedTarget=b,K=null,wr(W)===L&&(re=new re(P,O+"enter",ee,n,W),re.target=b,re.relatedTarget=Ye,K=re),Ye=K,Z&&ee)t:{for(re=Z,P=ee,O=0,b=re;b;b=Vr(b))O++;for(b=0,K=P;K;K=Vr(K))b++;for(;0<O-b;)re=Vr(re),O--;for(;0<b-O;)P=Vr(P),b--;for(;O--;){if(re===P||P!==null&&re===P.alternate)break t;re=Vr(re),P=Vr(P)}re=null}else re=null;Z!==null&&oc(H,z,Z,re,!1),ee!==null&&Ye!==null&&oc(H,Ye,ee,re,!0)}}e:{if(z=L?qr(L):window,Z=z.nodeName&&z.nodeName.toLowerCase(),Z==="select"||Z==="input"&&z.type==="file")var se=hp;else if(Fu(z))if(zu)se=vp;else{se=gp;var de=pp}else(Z=z.nodeName)&&Z.toLowerCase()==="input"&&(z.type==="checkbox"||z.type==="radio")&&(se=mp);if(se&&(se=se(e,L))){$u(H,se,n,W);break e}de&&de(e,z,L),e==="focusout"&&(de=z._wrapperState)&&de.controlled&&z.type==="number"&&hr(z,"number",z.value)}switch(de=L?qr(L):window,e){case"focusin":(Fu(de)||de.contentEditable==="true")&&(Wr=de,al=L,Pi=null);break;case"focusout":Pi=al=Wr=null;break;case"mousedown":ul=!0;break;case"contextmenu":case"mouseup":case"dragend":ul=!1,Qu(H,n,W);break;case"selectionchange":if(Sp)break;case"keydown":case"keyup":Qu(H,n,W)}var he;if(il)e:{switch(e){case"compositionstart":var ye="onCompositionStart";break e;case"compositionend":ye="onCompositionEnd";break e;case"compositionupdate":ye="onCompositionUpdate";break e}ye=void 0}else Br?Ru(e,n)&&(ye="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(ye="onCompositionStart");ye&&(Lu&&n.locale!=="ko"&&(Br||ye!=="onCompositionStart"?ye==="onCompositionEnd"&&Br&&(he=Tu()):(Wn=W,Zs="value"in Wn?Wn.value:Wn.textContent,Br=!0)),de=To(L,ye),0<de.length&&(ye=new Pu(ye,e,null,n,W),H.push({event:ye,listeners:de}),he?ye.data=he:(he=Au(n),he!==null&&(ye.data=he)))),(he=ap?up(e,n):cp(e,n))&&(L=To(L,"onBeforeInput"),0<L.length&&(W=new Pu("onBeforeInput","beforeinput",null,n,W),H.push({event:W,listeners:L}),W.data=he))}rc(H,t)})}function Mi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function To(e,t){for(var n=t+"Capture",s=[];e!==null;){var u=e,c=u.stateNode;u.tag===5&&c!==null&&(u=c,c=Ct(e,n),c!=null&&s.unshift(Mi(e,c,u)),c=Ct(e,t),c!=null&&s.push(Mi(e,c,u))),e=e.return}return s}function Vr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function oc(e,t,n,s,u){for(var c=t._reactName,g=[];n!==null&&n!==s;){var y=n,x=y.alternate,L=y.stateNode;if(x!==null&&x===s)break;y.tag===5&&L!==null&&(y=L,u?(x=Ct(n,c),x!=null&&g.unshift(Mi(n,x,y))):u||(x=Ct(n,c),x!=null&&g.push(Mi(n,x,y)))),n=n.return}g.length!==0&&e.push({event:t,listeners:g})}var kp=/\r\n?/g,_p=/\u0000|\uFFFD/g;function sc(e){return(typeof e=="string"?e:""+e).replace(kp,`
`).replace(_p,"")}function No(e,t,n){if(t=sc(t),sc(e)!==t&&n)throw Error(i(425))}function jo(){}var gl=null,ml=null;function vl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var yl=typeof setTimeout=="function"?setTimeout:void 0,Op=typeof clearTimeout=="function"?clearTimeout:void 0,lc=typeof Promise=="function"?Promise:void 0,Dp=typeof queueMicrotask=="function"?queueMicrotask:typeof lc<"u"?function(e){return lc.resolve(null).then(e).catch(Tp)}:yl;function Tp(e){setTimeout(function(){throw e})}function wl(e,t){var n=t,s=0;do{var u=n.nextSibling;if(e.removeChild(n),u&&u.nodeType===8)if(n=u.data,n==="/$"){if(s===0){e.removeChild(u),ki(t);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=u}while(n);ki(t)}function Vn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ac(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Kr=Math.random().toString(36).slice(2),on="__reactFiber$"+Kr,Ii="__reactProps$"+Kr,wn="__reactContainer$"+Kr,Sl="__reactEvents$"+Kr,Np="__reactListeners$"+Kr,jp="__reactHandles$"+Kr;function wr(e){var t=e[on];if(t)return t;for(var n=e.parentNode;n;){if(t=n[wn]||n[on]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ac(e);e!==null;){if(n=e[on])return n;e=ac(e)}return t}e=n,n=e.parentNode}return null}function Ri(e){return e=e[on]||e[wn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function qr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(i(33))}function Po(e){return e[Ii]||null}var Cl=[],Qr=-1;function Kn(e){return{current:e}}function ze(e){0>Qr||(e.current=Cl[Qr],Cl[Qr]=null,Qr--)}function Ae(e,t){Qr++,Cl[Qr]=e.current,e.current=t}var qn={},pt=Kn(qn),Et=Kn(!1),Sr=qn;function Gr(e,t){var n=e.type.contextTypes;if(!n)return qn;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var u={},c;for(c in n)u[c]=t[c];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=u),u}function xt(e){return e=e.childContextTypes,e!=null}function bo(){ze(Et),ze(pt)}function uc(e,t,n){if(pt.current!==qn)throw Error(i(168));Ae(pt,t),Ae(Et,n)}function cc(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var u in s)if(!(u in t))throw Error(i(108,Y(e)||"Unknown",u));return Q({},n,s)}function Lo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||qn,Sr=pt.current,Ae(pt,e),Ae(Et,Et.current),!0}function fc(e,t,n){var s=e.stateNode;if(!s)throw Error(i(169));n?(e=cc(e,t,Sr),s.__reactInternalMemoizedMergedChildContext=e,ze(Et),ze(pt),Ae(pt,e)):ze(Et),Ae(Et,n)}var Sn=null,Mo=!1,El=!1;function dc(e){Sn===null?Sn=[e]:Sn.push(e)}function Pp(e){Mo=!0,dc(e)}function Qn(){if(!El&&Sn!==null){El=!0;var e=0,t=Re;try{var n=Sn;for(Re=1;e<n.length;e++){var s=n[e];do s=s(!0);while(s!==null)}Sn=null,Mo=!1}catch(u){throw Sn!==null&&(Sn=Sn.slice(e+1)),co(vi,Qn),u}finally{Re=t,El=!1}}return null}var Yr=[],Xr=0,Io=null,Ro=0,At=[],Ft=0,Cr=null,Cn=1,En="";function Er(e,t){Yr[Xr++]=Ro,Yr[Xr++]=Io,Io=e,Ro=t}function hc(e,t,n){At[Ft++]=Cn,At[Ft++]=En,At[Ft++]=Cr,Cr=e;var s=Cn;e=En;var u=32-N(s)-1;s&=~(1<<u),n+=1;var c=32-N(t)+u;if(30<c){var g=u-u%5;c=(s&(1<<g)-1).toString(32),s>>=g,u-=g,Cn=1<<32-N(t)+u|n<<u|s,En=c+e}else Cn=1<<c|n<<u|s,En=e}function xl(e){e.return!==null&&(Er(e,1),hc(e,1,0))}function kl(e){for(;e===Io;)Io=Yr[--Xr],Yr[Xr]=null,Ro=Yr[--Xr],Yr[Xr]=null;for(;e===Cr;)Cr=At[--Ft],At[Ft]=null,En=At[--Ft],At[Ft]=null,Cn=At[--Ft],At[Ft]=null}var Pt=null,bt=null,We=!1,Gt=null;function pc(e,t){var n=Bt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function gc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Pt=e,bt=Vn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Pt=e,bt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Cr!==null?{id:Cn,overflow:En}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Bt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Pt=e,bt=null,!0):!1;default:return!1}}function _l(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ol(e){if(We){var t=bt;if(t){var n=t;if(!gc(e,t)){if(_l(e))throw Error(i(418));t=Vn(n.nextSibling);var s=Pt;t&&gc(e,t)?pc(s,n):(e.flags=e.flags&-4097|2,We=!1,Pt=e)}}else{if(_l(e))throw Error(i(418));e.flags=e.flags&-4097|2,We=!1,Pt=e}}}function mc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Pt=e}function Ao(e){if(e!==Pt)return!1;if(!We)return mc(e),We=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!vl(e.type,e.memoizedProps)),t&&(t=bt)){if(_l(e))throw vc(),Error(i(418));for(;t;)pc(e,t),t=Vn(t.nextSibling)}if(mc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){bt=Vn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}bt=null}}else bt=Pt?Vn(e.stateNode.nextSibling):null;return!0}function vc(){for(var e=bt;e;)e=Vn(e.nextSibling)}function Zr(){bt=Pt=null,We=!1}function Dl(e){Gt===null?Gt=[e]:Gt.push(e)}var bp=V.ReactCurrentBatchConfig;function Ai(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(i(309));var s=n.stateNode}if(!s)throw Error(i(147,e));var u=s,c=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===c?t.ref:(t=function(g){var y=u.refs;g===null?delete y[c]:y[c]=g},t._stringRef=c,t)}if(typeof e!="string")throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function Fo(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function yc(e){var t=e._init;return t(e._payload)}function wc(e){function t(P,O){if(e){var b=P.deletions;b===null?(P.deletions=[O],P.flags|=16):b.push(O)}}function n(P,O){if(!e)return null;for(;O!==null;)t(P,O),O=O.sibling;return null}function s(P,O){for(P=new Map;O!==null;)O.key!==null?P.set(O.key,O):P.set(O.index,O),O=O.sibling;return P}function u(P,O){return P=nr(P,O),P.index=0,P.sibling=null,P}function c(P,O,b){return P.index=b,e?(b=P.alternate,b!==null?(b=b.index,b<O?(P.flags|=2,O):b):(P.flags|=2,O)):(P.flags|=1048576,O)}function g(P){return e&&P.alternate===null&&(P.flags|=2),P}function y(P,O,b,K){return O===null||O.tag!==6?(O=ya(b,P.mode,K),O.return=P,O):(O=u(O,b),O.return=P,O)}function x(P,O,b,K){var se=b.type;return se===X?W(P,O,b.props.children,K,b.key):O!==null&&(O.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===Pe&&yc(se)===O.type)?(K=u(O,b.props),K.ref=Ai(P,O,b),K.return=P,K):(K=as(b.type,b.key,b.props,null,P.mode,K),K.ref=Ai(P,O,b),K.return=P,K)}function L(P,O,b,K){return O===null||O.tag!==4||O.stateNode.containerInfo!==b.containerInfo||O.stateNode.implementation!==b.implementation?(O=wa(b,P.mode,K),O.return=P,O):(O=u(O,b.children||[]),O.return=P,O)}function W(P,O,b,K,se){return O===null||O.tag!==7?(O=jr(b,P.mode,K,se),O.return=P,O):(O=u(O,b),O.return=P,O)}function H(P,O,b){if(typeof O=="string"&&O!==""||typeof O=="number")return O=ya(""+O,P.mode,b),O.return=P,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case ce:return b=as(O.type,O.key,O.props,null,P.mode,b),b.ref=Ai(P,null,O),b.return=P,b;case fe:return O=wa(O,P.mode,b),O.return=P,O;case Pe:var K=O._init;return H(P,K(O._payload),b)}if(en(O)||ie(O))return O=jr(O,P.mode,b,null),O.return=P,O;Fo(P,O)}return null}function z(P,O,b,K){var se=O!==null?O.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return se!==null?null:y(P,O,""+b,K);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case ce:return b.key===se?x(P,O,b,K):null;case fe:return b.key===se?L(P,O,b,K):null;case Pe:return se=b._init,z(P,O,se(b._payload),K)}if(en(b)||ie(b))return se!==null?null:W(P,O,b,K,null);Fo(P,b)}return null}function Z(P,O,b,K,se){if(typeof K=="string"&&K!==""||typeof K=="number")return P=P.get(b)||null,y(O,P,""+K,se);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case ce:return P=P.get(K.key===null?b:K.key)||null,x(O,P,K,se);case fe:return P=P.get(K.key===null?b:K.key)||null,L(O,P,K,se);case Pe:var de=K._init;return Z(P,O,b,de(K._payload),se)}if(en(K)||ie(K))return P=P.get(b)||null,W(O,P,K,se,null);Fo(O,K)}return null}function ee(P,O,b,K){for(var se=null,de=null,he=O,ye=O=0,it=null;he!==null&&ye<b.length;ye++){he.index>ye?(it=he,he=null):it=he.sibling;var Le=z(P,he,b[ye],K);if(Le===null){he===null&&(he=it);break}e&&he&&Le.alternate===null&&t(P,he),O=c(Le,O,ye),de===null?se=Le:de.sibling=Le,de=Le,he=it}if(ye===b.length)return n(P,he),We&&Er(P,ye),se;if(he===null){for(;ye<b.length;ye++)he=H(P,b[ye],K),he!==null&&(O=c(he,O,ye),de===null?se=he:de.sibling=he,de=he);return We&&Er(P,ye),se}for(he=s(P,he);ye<b.length;ye++)it=Z(he,P,ye,b[ye],K),it!==null&&(e&&it.alternate!==null&&he.delete(it.key===null?ye:it.key),O=c(it,O,ye),de===null?se=it:de.sibling=it,de=it);return e&&he.forEach(function(rr){return t(P,rr)}),We&&Er(P,ye),se}function re(P,O,b,K){var se=ie(b);if(typeof se!="function")throw Error(i(150));if(b=se.call(b),b==null)throw Error(i(151));for(var de=se=null,he=O,ye=O=0,it=null,Le=b.next();he!==null&&!Le.done;ye++,Le=b.next()){he.index>ye?(it=he,he=null):it=he.sibling;var rr=z(P,he,Le.value,K);if(rr===null){he===null&&(he=it);break}e&&he&&rr.alternate===null&&t(P,he),O=c(rr,O,ye),de===null?se=rr:de.sibling=rr,de=rr,he=it}if(Le.done)return n(P,he),We&&Er(P,ye),se;if(he===null){for(;!Le.done;ye++,Le=b.next())Le=H(P,Le.value,K),Le!==null&&(O=c(Le,O,ye),de===null?se=Le:de.sibling=Le,de=Le);return We&&Er(P,ye),se}for(he=s(P,he);!Le.done;ye++,Le=b.next())Le=Z(he,P,ye,Le.value,K),Le!==null&&(e&&Le.alternate!==null&&he.delete(Le.key===null?ye:Le.key),O=c(Le,O,ye),de===null?se=Le:de.sibling=Le,de=Le);return e&&he.forEach(function(f0){return t(P,f0)}),We&&Er(P,ye),se}function Ye(P,O,b,K){if(typeof b=="object"&&b!==null&&b.type===X&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case ce:e:{for(var se=b.key,de=O;de!==null;){if(de.key===se){if(se=b.type,se===X){if(de.tag===7){n(P,de.sibling),O=u(de,b.props.children),O.return=P,P=O;break e}}else if(de.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===Pe&&yc(se)===de.type){n(P,de.sibling),O=u(de,b.props),O.ref=Ai(P,de,b),O.return=P,P=O;break e}n(P,de);break}else t(P,de);de=de.sibling}b.type===X?(O=jr(b.props.children,P.mode,K,b.key),O.return=P,P=O):(K=as(b.type,b.key,b.props,null,P.mode,K),K.ref=Ai(P,O,b),K.return=P,P=K)}return g(P);case fe:e:{for(de=b.key;O!==null;){if(O.key===de)if(O.tag===4&&O.stateNode.containerInfo===b.containerInfo&&O.stateNode.implementation===b.implementation){n(P,O.sibling),O=u(O,b.children||[]),O.return=P,P=O;break e}else{n(P,O);break}else t(P,O);O=O.sibling}O=wa(b,P.mode,K),O.return=P,P=O}return g(P);case Pe:return de=b._init,Ye(P,O,de(b._payload),K)}if(en(b))return ee(P,O,b,K);if(ie(b))return re(P,O,b,K);Fo(P,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,O!==null&&O.tag===6?(n(P,O.sibling),O=u(O,b),O.return=P,P=O):(n(P,O),O=ya(b,P.mode,K),O.return=P,P=O),g(P)):n(P,O)}return Ye}var Jr=wc(!0),Sc=wc(!1),$o=Kn(null),zo=null,ei=null,Tl=null;function Nl(){Tl=ei=zo=null}function jl(e){var t=$o.current;ze($o),e._currentValue=t}function Pl(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function ti(e,t){zo=e,Tl=ei=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(kt=!0),e.firstContext=null)}function $t(e){var t=e._currentValue;if(Tl!==e)if(e={context:e,memoizedValue:t,next:null},ei===null){if(zo===null)throw Error(i(308));ei=e,zo.dependencies={lanes:0,firstContext:e}}else ei=ei.next=e;return t}var xr=null;function bl(e){xr===null?xr=[e]:xr.push(e)}function Cc(e,t,n,s){var u=t.interleaved;return u===null?(n.next=n,bl(t)):(n.next=u.next,u.next=n),t.interleaved=n,xn(e,s)}function xn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Gn=!1;function Ll(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ec(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function kn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Yn(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(be&2)!==0){var u=s.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),s.pending=t,xn(e,n)}return u=s.interleaved,u===null?(t.next=t,bl(s)):(t.next=u.next,u.next=t),s.interleaved=t,xn(e,n)}function Uo(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,qs(e,n)}}function xc(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var u=null,c=null;if(n=n.firstBaseUpdate,n!==null){do{var g={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};c===null?u=c=g:c=c.next=g,n=n.next}while(n!==null);c===null?u=c=t:c=c.next=t}else u=c=t;n={baseState:s.baseState,firstBaseUpdate:u,lastBaseUpdate:c,shared:s.shared,effects:s.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Bo(e,t,n,s){var u=e.updateQueue;Gn=!1;var c=u.firstBaseUpdate,g=u.lastBaseUpdate,y=u.shared.pending;if(y!==null){u.shared.pending=null;var x=y,L=x.next;x.next=null,g===null?c=L:g.next=L,g=x;var W=e.alternate;W!==null&&(W=W.updateQueue,y=W.lastBaseUpdate,y!==g&&(y===null?W.firstBaseUpdate=L:y.next=L,W.lastBaseUpdate=x))}if(c!==null){var H=u.baseState;g=0,W=L=x=null,y=c;do{var z=y.lane,Z=y.eventTime;if((s&z)===z){W!==null&&(W=W.next={eventTime:Z,lane:0,tag:y.tag,payload:y.payload,callback:y.callback,next:null});e:{var ee=e,re=y;switch(z=t,Z=n,re.tag){case 1:if(ee=re.payload,typeof ee=="function"){H=ee.call(Z,H,z);break e}H=ee;break e;case 3:ee.flags=ee.flags&-65537|128;case 0:if(ee=re.payload,z=typeof ee=="function"?ee.call(Z,H,z):ee,z==null)break e;H=Q({},H,z);break e;case 2:Gn=!0}}y.callback!==null&&y.lane!==0&&(e.flags|=64,z=u.effects,z===null?u.effects=[y]:z.push(y))}else Z={eventTime:Z,lane:z,tag:y.tag,payload:y.payload,callback:y.callback,next:null},W===null?(L=W=Z,x=H):W=W.next=Z,g|=z;if(y=y.next,y===null){if(y=u.shared.pending,y===null)break;z=y,y=z.next,z.next=null,u.lastBaseUpdate=z,u.shared.pending=null}}while(!0);if(W===null&&(x=H),u.baseState=x,u.firstBaseUpdate=L,u.lastBaseUpdate=W,t=u.shared.interleaved,t!==null){u=t;do g|=u.lane,u=u.next;while(u!==t)}else c===null&&(u.shared.lanes=0);Or|=g,e.lanes=g,e.memoizedState=H}}function kc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],u=s.callback;if(u!==null){if(s.callback=null,s=n,typeof u!="function")throw Error(i(191,u));u.call(s)}}}var Fi={},sn=Kn(Fi),$i=Kn(Fi),zi=Kn(Fi);function kr(e){if(e===Fi)throw Error(i(174));return e}function Ml(e,t){switch(Ae(zi,t),Ae($i,e),Ae(sn,Fi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:qt(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=qt(t,e)}ze(sn),Ae(sn,t)}function ni(){ze(sn),ze($i),ze(zi)}function _c(e){kr(zi.current);var t=kr(sn.current),n=qt(t,e.type);t!==n&&(Ae($i,e),Ae(sn,n))}function Il(e){$i.current===e&&(ze(sn),ze($i))}var Ke=Kn(0);function Wo(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Rl=[];function Al(){for(var e=0;e<Rl.length;e++)Rl[e]._workInProgressVersionPrimary=null;Rl.length=0}var Ho=V.ReactCurrentDispatcher,Fl=V.ReactCurrentBatchConfig,_r=0,qe=null,Je=null,nt=null,Vo=!1,Ui=!1,Bi=0,Lp=0;function gt(){throw Error(i(321))}function $l(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Qt(e[n],t[n]))return!1;return!0}function zl(e,t,n,s,u,c){if(_r=c,qe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ho.current=e===null||e.memoizedState===null?Ap:Fp,e=n(s,u),Ui){c=0;do{if(Ui=!1,Bi=0,25<=c)throw Error(i(301));c+=1,nt=Je=null,t.updateQueue=null,Ho.current=$p,e=n(s,u)}while(Ui)}if(Ho.current=Qo,t=Je!==null&&Je.next!==null,_r=0,nt=Je=qe=null,Vo=!1,t)throw Error(i(300));return e}function Ul(){var e=Bi!==0;return Bi=0,e}function ln(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nt===null?qe.memoizedState=nt=e:nt=nt.next=e,nt}function zt(){if(Je===null){var e=qe.alternate;e=e!==null?e.memoizedState:null}else e=Je.next;var t=nt===null?qe.memoizedState:nt.next;if(t!==null)nt=t,Je=e;else{if(e===null)throw Error(i(310));Je=e,e={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},nt===null?qe.memoizedState=nt=e:nt=nt.next=e}return nt}function Wi(e,t){return typeof t=="function"?t(e):t}function Bl(e){var t=zt(),n=t.queue;if(n===null)throw Error(i(311));n.lastRenderedReducer=e;var s=Je,u=s.baseQueue,c=n.pending;if(c!==null){if(u!==null){var g=u.next;u.next=c.next,c.next=g}s.baseQueue=u=c,n.pending=null}if(u!==null){c=u.next,s=s.baseState;var y=g=null,x=null,L=c;do{var W=L.lane;if((_r&W)===W)x!==null&&(x=x.next={lane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),s=L.hasEagerState?L.eagerState:e(s,L.action);else{var H={lane:W,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null};x===null?(y=x=H,g=s):x=x.next=H,qe.lanes|=W,Or|=W}L=L.next}while(L!==null&&L!==c);x===null?g=s:x.next=y,Qt(s,t.memoizedState)||(kt=!0),t.memoizedState=s,t.baseState=g,t.baseQueue=x,n.lastRenderedState=s}if(e=n.interleaved,e!==null){u=e;do c=u.lane,qe.lanes|=c,Or|=c,u=u.next;while(u!==e)}else u===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Wl(e){var t=zt(),n=t.queue;if(n===null)throw Error(i(311));n.lastRenderedReducer=e;var s=n.dispatch,u=n.pending,c=t.memoizedState;if(u!==null){n.pending=null;var g=u=u.next;do c=e(c,g.action),g=g.next;while(g!==u);Qt(c,t.memoizedState)||(kt=!0),t.memoizedState=c,t.baseQueue===null&&(t.baseState=c),n.lastRenderedState=c}return[c,s]}function Oc(){}function Dc(e,t){var n=qe,s=zt(),u=t(),c=!Qt(s.memoizedState,u);if(c&&(s.memoizedState=u,kt=!0),s=s.queue,Hl(jc.bind(null,n,s,e),[e]),s.getSnapshot!==t||c||nt!==null&&nt.memoizedState.tag&1){if(n.flags|=2048,Hi(9,Nc.bind(null,n,s,u,t),void 0,null),rt===null)throw Error(i(349));(_r&30)!==0||Tc(n,t,u)}return u}function Tc(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=qe.updateQueue,t===null?(t={lastEffect:null,stores:null},qe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Nc(e,t,n,s){t.value=n,t.getSnapshot=s,Pc(t)&&bc(e)}function jc(e,t,n){return n(function(){Pc(t)&&bc(e)})}function Pc(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Qt(e,n)}catch{return!0}}function bc(e){var t=xn(e,1);t!==null&&Jt(t,e,1,-1)}function Lc(e){var t=ln();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:e},t.queue=e,e=e.dispatch=Rp.bind(null,qe,e),[t.memoizedState,e]}function Hi(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},t=qe.updateQueue,t===null?(t={lastEffect:null,stores:null},qe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e)),e}function Mc(){return zt().memoizedState}function Ko(e,t,n,s){var u=ln();qe.flags|=e,u.memoizedState=Hi(1|t,n,void 0,s===void 0?null:s)}function qo(e,t,n,s){var u=zt();s=s===void 0?null:s;var c=void 0;if(Je!==null){var g=Je.memoizedState;if(c=g.destroy,s!==null&&$l(s,g.deps)){u.memoizedState=Hi(t,n,c,s);return}}qe.flags|=e,u.memoizedState=Hi(1|t,n,c,s)}function Ic(e,t){return Ko(8390656,8,e,t)}function Hl(e,t){return qo(2048,8,e,t)}function Rc(e,t){return qo(4,2,e,t)}function Ac(e,t){return qo(4,4,e,t)}function Fc(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function $c(e,t,n){return n=n!=null?n.concat([e]):null,qo(4,4,Fc.bind(null,t,e),n)}function Vl(){}function zc(e,t){var n=zt();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&$l(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function Uc(e,t){var n=zt();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&$l(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function Bc(e,t,n){return(_r&21)===0?(e.baseState&&(e.baseState=!1,kt=!0),e.memoizedState=n):(Qt(n,t)||(n=yu(),qe.lanes|=n,Or|=n,e.baseState=!0),t)}function Mp(e,t){var n=Re;Re=n!==0&&4>n?n:4,e(!0);var s=Fl.transition;Fl.transition={};try{e(!1),t()}finally{Re=n,Fl.transition=s}}function Wc(){return zt().memoizedState}function Ip(e,t,n){var s=er(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},Hc(e))Vc(t,n);else if(n=Cc(e,t,n,s),n!==null){var u=St();Jt(n,e,s,u),Kc(n,t,s)}}function Rp(e,t,n){var s=er(e),u={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(Hc(e))Vc(t,u);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=t.lastRenderedReducer,c!==null))try{var g=t.lastRenderedState,y=c(g,n);if(u.hasEagerState=!0,u.eagerState=y,Qt(y,g)){var x=t.interleaved;x===null?(u.next=u,bl(t)):(u.next=x.next,x.next=u),t.interleaved=u;return}}catch{}finally{}n=Cc(e,t,u,s),n!==null&&(u=St(),Jt(n,e,s,u),Kc(n,t,s))}}function Hc(e){var t=e.alternate;return e===qe||t!==null&&t===qe}function Vc(e,t){Ui=Vo=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Kc(e,t,n){if((n&4194240)!==0){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,qs(e,n)}}var Qo={readContext:$t,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useInsertionEffect:gt,useLayoutEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useMutableSource:gt,useSyncExternalStore:gt,useId:gt,unstable_isNewReconciler:!1},Ap={readContext:$t,useCallback:function(e,t){return ln().memoizedState=[e,t===void 0?null:t],e},useContext:$t,useEffect:Ic,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ko(4194308,4,Fc.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ko(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ko(4,2,e,t)},useMemo:function(e,t){var n=ln();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=ln();return t=n!==void 0?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=Ip.bind(null,qe,e),[s.memoizedState,e]},useRef:function(e){var t=ln();return e={current:e},t.memoizedState=e},useState:Lc,useDebugValue:Vl,useDeferredValue:function(e){return ln().memoizedState=e},useTransition:function(){var e=Lc(!1),t=e[0];return e=Mp.bind(null,e[1]),ln().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=qe,u=ln();if(We){if(n===void 0)throw Error(i(407));n=n()}else{if(n=t(),rt===null)throw Error(i(349));(_r&30)!==0||Tc(s,t,n)}u.memoizedState=n;var c={value:n,getSnapshot:t};return u.queue=c,Ic(jc.bind(null,s,c,e),[e]),s.flags|=2048,Hi(9,Nc.bind(null,s,c,n,t),void 0,null),n},useId:function(){var e=ln(),t=rt.identifierPrefix;if(We){var n=En,s=Cn;n=(s&~(1<<32-N(s)-1)).toString(32)+n,t=":"+t+"R"+n,n=Bi++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Lp++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Fp={readContext:$t,useCallback:zc,useContext:$t,useEffect:Hl,useImperativeHandle:$c,useInsertionEffect:Rc,useLayoutEffect:Ac,useMemo:Uc,useReducer:Bl,useRef:Mc,useState:function(){return Bl(Wi)},useDebugValue:Vl,useDeferredValue:function(e){var t=zt();return Bc(t,Je.memoizedState,e)},useTransition:function(){var e=Bl(Wi)[0],t=zt().memoizedState;return[e,t]},useMutableSource:Oc,useSyncExternalStore:Dc,useId:Wc,unstable_isNewReconciler:!1},$p={readContext:$t,useCallback:zc,useContext:$t,useEffect:Hl,useImperativeHandle:$c,useInsertionEffect:Rc,useLayoutEffect:Ac,useMemo:Uc,useReducer:Wl,useRef:Mc,useState:function(){return Wl(Wi)},useDebugValue:Vl,useDeferredValue:function(e){var t=zt();return Je===null?t.memoizedState=e:Bc(t,Je.memoizedState,e)},useTransition:function(){var e=Wl(Wi)[0],t=zt().memoizedState;return[e,t]},useMutableSource:Oc,useSyncExternalStore:Dc,useId:Wc,unstable_isNewReconciler:!1};function Yt(e,t){if(e&&e.defaultProps){t=Q({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Kl(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:Q({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Go={isMounted:function(e){return(e=e._reactInternals)?ne(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=St(),u=er(e),c=kn(s,u);c.payload=t,n!=null&&(c.callback=n),t=Yn(e,c,u),t!==null&&(Jt(t,e,u,s),Uo(t,e,u))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=St(),u=er(e),c=kn(s,u);c.tag=1,c.payload=t,n!=null&&(c.callback=n),t=Yn(e,c,u),t!==null&&(Jt(t,e,u,s),Uo(t,e,u))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=St(),s=er(e),u=kn(n,s);u.tag=2,t!=null&&(u.callback=t),t=Yn(e,u,s),t!==null&&(Jt(t,e,s,n),Uo(t,e,s))}};function qc(e,t,n,s,u,c,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,c,g):t.prototype&&t.prototype.isPureReactComponent?!ji(n,s)||!ji(u,c):!0}function Qc(e,t,n){var s=!1,u=qn,c=t.contextType;return typeof c=="object"&&c!==null?c=$t(c):(u=xt(t)?Sr:pt.current,s=t.contextTypes,c=(s=s!=null)?Gr(e,u):qn),t=new t(n,c),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Go,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=u,e.__reactInternalMemoizedMaskedChildContext=c),t}function Gc(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&Go.enqueueReplaceState(t,t.state,null)}function ql(e,t,n,s){var u=e.stateNode;u.props=n,u.state=e.memoizedState,u.refs={},Ll(e);var c=t.contextType;typeof c=="object"&&c!==null?u.context=$t(c):(c=xt(t)?Sr:pt.current,u.context=Gr(e,c)),u.state=e.memoizedState,c=t.getDerivedStateFromProps,typeof c=="function"&&(Kl(e,t,c,n),u.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(t=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),t!==u.state&&Go.enqueueReplaceState(u,u.state,null),Bo(e,n,u,s),u.state=e.memoizedState),typeof u.componentDidMount=="function"&&(e.flags|=4194308)}function ri(e,t){try{var n="",s=t;do n+=ae(s),s=s.return;while(s);var u=n}catch(c){u=`
Error generating stack: `+c.message+`
`+c.stack}return{value:e,source:t,stack:u,digest:null}}function Ql(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Gl(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var zp=typeof WeakMap=="function"?WeakMap:Map;function Yc(e,t,n){n=kn(-1,n),n.tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){ns||(ns=!0,ca=s),Gl(e,t)},n}function Xc(e,t,n){n=kn(-1,n),n.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var u=t.value;n.payload=function(){return s(u)},n.callback=function(){Gl(e,t)}}var c=e.stateNode;return c!==null&&typeof c.componentDidCatch=="function"&&(n.callback=function(){Gl(e,t),typeof s!="function"&&(Zn===null?Zn=new Set([this]):Zn.add(this));var g=t.stack;this.componentDidCatch(t.value,{componentStack:g!==null?g:""})}),n}function Zc(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new zp;var u=new Set;s.set(t,u)}else u=s.get(t),u===void 0&&(u=new Set,s.set(t,u));u.has(n)||(u.add(n),e=e0.bind(null,e,t,n),t.then(e,e))}function Jc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ef(e,t,n,s,u){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=kn(-1,1),t.tag=2,Yn(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=u,e)}var Up=V.ReactCurrentOwner,kt=!1;function wt(e,t,n,s){t.child=e===null?Sc(t,null,n,s):Jr(t,e.child,n,s)}function tf(e,t,n,s,u){n=n.render;var c=t.ref;return ti(t,u),s=zl(e,t,n,s,c,u),n=Ul(),e!==null&&!kt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~u,_n(e,t,u)):(We&&n&&xl(t),t.flags|=1,wt(e,t,s,u),t.child)}function nf(e,t,n,s,u){if(e===null){var c=n.type;return typeof c=="function"&&!va(c)&&c.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=c,rf(e,t,c,s,u)):(e=as(n.type,null,s,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(c=e.child,(e.lanes&u)===0){var g=c.memoizedProps;if(n=n.compare,n=n!==null?n:ji,n(g,s)&&e.ref===t.ref)return _n(e,t,u)}return t.flags|=1,e=nr(c,s),e.ref=t.ref,e.return=t,t.child=e}function rf(e,t,n,s,u){if(e!==null){var c=e.memoizedProps;if(ji(c,s)&&e.ref===t.ref)if(kt=!1,t.pendingProps=s=c,(e.lanes&u)!==0)(e.flags&131072)!==0&&(kt=!0);else return t.lanes=e.lanes,_n(e,t,u)}return Yl(e,t,n,s,u)}function of(e,t,n){var s=t.pendingProps,u=s.children,c=e!==null?e.memoizedState:null;if(s.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ae(oi,Lt),Lt|=n;else{if((n&1073741824)===0)return e=c!==null?c.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ae(oi,Lt),Lt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=c!==null?c.baseLanes:n,Ae(oi,Lt),Lt|=s}else c!==null?(s=c.baseLanes|n,t.memoizedState=null):s=n,Ae(oi,Lt),Lt|=s;return wt(e,t,u,n),t.child}function sf(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Yl(e,t,n,s,u){var c=xt(n)?Sr:pt.current;return c=Gr(t,c),ti(t,u),n=zl(e,t,n,s,c,u),s=Ul(),e!==null&&!kt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~u,_n(e,t,u)):(We&&s&&xl(t),t.flags|=1,wt(e,t,n,u),t.child)}function lf(e,t,n,s,u){if(xt(n)){var c=!0;Lo(t)}else c=!1;if(ti(t,u),t.stateNode===null)Xo(e,t),Qc(t,n,s),ql(t,n,s,u),s=!0;else if(e===null){var g=t.stateNode,y=t.memoizedProps;g.props=y;var x=g.context,L=n.contextType;typeof L=="object"&&L!==null?L=$t(L):(L=xt(n)?Sr:pt.current,L=Gr(t,L));var W=n.getDerivedStateFromProps,H=typeof W=="function"||typeof g.getSnapshotBeforeUpdate=="function";H||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(y!==s||x!==L)&&Gc(t,g,s,L),Gn=!1;var z=t.memoizedState;g.state=z,Bo(t,s,g,u),x=t.memoizedState,y!==s||z!==x||Et.current||Gn?(typeof W=="function"&&(Kl(t,n,W,s),x=t.memoizedState),(y=Gn||qc(t,n,y,s,z,x,L))?(H||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(t.flags|=4194308)):(typeof g.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=x),g.props=s,g.state=x,g.context=L,s=y):(typeof g.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{g=t.stateNode,Ec(e,t),y=t.memoizedProps,L=t.type===t.elementType?y:Yt(t.type,y),g.props=L,H=t.pendingProps,z=g.context,x=n.contextType,typeof x=="object"&&x!==null?x=$t(x):(x=xt(n)?Sr:pt.current,x=Gr(t,x));var Z=n.getDerivedStateFromProps;(W=typeof Z=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(y!==H||z!==x)&&Gc(t,g,s,x),Gn=!1,z=t.memoizedState,g.state=z,Bo(t,s,g,u);var ee=t.memoizedState;y!==H||z!==ee||Et.current||Gn?(typeof Z=="function"&&(Kl(t,n,Z,s),ee=t.memoizedState),(L=Gn||qc(t,n,L,s,z,ee,x)||!1)?(W||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(s,ee,x),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(s,ee,x)),typeof g.componentDidUpdate=="function"&&(t.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof g.componentDidUpdate!="function"||y===e.memoizedProps&&z===e.memoizedState||(t.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&z===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=ee),g.props=s,g.state=ee,g.context=x,s=L):(typeof g.componentDidUpdate!="function"||y===e.memoizedProps&&z===e.memoizedState||(t.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&z===e.memoizedState||(t.flags|=1024),s=!1)}return Xl(e,t,n,s,c,u)}function Xl(e,t,n,s,u,c){sf(e,t);var g=(t.flags&128)!==0;if(!s&&!g)return u&&fc(t,n,!1),_n(e,t,c);s=t.stateNode,Up.current=t;var y=g&&typeof n.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&g?(t.child=Jr(t,e.child,null,c),t.child=Jr(t,null,y,c)):wt(e,t,y,c),t.memoizedState=s.state,u&&fc(t,n,!0),t.child}function af(e){var t=e.stateNode;t.pendingContext?uc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&uc(e,t.context,!1),Ml(e,t.containerInfo)}function uf(e,t,n,s,u){return Zr(),Dl(u),t.flags|=256,wt(e,t,n,s),t.child}var Zl={dehydrated:null,treeContext:null,retryLane:0};function Jl(e){return{baseLanes:e,cachePool:null,transitions:null}}function cf(e,t,n){var s=t.pendingProps,u=Ke.current,c=!1,g=(t.flags&128)!==0,y;if((y=g)||(y=e!==null&&e.memoizedState===null?!1:(u&2)!==0),y?(c=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(u|=1),Ae(Ke,u&1),e===null)return Ol(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(g=s.children,e=s.fallback,c?(s=t.mode,c=t.child,g={mode:"hidden",children:g},(s&1)===0&&c!==null?(c.childLanes=0,c.pendingProps=g):c=us(g,s,0,null),e=jr(e,s,n,null),c.return=t,e.return=t,c.sibling=e,t.child=c,t.child.memoizedState=Jl(n),t.memoizedState=Zl,e):ea(t,g));if(u=e.memoizedState,u!==null&&(y=u.dehydrated,y!==null))return Bp(e,t,g,s,y,u,n);if(c){c=s.fallback,g=t.mode,u=e.child,y=u.sibling;var x={mode:"hidden",children:s.children};return(g&1)===0&&t.child!==u?(s=t.child,s.childLanes=0,s.pendingProps=x,t.deletions=null):(s=nr(u,x),s.subtreeFlags=u.subtreeFlags&14680064),y!==null?c=nr(y,c):(c=jr(c,g,n,null),c.flags|=2),c.return=t,s.return=t,s.sibling=c,t.child=s,s=c,c=t.child,g=e.child.memoizedState,g=g===null?Jl(n):{baseLanes:g.baseLanes|n,cachePool:null,transitions:g.transitions},c.memoizedState=g,c.childLanes=e.childLanes&~n,t.memoizedState=Zl,s}return c=e.child,e=c.sibling,s=nr(c,{mode:"visible",children:s.children}),(t.mode&1)===0&&(s.lanes=n),s.return=t,s.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function ea(e,t){return t=us({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Yo(e,t,n,s){return s!==null&&Dl(s),Jr(t,e.child,null,n),e=ea(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Bp(e,t,n,s,u,c,g){if(n)return t.flags&256?(t.flags&=-257,s=Ql(Error(i(422))),Yo(e,t,g,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(c=s.fallback,u=t.mode,s=us({mode:"visible",children:s.children},u,0,null),c=jr(c,u,g,null),c.flags|=2,s.return=t,c.return=t,s.sibling=c,t.child=s,(t.mode&1)!==0&&Jr(t,e.child,null,g),t.child.memoizedState=Jl(g),t.memoizedState=Zl,c);if((t.mode&1)===0)return Yo(e,t,g,null);if(u.data==="$!"){if(s=u.nextSibling&&u.nextSibling.dataset,s)var y=s.dgst;return s=y,c=Error(i(419)),s=Ql(c,s,void 0),Yo(e,t,g,s)}if(y=(g&e.childLanes)!==0,kt||y){if(s=rt,s!==null){switch(g&-g){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}u=(u&(s.suspendedLanes|g))!==0?0:u,u!==0&&u!==c.retryLane&&(c.retryLane=u,xn(e,u),Jt(s,e,u,-1))}return ma(),s=Ql(Error(i(421))),Yo(e,t,g,s)}return u.data==="$?"?(t.flags|=128,t.child=e.child,t=t0.bind(null,e),u._reactRetry=t,null):(e=c.treeContext,bt=Vn(u.nextSibling),Pt=t,We=!0,Gt=null,e!==null&&(At[Ft++]=Cn,At[Ft++]=En,At[Ft++]=Cr,Cn=e.id,En=e.overflow,Cr=t),t=ea(t,s.children),t.flags|=4096,t)}function ff(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Pl(e.return,t,n)}function ta(e,t,n,s,u){var c=e.memoizedState;c===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:u}:(c.isBackwards=t,c.rendering=null,c.renderingStartTime=0,c.last=s,c.tail=n,c.tailMode=u)}function df(e,t,n){var s=t.pendingProps,u=s.revealOrder,c=s.tail;if(wt(e,t,s.children,n),s=Ke.current,(s&2)!==0)s=s&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ff(e,n,t);else if(e.tag===19)ff(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(Ae(Ke,s),(t.mode&1)===0)t.memoizedState=null;else switch(u){case"forwards":for(n=t.child,u=null;n!==null;)e=n.alternate,e!==null&&Wo(e)===null&&(u=n),n=n.sibling;n=u,n===null?(u=t.child,t.child=null):(u=n.sibling,n.sibling=null),ta(t,!1,u,n,c);break;case"backwards":for(n=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&Wo(e)===null){t.child=u;break}e=u.sibling,u.sibling=n,n=u,u=e}ta(t,!0,n,null,c);break;case"together":ta(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Xo(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function _n(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Or|=t.lanes,(n&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,n=nr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=nr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Wp(e,t,n){switch(t.tag){case 3:af(t),Zr();break;case 5:_c(t);break;case 1:xt(t.type)&&Lo(t);break;case 4:Ml(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,u=t.memoizedProps.value;Ae($o,s._currentValue),s._currentValue=u;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(Ae(Ke,Ke.current&1),t.flags|=128,null):(n&t.child.childLanes)!==0?cf(e,t,n):(Ae(Ke,Ke.current&1),e=_n(e,t,n),e!==null?e.sibling:null);Ae(Ke,Ke.current&1);break;case 19:if(s=(n&t.childLanes)!==0,(e.flags&128)!==0){if(s)return df(e,t,n);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),Ae(Ke,Ke.current),s)break;return null;case 22:case 23:return t.lanes=0,of(e,t,n)}return _n(e,t,n)}var hf,na,pf,gf;hf=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},na=function(){},pf=function(e,t,n,s){var u=e.memoizedProps;if(u!==s){e=t.stateNode,kr(sn.current);var c=null;switch(n){case"input":u=fr(e,u),s=fr(e,s),c=[];break;case"select":u=Q({},u,{value:void 0}),s=Q({},s,{value:void 0}),c=[];break;case"textarea":u=dn(e,u),s=dn(e,s),c=[];break;default:typeof u.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=jo)}pr(n,s);var g;n=null;for(L in u)if(!s.hasOwnProperty(L)&&u.hasOwnProperty(L)&&u[L]!=null)if(L==="style"){var y=u[L];for(g in y)y.hasOwnProperty(g)&&(n||(n={}),n[g]="")}else L!=="dangerouslySetInnerHTML"&&L!=="children"&&L!=="suppressContentEditableWarning"&&L!=="suppressHydrationWarning"&&L!=="autoFocus"&&(a.hasOwnProperty(L)?c||(c=[]):(c=c||[]).push(L,null));for(L in s){var x=s[L];if(y=u!=null?u[L]:void 0,s.hasOwnProperty(L)&&x!==y&&(x!=null||y!=null))if(L==="style")if(y){for(g in y)!y.hasOwnProperty(g)||x&&x.hasOwnProperty(g)||(n||(n={}),n[g]="");for(g in x)x.hasOwnProperty(g)&&y[g]!==x[g]&&(n||(n={}),n[g]=x[g])}else n||(c||(c=[]),c.push(L,n)),n=x;else L==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,y=y?y.__html:void 0,x!=null&&y!==x&&(c=c||[]).push(L,x)):L==="children"?typeof x!="string"&&typeof x!="number"||(c=c||[]).push(L,""+x):L!=="suppressContentEditableWarning"&&L!=="suppressHydrationWarning"&&(a.hasOwnProperty(L)?(x!=null&&L==="onScroll"&&$e("scroll",e),c||y===x||(c=[])):(c=c||[]).push(L,x))}n&&(c=c||[]).push("style",n);var L=c;(t.updateQueue=L)&&(t.flags|=4)}},gf=function(e,t,n,s){n!==s&&(t.flags|=4)};function Vi(e,t){if(!We)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function mt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var u=e.child;u!==null;)n|=u.lanes|u.childLanes,s|=u.subtreeFlags&14680064,s|=u.flags&14680064,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)n|=u.lanes|u.childLanes,s|=u.subtreeFlags,s|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function Hp(e,t,n){var s=t.pendingProps;switch(kl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mt(t),null;case 1:return xt(t.type)&&bo(),mt(t),null;case 3:return s=t.stateNode,ni(),ze(Et),ze(pt),Al(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Ao(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Gt!==null&&(ha(Gt),Gt=null))),na(e,t),mt(t),null;case 5:Il(t);var u=kr(zi.current);if(n=t.type,e!==null&&t.stateNode!=null)pf(e,t,n,s,u),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(i(166));return mt(t),null}if(e=kr(sn.current),Ao(t)){s=t.stateNode,n=t.type;var c=t.memoizedProps;switch(s[on]=t,s[Ii]=c,e=(t.mode&1)!==0,n){case"dialog":$e("cancel",s),$e("close",s);break;case"iframe":case"object":case"embed":$e("load",s);break;case"video":case"audio":for(u=0;u<bi.length;u++)$e(bi[u],s);break;case"source":$e("error",s);break;case"img":case"image":case"link":$e("error",s),$e("load",s);break;case"details":$e("toggle",s);break;case"input":cn(s,c),$e("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!c.multiple},$e("invalid",s);break;case"textarea":jn(s,c),$e("invalid",s)}pr(n,c),u=null;for(var g in c)if(c.hasOwnProperty(g)){var y=c[g];g==="children"?typeof y=="string"?s.textContent!==y&&(c.suppressHydrationWarning!==!0&&No(s.textContent,y,e),u=["children",y]):typeof y=="number"&&s.textContent!==""+y&&(c.suppressHydrationWarning!==!0&&No(s.textContent,y,e),u=["children",""+y]):a.hasOwnProperty(g)&&y!=null&&g==="onScroll"&&$e("scroll",s)}switch(n){case"input":Ge(s),fn(s,c,!0);break;case"textarea":Ge(s),Tt(s);break;case"select":case"option":break;default:typeof c.onClick=="function"&&(s.onclick=jo)}s=u,t.updateQueue=s,s!==null&&(t.flags|=4)}else{g=u.nodeType===9?u:u.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=bn(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=g.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=g.createElement(n,{is:s.is}):(e=g.createElement(n),n==="select"&&(g=e,s.multiple?g.multiple=!0:s.size&&(g.size=s.size))):e=g.createElementNS(e,n),e[on]=t,e[Ii]=s,hf(e,t,!1,!1),t.stateNode=e;e:{switch(g=In(n,s),n){case"dialog":$e("cancel",e),$e("close",e),u=s;break;case"iframe":case"object":case"embed":$e("load",e),u=s;break;case"video":case"audio":for(u=0;u<bi.length;u++)$e(bi[u],e);u=s;break;case"source":$e("error",e),u=s;break;case"img":case"image":case"link":$e("error",e),$e("load",e),u=s;break;case"details":$e("toggle",e),u=s;break;case"input":cn(e,s),u=fr(e,s),$e("invalid",e);break;case"option":u=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},u=Q({},s,{value:void 0}),$e("invalid",e);break;case"textarea":jn(e,s),u=dn(e,s),$e("invalid",e);break;default:u=s}pr(n,u),y=u;for(c in y)if(y.hasOwnProperty(c)){var x=y[c];c==="style"?gn(e,x):c==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,x!=null&&Ar(e,x)):c==="children"?typeof x=="string"?(n!=="textarea"||x!=="")&&hn(e,x):typeof x=="number"&&hn(e,""+x):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(a.hasOwnProperty(c)?x!=null&&c==="onScroll"&&$e("scroll",e):x!=null&&U(e,c,x,g))}switch(n){case"input":Ge(e),fn(e,s,!1);break;case"textarea":Ge(e),Tt(e);break;case"option":s.value!=null&&e.setAttribute("value",""+Ee(s.value));break;case"select":e.multiple=!!s.multiple,c=s.value,c!=null?tn(e,!!s.multiple,c,!1):s.defaultValue!=null&&tn(e,!!s.multiple,s.defaultValue,!0);break;default:typeof u.onClick=="function"&&(e.onclick=jo)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return mt(t),null;case 6:if(e&&t.stateNode!=null)gf(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(i(166));if(n=kr(zi.current),kr(sn.current),Ao(t)){if(s=t.stateNode,n=t.memoizedProps,s[on]=t,(c=s.nodeValue!==n)&&(e=Pt,e!==null))switch(e.tag){case 3:No(s.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&No(s.nodeValue,n,(e.mode&1)!==0)}c&&(t.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[on]=t,t.stateNode=s}return mt(t),null;case 13:if(ze(Ke),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(We&&bt!==null&&(t.mode&1)!==0&&(t.flags&128)===0)vc(),Zr(),t.flags|=98560,c=!1;else if(c=Ao(t),s!==null&&s.dehydrated!==null){if(e===null){if(!c)throw Error(i(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(i(317));c[on]=t}else Zr(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;mt(t),c=!1}else Gt!==null&&(ha(Gt),Gt=null),c=!0;if(!c)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=n,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Ke.current&1)!==0?et===0&&(et=3):ma())),t.updateQueue!==null&&(t.flags|=4),mt(t),null);case 4:return ni(),na(e,t),e===null&&Li(t.stateNode.containerInfo),mt(t),null;case 10:return jl(t.type._context),mt(t),null;case 17:return xt(t.type)&&bo(),mt(t),null;case 19:if(ze(Ke),c=t.memoizedState,c===null)return mt(t),null;if(s=(t.flags&128)!==0,g=c.rendering,g===null)if(s)Vi(c,!1);else{if(et!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(g=Wo(e),g!==null){for(t.flags|=128,Vi(c,!1),s=g.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;n!==null;)c=n,e=s,c.flags&=14680066,g=c.alternate,g===null?(c.childLanes=0,c.lanes=e,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=g.childLanes,c.lanes=g.lanes,c.child=g.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=g.memoizedProps,c.memoizedState=g.memoizedState,c.updateQueue=g.updateQueue,c.type=g.type,e=g.dependencies,c.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ae(Ke,Ke.current&1|2),t.child}e=e.sibling}c.tail!==null&&Ve()>si&&(t.flags|=128,s=!0,Vi(c,!1),t.lanes=4194304)}else{if(!s)if(e=Wo(g),e!==null){if(t.flags|=128,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Vi(c,!0),c.tail===null&&c.tailMode==="hidden"&&!g.alternate&&!We)return mt(t),null}else 2*Ve()-c.renderingStartTime>si&&n!==1073741824&&(t.flags|=128,s=!0,Vi(c,!1),t.lanes=4194304);c.isBackwards?(g.sibling=t.child,t.child=g):(n=c.last,n!==null?n.sibling=g:t.child=g,c.last=g)}return c.tail!==null?(t=c.tail,c.rendering=t,c.tail=t.sibling,c.renderingStartTime=Ve(),t.sibling=null,n=Ke.current,Ae(Ke,s?n&1|2:n&1),t):(mt(t),null);case 22:case 23:return ga(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&(t.mode&1)!==0?(Lt&1073741824)!==0&&(mt(t),t.subtreeFlags&6&&(t.flags|=8192)):mt(t),null;case 24:return null;case 25:return null}throw Error(i(156,t.tag))}function Vp(e,t){switch(kl(t),t.tag){case 1:return xt(t.type)&&bo(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ni(),ze(Et),ze(pt),Al(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Il(t),null;case 13:if(ze(Ke),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));Zr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ze(Ke),null;case 4:return ni(),null;case 10:return jl(t.type._context),null;case 22:case 23:return ga(),null;case 24:return null;default:return null}}var Zo=!1,vt=!1,Kp=typeof WeakSet=="function"?WeakSet:Set,J=null;function ii(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){Qe(e,t,s)}else n.current=null}function ra(e,t,n){try{n()}catch(s){Qe(e,t,s)}}var mf=!1;function qp(e,t){if(gl=yo,e=qu(),ll(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var u=s.anchorOffset,c=s.focusNode;s=s.focusOffset;try{n.nodeType,c.nodeType}catch{n=null;break e}var g=0,y=-1,x=-1,L=0,W=0,H=e,z=null;t:for(;;){for(var Z;H!==n||u!==0&&H.nodeType!==3||(y=g+u),H!==c||s!==0&&H.nodeType!==3||(x=g+s),H.nodeType===3&&(g+=H.nodeValue.length),(Z=H.firstChild)!==null;)z=H,H=Z;for(;;){if(H===e)break t;if(z===n&&++L===u&&(y=g),z===c&&++W===s&&(x=g),(Z=H.nextSibling)!==null)break;H=z,z=H.parentNode}H=Z}n=y===-1||x===-1?null:{start:y,end:x}}else n=null}n=n||{start:0,end:0}}else n=null;for(ml={focusedElem:e,selectionRange:n},yo=!1,J=t;J!==null;)if(t=J,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,J=e;else for(;J!==null;){t=J;try{var ee=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(ee!==null){var re=ee.memoizedProps,Ye=ee.memoizedState,P=t.stateNode,O=P.getSnapshotBeforeUpdate(t.elementType===t.type?re:Yt(t.type,re),Ye);P.__reactInternalSnapshotBeforeUpdate=O}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(i(163))}}catch(K){Qe(t,t.return,K)}if(e=t.sibling,e!==null){e.return=t.return,J=e;break}J=t.return}return ee=mf,mf=!1,ee}function Ki(e,t,n){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var u=s=s.next;do{if((u.tag&e)===e){var c=u.destroy;u.destroy=void 0,c!==void 0&&ra(t,n,c)}u=u.next}while(u!==s)}}function Jo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function ia(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function vf(e){var t=e.alternate;t!==null&&(e.alternate=null,vf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[on],delete t[Ii],delete t[Sl],delete t[Np],delete t[jp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function yf(e){return e.tag===5||e.tag===3||e.tag===4}function wf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||yf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function oa(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=jo));else if(s!==4&&(e=e.child,e!==null))for(oa(e,t,n),e=e.sibling;e!==null;)oa(e,t,n),e=e.sibling}function sa(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(sa(e,t,n),e=e.sibling;e!==null;)sa(e,t,n),e=e.sibling}var ct=null,Xt=!1;function Xn(e,t,n){for(n=n.child;n!==null;)Sf(e,t,n),n=n.sibling}function Sf(e,t,n){if(Rt&&typeof Rt.onCommitFiberUnmount=="function")try{Rt.onCommitFiberUnmount(yr,n)}catch{}switch(n.tag){case 5:vt||ii(n,t);case 6:var s=ct,u=Xt;ct=null,Xn(e,t,n),ct=s,Xt=u,ct!==null&&(Xt?(e=ct,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ct.removeChild(n.stateNode));break;case 18:ct!==null&&(Xt?(e=ct,n=n.stateNode,e.nodeType===8?wl(e.parentNode,n):e.nodeType===1&&wl(e,n),ki(e)):wl(ct,n.stateNode));break;case 4:s=ct,u=Xt,ct=n.stateNode.containerInfo,Xt=!0,Xn(e,t,n),ct=s,Xt=u;break;case 0:case 11:case 14:case 15:if(!vt&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){u=s=s.next;do{var c=u,g=c.destroy;c=c.tag,g!==void 0&&((c&2)!==0||(c&4)!==0)&&ra(n,t,g),u=u.next}while(u!==s)}Xn(e,t,n);break;case 1:if(!vt&&(ii(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(y){Qe(n,t,y)}Xn(e,t,n);break;case 21:Xn(e,t,n);break;case 22:n.mode&1?(vt=(s=vt)||n.memoizedState!==null,Xn(e,t,n),vt=s):Xn(e,t,n);break;default:Xn(e,t,n)}}function Cf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Kp),t.forEach(function(s){var u=n0.bind(null,e,s);n.has(s)||(n.add(s),s.then(u,u))})}}function Zt(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var u=n[s];try{var c=e,g=t,y=g;e:for(;y!==null;){switch(y.tag){case 5:ct=y.stateNode,Xt=!1;break e;case 3:ct=y.stateNode.containerInfo,Xt=!0;break e;case 4:ct=y.stateNode.containerInfo,Xt=!0;break e}y=y.return}if(ct===null)throw Error(i(160));Sf(c,g,u),ct=null,Xt=!1;var x=u.alternate;x!==null&&(x.return=null),u.return=null}catch(L){Qe(u,t,L)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Ef(t,e),t=t.sibling}function Ef(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Zt(t,e),an(e),s&4){try{Ki(3,e,e.return),Jo(3,e)}catch(re){Qe(e,e.return,re)}try{Ki(5,e,e.return)}catch(re){Qe(e,e.return,re)}}break;case 1:Zt(t,e),an(e),s&512&&n!==null&&ii(n,n.return);break;case 5:if(Zt(t,e),an(e),s&512&&n!==null&&ii(n,n.return),e.flags&32){var u=e.stateNode;try{hn(u,"")}catch(re){Qe(e,e.return,re)}}if(s&4&&(u=e.stateNode,u!=null)){var c=e.memoizedProps,g=n!==null?n.memoizedProps:c,y=e.type,x=e.updateQueue;if(e.updateQueue=null,x!==null)try{y==="input"&&c.type==="radio"&&c.name!=null&&Kt(u,c),In(y,g);var L=In(y,c);for(g=0;g<x.length;g+=2){var W=x[g],H=x[g+1];W==="style"?gn(u,H):W==="dangerouslySetInnerHTML"?Ar(u,H):W==="children"?hn(u,H):U(u,W,H,L)}switch(y){case"input":dr(u,c);break;case"textarea":Pn(u,c);break;case"select":var z=u._wrapperState.wasMultiple;u._wrapperState.wasMultiple=!!c.multiple;var Z=c.value;Z!=null?tn(u,!!c.multiple,Z,!1):z!==!!c.multiple&&(c.defaultValue!=null?tn(u,!!c.multiple,c.defaultValue,!0):tn(u,!!c.multiple,c.multiple?[]:"",!1))}u[Ii]=c}catch(re){Qe(e,e.return,re)}}break;case 6:if(Zt(t,e),an(e),s&4){if(e.stateNode===null)throw Error(i(162));u=e.stateNode,c=e.memoizedProps;try{u.nodeValue=c}catch(re){Qe(e,e.return,re)}}break;case 3:if(Zt(t,e),an(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{ki(t.containerInfo)}catch(re){Qe(e,e.return,re)}break;case 4:Zt(t,e),an(e);break;case 13:Zt(t,e),an(e),u=e.child,u.flags&8192&&(c=u.memoizedState!==null,u.stateNode.isHidden=c,!c||u.alternate!==null&&u.alternate.memoizedState!==null||(ua=Ve())),s&4&&Cf(e);break;case 22:if(W=n!==null&&n.memoizedState!==null,e.mode&1?(vt=(L=vt)||W,Zt(t,e),vt=L):Zt(t,e),an(e),s&8192){if(L=e.memoizedState!==null,(e.stateNode.isHidden=L)&&!W&&(e.mode&1)!==0)for(J=e,W=e.child;W!==null;){for(H=J=W;J!==null;){switch(z=J,Z=z.child,z.tag){case 0:case 11:case 14:case 15:Ki(4,z,z.return);break;case 1:ii(z,z.return);var ee=z.stateNode;if(typeof ee.componentWillUnmount=="function"){s=z,n=z.return;try{t=s,ee.props=t.memoizedProps,ee.state=t.memoizedState,ee.componentWillUnmount()}catch(re){Qe(s,n,re)}}break;case 5:ii(z,z.return);break;case 22:if(z.memoizedState!==null){_f(H);continue}}Z!==null?(Z.return=z,J=Z):_f(H)}W=W.sibling}e:for(W=null,H=e;;){if(H.tag===5){if(W===null){W=H;try{u=H.stateNode,L?(c=u.style,typeof c.setProperty=="function"?c.setProperty("display","none","important"):c.display="none"):(y=H.stateNode,x=H.memoizedProps.style,g=x!=null&&x.hasOwnProperty("display")?x.display:null,y.style.display=pn("display",g))}catch(re){Qe(e,e.return,re)}}}else if(H.tag===6){if(W===null)try{H.stateNode.nodeValue=L?"":H.memoizedProps}catch(re){Qe(e,e.return,re)}}else if((H.tag!==22&&H.tag!==23||H.memoizedState===null||H===e)&&H.child!==null){H.child.return=H,H=H.child;continue}if(H===e)break e;for(;H.sibling===null;){if(H.return===null||H.return===e)break e;W===H&&(W=null),H=H.return}W===H&&(W=null),H.sibling.return=H.return,H=H.sibling}}break;case 19:Zt(t,e),an(e),s&4&&Cf(e);break;case 21:break;default:Zt(t,e),an(e)}}function an(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(yf(n)){var s=n;break e}n=n.return}throw Error(i(160))}switch(s.tag){case 5:var u=s.stateNode;s.flags&32&&(hn(u,""),s.flags&=-33);var c=wf(e);sa(e,c,u);break;case 3:case 4:var g=s.stateNode.containerInfo,y=wf(e);oa(e,y,g);break;default:throw Error(i(161))}}catch(x){Qe(e,e.return,x)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Qp(e,t,n){J=e,xf(e)}function xf(e,t,n){for(var s=(e.mode&1)!==0;J!==null;){var u=J,c=u.child;if(u.tag===22&&s){var g=u.memoizedState!==null||Zo;if(!g){var y=u.alternate,x=y!==null&&y.memoizedState!==null||vt;y=Zo;var L=vt;if(Zo=g,(vt=x)&&!L)for(J=u;J!==null;)g=J,x=g.child,g.tag===22&&g.memoizedState!==null?Of(u):x!==null?(x.return=g,J=x):Of(u);for(;c!==null;)J=c,xf(c),c=c.sibling;J=u,Zo=y,vt=L}kf(e)}else(u.subtreeFlags&8772)!==0&&c!==null?(c.return=u,J=c):kf(e)}}function kf(e){for(;J!==null;){var t=J;if((t.flags&8772)!==0){var n=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:vt||Jo(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!vt)if(n===null)s.componentDidMount();else{var u=t.elementType===t.type?n.memoizedProps:Yt(t.type,n.memoizedProps);s.componentDidUpdate(u,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var c=t.updateQueue;c!==null&&kc(t,c,s);break;case 3:var g=t.updateQueue;if(g!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}kc(t,g,n)}break;case 5:var y=t.stateNode;if(n===null&&t.flags&4){n=y;var x=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":x.autoFocus&&n.focus();break;case"img":x.src&&(n.src=x.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var L=t.alternate;if(L!==null){var W=L.memoizedState;if(W!==null){var H=W.dehydrated;H!==null&&ki(H)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(i(163))}vt||t.flags&512&&ia(t)}catch(z){Qe(t,t.return,z)}}if(t===e){J=null;break}if(n=t.sibling,n!==null){n.return=t.return,J=n;break}J=t.return}}function _f(e){for(;J!==null;){var t=J;if(t===e){J=null;break}var n=t.sibling;if(n!==null){n.return=t.return,J=n;break}J=t.return}}function Of(e){for(;J!==null;){var t=J;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Jo(4,t)}catch(x){Qe(t,n,x)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var u=t.return;try{s.componentDidMount()}catch(x){Qe(t,u,x)}}var c=t.return;try{ia(t)}catch(x){Qe(t,c,x)}break;case 5:var g=t.return;try{ia(t)}catch(x){Qe(t,g,x)}}}catch(x){Qe(t,t.return,x)}if(t===e){J=null;break}var y=t.sibling;if(y!==null){y.return=t.return,J=y;break}J=t.return}}var Gp=Math.ceil,es=V.ReactCurrentDispatcher,la=V.ReactCurrentOwner,Ut=V.ReactCurrentBatchConfig,be=0,rt=null,Xe=null,ft=0,Lt=0,oi=Kn(0),et=0,qi=null,Or=0,ts=0,aa=0,Qi=null,_t=null,ua=0,si=1/0,On=null,ns=!1,ca=null,Zn=null,rs=!1,Jn=null,is=0,Gi=0,fa=null,os=-1,ss=0;function St(){return(be&6)!==0?Ve():os!==-1?os:os=Ve()}function er(e){return(e.mode&1)===0?1:(be&2)!==0&&ft!==0?ft&-ft:bp.transition!==null?(ss===0&&(ss=yu()),ss):(e=Re,e!==0||(e=window.event,e=e===void 0?16:Du(e.type)),e)}function Jt(e,t,n,s){if(50<Gi)throw Gi=0,fa=null,Error(i(185));wi(e,n,s),((be&2)===0||e!==rt)&&(e===rt&&((be&2)===0&&(ts|=n),et===4&&tr(e,ft)),Ot(e,s),n===1&&be===0&&(t.mode&1)===0&&(si=Ve()+500,Mo&&Qn()))}function Ot(e,t){var n=e.callbackNode;bh(e,t);var s=yn(e,e===rt?ft:0);if(s===0)n!==null&&fo(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(n!=null&&fo(n),t===1)e.tag===0?Pp(Tf.bind(null,e)):dc(Tf.bind(null,e)),Dp(function(){(be&6)===0&&Qn()}),n=null;else{switch(wu(s)){case 1:n=vi;break;case 4:n=yi;break;case 16:n=Fn;break;case 536870912:n=go;break;default:n=Fn}n=Rf(n,Df.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Df(e,t){if(os=-1,ss=0,(be&6)!==0)throw Error(i(327));var n=e.callbackNode;if(li()&&e.callbackNode!==n)return null;var s=yn(e,e===rt?ft:0);if(s===0)return null;if((s&30)!==0||(s&e.expiredLanes)!==0||t)t=ls(e,s);else{t=s;var u=be;be|=2;var c=jf();(rt!==e||ft!==t)&&(On=null,si=Ve()+500,Tr(e,t));do try{Zp();break}catch(y){Nf(e,y)}while(!0);Nl(),es.current=c,be=u,Xe!==null?t=0:(rt=null,ft=0,t=et)}if(t!==0){if(t===2&&(u=Vs(e),u!==0&&(s=u,t=da(e,u))),t===1)throw n=qi,Tr(e,0),tr(e,s),Ot(e,Ve()),n;if(t===6)tr(e,s);else{if(u=e.current.alternate,(s&30)===0&&!Yp(u)&&(t=ls(e,s),t===2&&(c=Vs(e),c!==0&&(s=c,t=da(e,c))),t===1))throw n=qi,Tr(e,0),tr(e,s),Ot(e,Ve()),n;switch(e.finishedWork=u,e.finishedLanes=s,t){case 0:case 1:throw Error(i(345));case 2:Nr(e,_t,On);break;case 3:if(tr(e,s),(s&130023424)===s&&(t=ua+500-Ve(),10<t)){if(yn(e,0)!==0)break;if(u=e.suspendedLanes,(u&s)!==s){St(),e.pingedLanes|=e.suspendedLanes&u;break}e.timeoutHandle=yl(Nr.bind(null,e,_t,On),t);break}Nr(e,_t,On);break;case 4:if(tr(e,s),(s&4194240)===s)break;for(t=e.eventTimes,u=-1;0<s;){var g=31-N(s);c=1<<g,g=t[g],g>u&&(u=g),s&=~c}if(s=u,s=Ve()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*Gp(s/1960))-s,10<s){e.timeoutHandle=yl(Nr.bind(null,e,_t,On),s);break}Nr(e,_t,On);break;case 5:Nr(e,_t,On);break;default:throw Error(i(329))}}}return Ot(e,Ve()),e.callbackNode===n?Df.bind(null,e):null}function da(e,t){var n=Qi;return e.current.memoizedState.isDehydrated&&(Tr(e,t).flags|=256),e=ls(e,t),e!==2&&(t=_t,_t=n,t!==null&&ha(t)),e}function ha(e){_t===null?_t=e:_t.push.apply(_t,e)}function Yp(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var u=n[s],c=u.getSnapshot;u=u.value;try{if(!Qt(c(),u))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function tr(e,t){for(t&=~aa,t&=~ts,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-N(t),s=1<<n;e[n]=-1,t&=~s}}function Tf(e){if((be&6)!==0)throw Error(i(327));li();var t=yn(e,0);if((t&1)===0)return Ot(e,Ve()),null;var n=ls(e,t);if(e.tag!==0&&n===2){var s=Vs(e);s!==0&&(t=s,n=da(e,s))}if(n===1)throw n=qi,Tr(e,0),tr(e,t),Ot(e,Ve()),n;if(n===6)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Nr(e,_t,On),Ot(e,Ve()),null}function pa(e,t){var n=be;be|=1;try{return e(t)}finally{be=n,be===0&&(si=Ve()+500,Mo&&Qn())}}function Dr(e){Jn!==null&&Jn.tag===0&&(be&6)===0&&li();var t=be;be|=1;var n=Ut.transition,s=Re;try{if(Ut.transition=null,Re=1,e)return e()}finally{Re=s,Ut.transition=n,be=t,(be&6)===0&&Qn()}}function ga(){Lt=oi.current,ze(oi)}function Tr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Op(n)),Xe!==null)for(n=Xe.return;n!==null;){var s=n;switch(kl(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&bo();break;case 3:ni(),ze(Et),ze(pt),Al();break;case 5:Il(s);break;case 4:ni();break;case 13:ze(Ke);break;case 19:ze(Ke);break;case 10:jl(s.type._context);break;case 22:case 23:ga()}n=n.return}if(rt=e,Xe=e=nr(e.current,null),ft=Lt=t,et=0,qi=null,aa=ts=Or=0,_t=Qi=null,xr!==null){for(t=0;t<xr.length;t++)if(n=xr[t],s=n.interleaved,s!==null){n.interleaved=null;var u=s.next,c=n.pending;if(c!==null){var g=c.next;c.next=u,s.next=g}n.pending=s}xr=null}return e}function Nf(e,t){do{var n=Xe;try{if(Nl(),Ho.current=Qo,Vo){for(var s=qe.memoizedState;s!==null;){var u=s.queue;u!==null&&(u.pending=null),s=s.next}Vo=!1}if(_r=0,nt=Je=qe=null,Ui=!1,Bi=0,la.current=null,n===null||n.return===null){et=1,qi=t,Xe=null;break}e:{var c=e,g=n.return,y=n,x=t;if(t=ft,y.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){var L=x,W=y,H=W.tag;if((W.mode&1)===0&&(H===0||H===11||H===15)){var z=W.alternate;z?(W.updateQueue=z.updateQueue,W.memoizedState=z.memoizedState,W.lanes=z.lanes):(W.updateQueue=null,W.memoizedState=null)}var Z=Jc(g);if(Z!==null){Z.flags&=-257,ef(Z,g,y,c,t),Z.mode&1&&Zc(c,L,t),t=Z,x=L;var ee=t.updateQueue;if(ee===null){var re=new Set;re.add(x),t.updateQueue=re}else ee.add(x);break e}else{if((t&1)===0){Zc(c,L,t),ma();break e}x=Error(i(426))}}else if(We&&y.mode&1){var Ye=Jc(g);if(Ye!==null){(Ye.flags&65536)===0&&(Ye.flags|=256),ef(Ye,g,y,c,t),Dl(ri(x,y));break e}}c=x=ri(x,y),et!==4&&(et=2),Qi===null?Qi=[c]:Qi.push(c),c=g;do{switch(c.tag){case 3:c.flags|=65536,t&=-t,c.lanes|=t;var P=Yc(c,x,t);xc(c,P);break e;case 1:y=x;var O=c.type,b=c.stateNode;if((c.flags&128)===0&&(typeof O.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Zn===null||!Zn.has(b)))){c.flags|=65536,t&=-t,c.lanes|=t;var K=Xc(c,y,t);xc(c,K);break e}}c=c.return}while(c!==null)}bf(n)}catch(se){t=se,Xe===n&&n!==null&&(Xe=n=n.return);continue}break}while(!0)}function jf(){var e=es.current;return es.current=Qo,e===null?Qo:e}function ma(){(et===0||et===3||et===2)&&(et=4),rt===null||(Or&268435455)===0&&(ts&268435455)===0||tr(rt,ft)}function ls(e,t){var n=be;be|=2;var s=jf();(rt!==e||ft!==t)&&(On=null,Tr(e,t));do try{Xp();break}catch(u){Nf(e,u)}while(!0);if(Nl(),be=n,es.current=s,Xe!==null)throw Error(i(261));return rt=null,ft=0,et}function Xp(){for(;Xe!==null;)Pf(Xe)}function Zp(){for(;Xe!==null&&!ho();)Pf(Xe)}function Pf(e){var t=If(e.alternate,e,Lt);e.memoizedProps=e.pendingProps,t===null?bf(e):Xe=t,la.current=null}function bf(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&32768)===0){if(n=Hp(n,t,Lt),n!==null){Xe=n;return}}else{if(n=Vp(n,t),n!==null){n.flags&=32767,Xe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{et=6,Xe=null;return}}if(t=t.sibling,t!==null){Xe=t;return}Xe=t=e}while(t!==null);et===0&&(et=5)}function Nr(e,t,n){var s=Re,u=Ut.transition;try{Ut.transition=null,Re=1,Jp(e,t,n,s)}finally{Ut.transition=u,Re=s}return null}function Jp(e,t,n,s){do li();while(Jn!==null);if((be&6)!==0)throw Error(i(327));n=e.finishedWork;var u=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var c=n.lanes|n.childLanes;if(Lh(e,c),e===rt&&(Xe=rt=null,ft=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||rs||(rs=!0,Rf(Fn,function(){return li(),null})),c=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||c){c=Ut.transition,Ut.transition=null;var g=Re;Re=1;var y=be;be|=4,la.current=null,qp(e,n),Ef(n,e),wp(ml),yo=!!gl,ml=gl=null,e.current=n,Qp(n),po(),be=y,Re=g,Ut.transition=c}else e.current=n;if(rs&&(rs=!1,Jn=e,is=u),c=e.pendingLanes,c===0&&(Zn=null),ut(n.stateNode),Ot(e,Ve()),t!==null)for(s=e.onRecoverableError,n=0;n<t.length;n++)u=t[n],s(u.value,{componentStack:u.stack,digest:u.digest});if(ns)throw ns=!1,e=ca,ca=null,e;return(is&1)!==0&&e.tag!==0&&li(),c=e.pendingLanes,(c&1)!==0?e===fa?Gi++:(Gi=0,fa=e):Gi=0,Qn(),null}function li(){if(Jn!==null){var e=wu(is),t=Ut.transition,n=Re;try{if(Ut.transition=null,Re=16>e?16:e,Jn===null)var s=!1;else{if(e=Jn,Jn=null,is=0,(be&6)!==0)throw Error(i(331));var u=be;for(be|=4,J=e.current;J!==null;){var c=J,g=c.child;if((J.flags&16)!==0){var y=c.deletions;if(y!==null){for(var x=0;x<y.length;x++){var L=y[x];for(J=L;J!==null;){var W=J;switch(W.tag){case 0:case 11:case 15:Ki(8,W,c)}var H=W.child;if(H!==null)H.return=W,J=H;else for(;J!==null;){W=J;var z=W.sibling,Z=W.return;if(vf(W),W===L){J=null;break}if(z!==null){z.return=Z,J=z;break}J=Z}}}var ee=c.alternate;if(ee!==null){var re=ee.child;if(re!==null){ee.child=null;do{var Ye=re.sibling;re.sibling=null,re=Ye}while(re!==null)}}J=c}}if((c.subtreeFlags&2064)!==0&&g!==null)g.return=c,J=g;else e:for(;J!==null;){if(c=J,(c.flags&2048)!==0)switch(c.tag){case 0:case 11:case 15:Ki(9,c,c.return)}var P=c.sibling;if(P!==null){P.return=c.return,J=P;break e}J=c.return}}var O=e.current;for(J=O;J!==null;){g=J;var b=g.child;if((g.subtreeFlags&2064)!==0&&b!==null)b.return=g,J=b;else e:for(g=O;J!==null;){if(y=J,(y.flags&2048)!==0)try{switch(y.tag){case 0:case 11:case 15:Jo(9,y)}}catch(se){Qe(y,y.return,se)}if(y===g){J=null;break e}var K=y.sibling;if(K!==null){K.return=y.return,J=K;break e}J=y.return}}if(be=u,Qn(),Rt&&typeof Rt.onPostCommitFiberRoot=="function")try{Rt.onPostCommitFiberRoot(yr,e)}catch{}s=!0}return s}finally{Re=n,Ut.transition=t}}return!1}function Lf(e,t,n){t=ri(n,t),t=Yc(e,t,1),e=Yn(e,t,1),t=St(),e!==null&&(wi(e,1,t),Ot(e,t))}function Qe(e,t,n){if(e.tag===3)Lf(e,e,n);else for(;t!==null;){if(t.tag===3){Lf(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Zn===null||!Zn.has(s))){e=ri(n,e),e=Xc(t,e,1),t=Yn(t,e,1),e=St(),t!==null&&(wi(t,1,e),Ot(t,e));break}}t=t.return}}function e0(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),t=St(),e.pingedLanes|=e.suspendedLanes&n,rt===e&&(ft&n)===n&&(et===4||et===3&&(ft&130023424)===ft&&500>Ve()-ua?Tr(e,0):aa|=n),Ot(e,t)}function Mf(e,t){t===0&&((e.mode&1)===0?t=1:(t=je,je<<=1,(je&130023424)===0&&(je=4194304)));var n=St();e=xn(e,t),e!==null&&(wi(e,t,n),Ot(e,n))}function t0(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Mf(e,n)}function n0(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,u=e.memoizedState;u!==null&&(n=u.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(i(314))}s!==null&&s.delete(t),Mf(e,n)}var If;If=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Et.current)kt=!0;else{if((e.lanes&n)===0&&(t.flags&128)===0)return kt=!1,Wp(e,t,n);kt=(e.flags&131072)!==0}else kt=!1,We&&(t.flags&1048576)!==0&&hc(t,Ro,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;Xo(e,t),e=t.pendingProps;var u=Gr(t,pt.current);ti(t,n),u=zl(null,t,s,e,u,n);var c=Ul();return t.flags|=1,typeof u=="object"&&u!==null&&typeof u.render=="function"&&u.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,xt(s)?(c=!0,Lo(t)):c=!1,t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,Ll(t),u.updater=Go,t.stateNode=u,u._reactInternals=t,ql(t,s,e,n),t=Xl(null,t,s,!0,c,n)):(t.tag=0,We&&c&&xl(t),wt(null,t,u,n),t=t.child),t;case 16:s=t.elementType;e:{switch(Xo(e,t),e=t.pendingProps,u=s._init,s=u(s._payload),t.type=s,u=t.tag=i0(s),e=Yt(s,e),u){case 0:t=Yl(null,t,s,e,n);break e;case 1:t=lf(null,t,s,e,n);break e;case 11:t=tf(null,t,s,e,n);break e;case 14:t=nf(null,t,s,Yt(s.type,e),n);break e}throw Error(i(306,s,""))}return t;case 0:return s=t.type,u=t.pendingProps,u=t.elementType===s?u:Yt(s,u),Yl(e,t,s,u,n);case 1:return s=t.type,u=t.pendingProps,u=t.elementType===s?u:Yt(s,u),lf(e,t,s,u,n);case 3:e:{if(af(t),e===null)throw Error(i(387));s=t.pendingProps,c=t.memoizedState,u=c.element,Ec(e,t),Bo(t,s,null,n);var g=t.memoizedState;if(s=g.element,c.isDehydrated)if(c={element:s,isDehydrated:!1,cache:g.cache,pendingSuspenseBoundaries:g.pendingSuspenseBoundaries,transitions:g.transitions},t.updateQueue.baseState=c,t.memoizedState=c,t.flags&256){u=ri(Error(i(423)),t),t=uf(e,t,s,n,u);break e}else if(s!==u){u=ri(Error(i(424)),t),t=uf(e,t,s,n,u);break e}else for(bt=Vn(t.stateNode.containerInfo.firstChild),Pt=t,We=!0,Gt=null,n=Sc(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Zr(),s===u){t=_n(e,t,n);break e}wt(e,t,s,n)}t=t.child}return t;case 5:return _c(t),e===null&&Ol(t),s=t.type,u=t.pendingProps,c=e!==null?e.memoizedProps:null,g=u.children,vl(s,u)?g=null:c!==null&&vl(s,c)&&(t.flags|=32),sf(e,t),wt(e,t,g,n),t.child;case 6:return e===null&&Ol(t),null;case 13:return cf(e,t,n);case 4:return Ml(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Jr(t,null,s,n):wt(e,t,s,n),t.child;case 11:return s=t.type,u=t.pendingProps,u=t.elementType===s?u:Yt(s,u),tf(e,t,s,u,n);case 7:return wt(e,t,t.pendingProps,n),t.child;case 8:return wt(e,t,t.pendingProps.children,n),t.child;case 12:return wt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,u=t.pendingProps,c=t.memoizedProps,g=u.value,Ae($o,s._currentValue),s._currentValue=g,c!==null)if(Qt(c.value,g)){if(c.children===u.children&&!Et.current){t=_n(e,t,n);break e}}else for(c=t.child,c!==null&&(c.return=t);c!==null;){var y=c.dependencies;if(y!==null){g=c.child;for(var x=y.firstContext;x!==null;){if(x.context===s){if(c.tag===1){x=kn(-1,n&-n),x.tag=2;var L=c.updateQueue;if(L!==null){L=L.shared;var W=L.pending;W===null?x.next=x:(x.next=W.next,W.next=x),L.pending=x}}c.lanes|=n,x=c.alternate,x!==null&&(x.lanes|=n),Pl(c.return,n,t),y.lanes|=n;break}x=x.next}}else if(c.tag===10)g=c.type===t.type?null:c.child;else if(c.tag===18){if(g=c.return,g===null)throw Error(i(341));g.lanes|=n,y=g.alternate,y!==null&&(y.lanes|=n),Pl(g,n,t),g=c.sibling}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===t){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}wt(e,t,u.children,n),t=t.child}return t;case 9:return u=t.type,s=t.pendingProps.children,ti(t,n),u=$t(u),s=s(u),t.flags|=1,wt(e,t,s,n),t.child;case 14:return s=t.type,u=Yt(s,t.pendingProps),u=Yt(s.type,u),nf(e,t,s,u,n);case 15:return rf(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,u=t.pendingProps,u=t.elementType===s?u:Yt(s,u),Xo(e,t),t.tag=1,xt(s)?(e=!0,Lo(t)):e=!1,ti(t,n),Qc(t,s,u),ql(t,s,u,n),Xl(null,t,s,!0,e,n);case 19:return df(e,t,n);case 22:return of(e,t,n)}throw Error(i(156,t.tag))};function Rf(e,t){return co(e,t)}function r0(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bt(e,t,n,s){return new r0(e,t,n,s)}function va(e){return e=e.prototype,!(!e||!e.isReactComponent)}function i0(e){if(typeof e=="function")return va(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ke)return 11;if(e===Me)return 14}return 2}function nr(e,t){var n=e.alternate;return n===null?(n=Bt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function as(e,t,n,s,u,c){var g=2;if(s=e,typeof e=="function")va(e)&&(g=1);else if(typeof e=="string")g=5;else e:switch(e){case X:return jr(n.children,u,c,t);case G:g=8,u|=8;break;case Se:return e=Bt(12,n,t,u|2),e.elementType=Se,e.lanes=c,e;case Te:return e=Bt(13,n,t,u),e.elementType=Te,e.lanes=c,e;case Ie:return e=Bt(19,n,t,u),e.elementType=Ie,e.lanes=c,e;case ge:return us(n,u,c,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case pe:g=10;break e;case Ce:g=9;break e;case ke:g=11;break e;case Me:g=14;break e;case Pe:g=16,s=null;break e}throw Error(i(130,e==null?e:typeof e,""))}return t=Bt(g,n,t,u),t.elementType=e,t.type=s,t.lanes=c,t}function jr(e,t,n,s){return e=Bt(7,e,s,t),e.lanes=n,e}function us(e,t,n,s){return e=Bt(22,e,s,t),e.elementType=ge,e.lanes=n,e.stateNode={isHidden:!1},e}function ya(e,t,n){return e=Bt(6,e,null,t),e.lanes=n,e}function wa(e,t,n){return t=Bt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function o0(e,t,n,s,u){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ks(0),this.expirationTimes=Ks(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ks(0),this.identifierPrefix=s,this.onRecoverableError=u,this.mutableSourceEagerHydrationData=null}function Sa(e,t,n,s,u,c,g,y,x){return e=new o0(e,t,n,y,x),t===1?(t=1,c===!0&&(t|=8)):t=0,c=Bt(3,null,null,t),e.current=c,c.stateNode=e,c.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ll(c),e}function s0(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fe,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}function Af(e){if(!e)return qn;e=e._reactInternals;e:{if(ne(e)!==e||e.tag!==1)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(xt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(i(171))}if(e.tag===1){var n=e.type;if(xt(n))return cc(e,n,t)}return t}function Ff(e,t,n,s,u,c,g,y,x){return e=Sa(n,s,!0,e,u,c,g,y,x),e.context=Af(null),n=e.current,s=St(),u=er(n),c=kn(s,u),c.callback=t??null,Yn(n,c,u),e.current.lanes=u,wi(e,u,s),Ot(e,s),e}function cs(e,t,n,s){var u=t.current,c=St(),g=er(u);return n=Af(n),t.context===null?t.context=n:t.pendingContext=n,t=kn(c,g),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=Yn(u,t,g),e!==null&&(Jt(e,u,g,c),Uo(e,u,g)),g}function fs(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function $f(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ca(e,t){$f(e,t),(e=e.alternate)&&$f(e,t)}function l0(){return null}var zf=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ea(e){this._internalRoot=e}ds.prototype.render=Ea.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));cs(e,t,null,null)},ds.prototype.unmount=Ea.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Dr(function(){cs(null,e,null,null)}),t[wn]=null}};function ds(e){this._internalRoot=e}ds.prototype.unstable_scheduleHydration=function(e){if(e){var t=Eu();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Bn.length&&t!==0&&t<Bn[n].priority;n++);Bn.splice(n,0,e),n===0&&_u(e)}};function xa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function hs(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Uf(){}function a0(e,t,n,s,u){if(u){if(typeof s=="function"){var c=s;s=function(){var L=fs(g);c.call(L)}}var g=Ff(t,s,e,0,null,!1,!1,"",Uf);return e._reactRootContainer=g,e[wn]=g.current,Li(e.nodeType===8?e.parentNode:e),Dr(),g}for(;u=e.lastChild;)e.removeChild(u);if(typeof s=="function"){var y=s;s=function(){var L=fs(x);y.call(L)}}var x=Sa(e,0,!1,null,null,!1,!1,"",Uf);return e._reactRootContainer=x,e[wn]=x.current,Li(e.nodeType===8?e.parentNode:e),Dr(function(){cs(t,x,n,s)}),x}function ps(e,t,n,s,u){var c=n._reactRootContainer;if(c){var g=c;if(typeof u=="function"){var y=u;u=function(){var x=fs(g);y.call(x)}}cs(t,g,e,u)}else g=a0(n,t,e,u,s);return fs(g)}Su=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Nt(t.pendingLanes);n!==0&&(qs(t,n|1),Ot(t,Ve()),(be&6)===0&&(si=Ve()+500,Qn()))}break;case 13:Dr(function(){var s=xn(e,1);if(s!==null){var u=St();Jt(s,e,1,u)}}),Ca(e,1)}},Qs=function(e){if(e.tag===13){var t=xn(e,134217728);if(t!==null){var n=St();Jt(t,e,134217728,n)}Ca(e,134217728)}},Cu=function(e){if(e.tag===13){var t=er(e),n=xn(e,t);if(n!==null){var s=St();Jt(n,e,t,s)}Ca(e,t)}},Eu=function(){return Re},xu=function(e,t){var n=Re;try{return Re=e,t()}finally{Re=n}},mr=function(e,t,n){switch(t){case"input":if(dr(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var u=Po(s);if(!u)throw Error(i(90));st(s),dr(s,u)}}}break;case"textarea":Pn(e,n);break;case"select":t=n.value,t!=null&&tn(e,!!n.multiple,t,!1)}},vn=pa,An=Dr;var u0={usingClientEntryPoint:!1,Events:[Ri,qr,Po,Rn,$r,pa]},Yi={findFiberByHostInstance:wr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},c0={bundleType:Yi.bundleType,version:Yi.version,rendererPackageName:Yi.rendererPackageName,rendererConfig:Yi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:V.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=mi(e),e===null?null:e.stateNode},findFiberByHostInstance:Yi.findFiberByHostInstance||l0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gs.isDisabled&&gs.supportsFiber)try{yr=gs.inject(c0),Rt=gs}catch{}}return Dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=u0,Dt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xa(t))throw Error(i(200));return s0(e,t,null,n)},Dt.createRoot=function(e,t){if(!xa(e))throw Error(i(299));var n=!1,s="",u=zf;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(u=t.onRecoverableError)),t=Sa(e,1,!1,null,null,n,!1,s,u),e[wn]=t.current,Li(e.nodeType===8?e.parentNode:e),new Ea(t)},Dt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=mi(t),e=e===null?null:e.stateNode,e},Dt.flushSync=function(e){return Dr(e)},Dt.hydrate=function(e,t,n){if(!hs(t))throw Error(i(200));return ps(null,e,t,!0,n)},Dt.hydrateRoot=function(e,t,n){if(!xa(e))throw Error(i(405));var s=n!=null&&n.hydratedSources||null,u=!1,c="",g=zf;if(n!=null&&(n.unstable_strictMode===!0&&(u=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),t=Ff(t,null,e,1,n??null,u,!1,c,g),e[wn]=t.current,Li(e),s)for(e=0;e<s.length;e++)n=s[e],u=n._getVersion,u=u(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,u]:t.mutableSourceEagerHydrationData.push(n,u);return new ds(t)},Dt.render=function(e,t,n){if(!hs(t))throw Error(i(200));return ps(null,e,t,!1,n)},Dt.unmountComponentAtNode=function(e){if(!hs(e))throw Error(i(40));return e._reactRootContainer?(Dr(function(){ps(null,null,e,!1,function(){e._reactRootContainer=null,e[wn]=null})}),!0):!1},Dt.unstable_batchedUpdates=pa,Dt.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!hs(n))throw Error(i(200));if(e==null||e._reactInternals===void 0)throw Error(i(38));return ps(e,t,n,!1,s)},Dt.version="18.3.1-next-f1338f8080-20240426",Dt}var Gf;function Bd(){if(Gf)return Oa.exports;Gf=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(r){console.error(r)}}return o(),Oa.exports=w0(),Oa.exports}var Yf;function S0(){if(Yf)return ms;Yf=1;var o=Bd();return ms.createRoot=o.createRoot,ms.hydrateRoot=o.hydrateRoot,ms}var C0=S0();const E0=su(C0);function x0(o){return o!==null?{comment:o,variations:[]}:{variations:[]}}function k0(o,r,i,l,a){const f={move:o,variations:a};return r&&(f.suffix=r),i&&(f.nag=i),l!==null&&(f.comment=l),f}function _0(...o){const[r,...i]=o;let l=r;for(const a of i)a!==null&&(l.variations=[a,...a.variations],a.variations=[],l=a);return r}function O0(o,r){if(r.marker&&r.marker.comment){let i=r.root;for(;;){const l=i.variations[0];if(!l){i.comment=r.marker.comment;break}i=l}}return{headers:o,root:r.root,result:(r.marker&&r.marker.result)??void 0}}function D0(o,r){function i(){this.constructor=o}i.prototype=r.prototype,o.prototype=new i}function hi(o,r,i,l){var a=Error.call(this,o);return Object.setPrototypeOf&&Object.setPrototypeOf(a,hi.prototype),a.expected=r,a.found=i,a.location=l,a.name="SyntaxError",a}D0(hi,Error);function Na(o,r,i){return i=i||" ",o.length>r?o:(r-=o.length,i+=i.repeat(r),o+i.slice(0,r))}hi.prototype.format=function(o){var r="Error: "+this.message;if(this.location){var i=null,l;for(l=0;l<o.length;l++)if(o[l].source===this.location.source){i=o[l].text.split(/\r\n|\n|\r/g);break}var a=this.location.start,f=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(a):a,h=this.location.source+":"+f.line+":"+f.column;if(i){var d=this.location.end,m=Na("",f.line.toString().length," "),v=i[a.line-1],E=a.line===d.line?d.column:v.length+1,k=E-a.column||1;r+=`
 --> `+h+`
`+m+` |
`+f.line+" | "+v+`
`+m+" | "+Na("",a.column-1," ")+Na("",k,"^")}else r+=`
 at `+h}return r};hi.buildMessage=function(o,r){var i={literal:function(v){return'"'+a(v.text)+'"'},class:function(v){var E=v.parts.map(function(k){return Array.isArray(k)?f(k[0])+"-"+f(k[1]):f(k)});return"["+(v.inverted?"^":"")+E.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(v){return v.description}};function l(v){return v.charCodeAt(0).toString(16).toUpperCase()}function a(v){return v.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(E){return"\\x0"+l(E)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(E){return"\\x"+l(E)})}function f(v){return v.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(E){return"\\x0"+l(E)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(E){return"\\x"+l(E)})}function h(v){return i[v.type](v)}function d(v){var E=v.map(h),k,S;if(E.sort(),E.length>0){for(k=1,S=1;k<E.length;k++)E[k-1]!==E[k]&&(E[S]=E[k],S++);E.length=S}switch(E.length){case 1:return E[0];case 2:return E[0]+" or "+E[1];default:return E.slice(0,-1).join(", ")+", or "+E[E.length-1]}}function m(v){return v?'"'+a(v)+'"':"end of input"}return"Expected "+d(o)+" but "+m(r)+" found."};function T0(o,r){r=r!==void 0?r:{};var i={},l=r.grammarSource,a={pgn:gi},f=gi,h="[",d='"',m="]",v=".",E="O-O-O",k="O-O",S="0-0-0",T="0-0",_="$",C="{",j="}",F=";",$="(",U=")",V="1-0",ce="0-1",fe="1/2-1/2",X="*",G=/^[a-zA-Z]/,Se=/^[^"]/,pe=/^[0-9]/,Ce=/^[.]/,ke=/^[a-zA-Z1-8\-=]/,Te=/^[+#]/,Ie=/^[!?]/,Me=/^[^}]/,Pe=/^[^\r\n]/,ge=/^[ \t\r\n]/,q=ht("tag pair"),ie=_e("[",!1),Q=_e('"',!1),D=_e("]",!1),I=ht("tag name"),te=Be([["a","z"],["A","Z"]],!1,!1),oe=ht("tag value"),ae=Be(['"'],!0,!1),me=ht("move number"),Y=Be([["0","9"]],!1,!1),Ee=_e(".",!1),De=Be(["."],!1,!1),Fe=ht("standard algebraic notation"),Ge=_e("O-O-O",!1),st=_e("O-O",!1),Vt=_e("0-0-0",!1),fr=_e("0-0",!1),cn=Be([["a","z"],["A","Z"],["1","8"],"-","="],!1,!1),Kt=Be(["+","#"],!1,!1),dr=ht("suffix annotation"),fn=Be(["!","?"],!1,!1),hr=ht("NAG"),en=_e("$",!1),tn=ht("brace comment"),dn=_e("{",!1),jn=Be(["}"],!0,!1),Pn=_e("}",!1),Tt=ht("rest of line comment"),bn=_e(";",!1),qt=Be(["\r",`
`],!0,!1),Ln=ht("variation"),Ar=_e("(",!1),hn=_e(")",!1),It=ht("game termination marker"),Mn=_e("1-0",!1),pn=_e("0-1",!1),gn=_e("1/2-1/2",!1),pi=_e("*",!1),pr=ht("whitespace"),In=Be([" ","	","\r",`
`],!1,!1),gr=function(N,R){return O0(N,R)},mn=function(N){return Object.fromEntries(N)},mr=function(N,R){return[N,R]},nn=function(N,R){return{root:N,marker:R}},rn=function(N,R){return _0(x0(N),...R.flat())},Fr=function(N,R,A,ue,le){return k0(N,R,A,ue,le)},Rn=function(N){return N},$r=function(N){return N.replace(/[\r\n]+/g," ")},vn=function(N){return N.trim()},An=function(N){return N},vr=function(N,R){return{result:N,comment:R}},M=r.peg$currPos|0,Ct=[{line:1,column:1}],lt=M,Ne=r.peg$maxFailExpected||[],B=r.peg$silentFails|0,Ue;if(r.startRule){if(!(r.startRule in a))throw new Error(`Can't start parsing from rule "`+r.startRule+'".');f=a[r.startRule]}function _e(N,R){return{type:"literal",text:N,ignoreCase:R}}function Be(N,R,A){return{type:"class",parts:N,inverted:R,ignoreCase:A}}function at(){return{type:"end"}}function ht(N){return{type:"other",description:N}}function so(N){var R=Ct[N],A;if(R)return R;if(N>=Ct.length)A=Ct.length-1;else for(A=N;!Ct[--A];);for(R=Ct[A],R={line:R.line,column:R.column};A<N;)o.charCodeAt(A)===10?(R.line++,R.column=1):R.column++,A++;return Ct[N]=R,R}function lo(N,R,A){var ue=so(N),le=so(R),je={source:l,start:{offset:N,line:ue.line,column:ue.column},end:{offset:R,line:le.line,column:le.column}};return je}function ne(N){M<lt||(M>lt&&(lt=M,Ne=[]),Ne.push(N))}function ao(N,R,A){return new hi(hi.buildMessage(N,R),N,R,A)}function gi(){var N,R,A;return N=M,R=Bs(),A=fo(),N=gr(R,A),N}function Bs(){var N,R,A;for(N=M,R=[],A=mi();A!==i;)R.push(A),A=mi();return A=ut(),N=mn(R),N}function mi(){var N,R,A,ue,le,je,Nt;return B++,N=M,ut(),o.charCodeAt(M)===91?(R=h,M++):(R=i,B===0&&ne(ie)),R!==i?(ut(),A=uo(),A!==i?(ut(),o.charCodeAt(M)===34?(ue=d,M++):(ue=i,B===0&&ne(Q)),ue!==i?(le=co(),o.charCodeAt(M)===34?(je=d,M++):(je=i,B===0&&ne(Q)),je!==i?(ut(),o.charCodeAt(M)===93?(Nt=m,M++):(Nt=i,B===0&&ne(D)),Nt!==i?N=mr(A,le):(M=N,N=i)):(M=N,N=i)):(M=N,N=i)):(M=N,N=i)):(M=N,N=i),B--,N===i&&B===0&&ne(q),N}function uo(){var N,R,A;if(B++,N=M,R=[],A=o.charAt(M),G.test(A)?M++:(A=i,B===0&&ne(te)),A!==i)for(;A!==i;)R.push(A),A=o.charAt(M),G.test(A)?M++:(A=i,B===0&&ne(te));else R=i;return R!==i?N=o.substring(N,M):N=R,B--,N===i&&(R=i,B===0&&ne(I)),N}function co(){var N,R,A;for(B++,N=M,R=[],A=o.charAt(M),Se.test(A)?M++:(A=i,B===0&&ne(ae));A!==i;)R.push(A),A=o.charAt(M),Se.test(A)?M++:(A=i,B===0&&ne(ae));return N=o.substring(N,M),B--,R=i,B===0&&ne(oe),N}function fo(){var N,R,A;return N=M,R=ho(),ut(),A=Rt(),A===i&&(A=null),ut(),N=nn(R,A),N}function ho(){var N,R,A,ue;for(N=M,R=Fn(),R===i&&(R=null),A=[],ue=po();ue!==i;)A.push(ue),ue=po();return N=rn(R,A),N}function po(){var N,R,A,ue,le,je,Nt,yn;if(N=M,ut(),Ve(),ut(),R=Ws(),R!==i){for(A=vi(),A===i&&(A=null),ue=[],le=yi();le!==i;)ue.push(le),le=yi();for(le=ut(),je=Fn(),je===i&&(je=null),Nt=[],yn=yr();yn!==i;)Nt.push(yn),yn=yr();N=Fr(R,A,ue,je,Nt)}else M=N,N=i;return N}function Ve(){var N,R,A,ue,le,je;for(B++,N=M,R=[],A=o.charAt(M),pe.test(A)?M++:(A=i,B===0&&ne(Y));A!==i;)R.push(A),A=o.charAt(M),pe.test(A)?M++:(A=i,B===0&&ne(Y));if(o.charCodeAt(M)===46?(A=v,M++):(A=i,B===0&&ne(Ee)),A!==i){for(ue=ut(),le=[],je=o.charAt(M),Ce.test(je)?M++:(je=i,B===0&&ne(De));je!==i;)le.push(je),je=o.charAt(M),Ce.test(je)?M++:(je=i,B===0&&ne(De));R=[R,A,ue,le],N=R}else M=N,N=i;return B--,N===i&&(R=i,B===0&&ne(me)),N}function Ws(){var N,R,A,ue,le,je;if(B++,N=M,R=M,o.substr(M,5)===E?(A=E,M+=5):(A=i,B===0&&ne(Ge)),A===i&&(o.substr(M,3)===k?(A=k,M+=3):(A=i,B===0&&ne(st)),A===i&&(o.substr(M,5)===S?(A=S,M+=5):(A=i,B===0&&ne(Vt)),A===i&&(o.substr(M,3)===T?(A=T,M+=3):(A=i,B===0&&ne(fr)),A===i))))if(A=M,ue=o.charAt(M),G.test(ue)?M++:(ue=i,B===0&&ne(te)),ue!==i){if(le=[],je=o.charAt(M),ke.test(je)?M++:(je=i,B===0&&ne(cn)),je!==i)for(;je!==i;)le.push(je),je=o.charAt(M),ke.test(je)?M++:(je=i,B===0&&ne(cn));else le=i;le!==i?(ue=[ue,le],A=ue):(M=A,A=i)}else M=A,A=i;return A!==i?(ue=o.charAt(M),Te.test(ue)?M++:(ue=i,B===0&&ne(Kt)),ue===i&&(ue=null),A=[A,ue],R=A):(M=R,R=i),R!==i?N=o.substring(N,M):N=R,B--,N===i&&(R=i,B===0&&ne(Fe)),N}function vi(){var N,R,A;for(B++,N=M,R=[],A=o.charAt(M),Ie.test(A)?M++:(A=i,B===0&&ne(fn));A!==i;)R.push(A),R.length>=2?A=i:(A=o.charAt(M),Ie.test(A)?M++:(A=i,B===0&&ne(fn)));return R.length<1?(M=N,N=i):N=R,B--,N===i&&(R=i,B===0&&ne(dr)),N}function yi(){var N,R,A,ue,le;if(B++,N=M,ut(),o.charCodeAt(M)===36?(R=_,M++):(R=i,B===0&&ne(en)),R!==i){if(A=M,ue=[],le=o.charAt(M),pe.test(le)?M++:(le=i,B===0&&ne(Y)),le!==i)for(;le!==i;)ue.push(le),le=o.charAt(M),pe.test(le)?M++:(le=i,B===0&&ne(Y));else ue=i;ue!==i?A=o.substring(A,M):A=ue,A!==i?N=Rn(A):(M=N,N=i)}else M=N,N=i;return B--,N===i&&B===0&&ne(hr),N}function Fn(){var N;return N=Hs(),N===i&&(N=go()),N}function Hs(){var N,R,A,ue,le;if(B++,N=M,o.charCodeAt(M)===123?(R=C,M++):(R=i,B===0&&ne(dn)),R!==i){for(A=M,ue=[],le=o.charAt(M),Me.test(le)?M++:(le=i,B===0&&ne(jn));le!==i;)ue.push(le),le=o.charAt(M),Me.test(le)?M++:(le=i,B===0&&ne(jn));A=o.substring(A,M),o.charCodeAt(M)===125?(ue=j,M++):(ue=i,B===0&&ne(Pn)),ue!==i?N=$r(A):(M=N,N=i)}else M=N,N=i;return B--,N===i&&(R=i,B===0&&ne(tn)),N}function go(){var N,R,A,ue,le;if(B++,N=M,o.charCodeAt(M)===59?(R=F,M++):(R=i,B===0&&ne(bn)),R!==i){for(A=M,ue=[],le=o.charAt(M),Pe.test(le)?M++:(le=i,B===0&&ne(qt));le!==i;)ue.push(le),le=o.charAt(M),Pe.test(le)?M++:(le=i,B===0&&ne(qt));A=o.substring(A,M),N=vn(A)}else M=N,N=i;return B--,N===i&&(R=i,B===0&&ne(Tt)),N}function yr(){var N,R,A,ue;return B++,N=M,ut(),o.charCodeAt(M)===40?(R=$,M++):(R=i,B===0&&ne(Ar)),R!==i?(A=ho(),A!==i?(ut(),o.charCodeAt(M)===41?(ue=U,M++):(ue=i,B===0&&ne(hn)),ue!==i?N=An(A):(M=N,N=i)):(M=N,N=i)):(M=N,N=i),B--,N===i&&B===0&&ne(Ln),N}function Rt(){var N,R,A;return B++,N=M,o.substr(M,3)===V?(R=V,M+=3):(R=i,B===0&&ne(Mn)),R===i&&(o.substr(M,3)===ce?(R=ce,M+=3):(R=i,B===0&&ne(pn)),R===i&&(o.substr(M,7)===fe?(R=fe,M+=7):(R=i,B===0&&ne(gn)),R===i&&(o.charCodeAt(M)===42?(R=X,M++):(R=i,B===0&&ne(pi))))),R!==i?(ut(),A=Fn(),A===i&&(A=null),N=vr(R,A)):(M=N,N=i),B--,N===i&&(R=i,B===0&&ne(It)),N}function ut(){var N,R;for(B++,N=[],R=o.charAt(M),ge.test(R)?M++:(R=i,B===0&&ne(In));R!==i;)N.push(R),R=o.charAt(M),ge.test(R)?M++:(R=i,B===0&&ne(In));return B--,R=i,B===0&&ne(pr),N}if(Ue=f(),r.peg$library)return{peg$result:Ue,peg$currPos:M,peg$FAILED:i,peg$maxFailExpected:Ne,peg$maxFailPos:lt};if(Ue!==i&&M===o.length)return Ue;throw Ue!==i&&M<o.length&&ne(at()),ao(Ne,lt<o.length?o.charAt(lt):null,lt<o.length?lo(lt,lt+1):lo(lt,lt))}/**
 * @license
 * Copyright (c) 2025, Jeff Hlywa (jhlywa@gmail.com)
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice,
 *    this list of conditions and the following disclaimer.
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the documentation
 *    and/or other materials provided with the distribution.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
 * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
 * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
 * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
 * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
 * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
 * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 * POSSIBILITY OF SUCH DAMAGE.
 */const Os=0xffffffffffffffffn;function ja(o,r){return(o<<r|o>>64n-r)&0xffffffffffffffffn}function Xf(o,r){return o*r&Os}function N0(o){return function(){let r=BigInt(o&Os),i=BigInt(o>>64n&Os);const l=Xf(ja(Xf(r,5n),7n),9n);return i^=r,r=(ja(r,24n)^i^i<<16n)&Os,i=ja(i,37n),o=i<<64n|r,l}}const Rs=N0(0xa187eb39cdcaed8f31c4b365b102e01en),j0=Array.from({length:2},()=>Array.from({length:6},()=>Array.from({length:128},()=>Rs()))),P0=Array.from({length:8},()=>Rs()),b0=Array.from({length:16},()=>Rs()),Pa=Rs(),yt="w",Mt="b",Ze="p",qa="n",Ds="b",eo="r",lr="q",tt="k",ba="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1";class vs{constructor(r,i){He(this,"color");He(this,"from");He(this,"to");He(this,"piece");He(this,"captured");He(this,"promotion");He(this,"flags");He(this,"san");He(this,"lan");He(this,"before");He(this,"after");const{color:l,piece:a,from:f,to:h,flags:d,captured:m,promotion:v}=i,E=ot(f),k=ot(h);this.color=l,this.piece=a,this.from=E,this.to=k,this.san=r._moveToSan(i,r._moves({legal:!0})),this.lan=E+k,this.before=r.fen(),r._makeMove(i),this.after=r.fen(),r._undoMove(),this.flags="";for(const S in we)we[S]&d&&(this.flags+=Pr[S]);m&&(this.captured=m),v&&(this.promotion=v,this.lan+=v)}isCapture(){return this.flags.indexOf(Pr.CAPTURE)>-1}isPromotion(){return this.flags.indexOf(Pr.PROMOTION)>-1}isEnPassant(){return this.flags.indexOf(Pr.EP_CAPTURE)>-1}isKingsideCastle(){return this.flags.indexOf(Pr.KSIDE_CASTLE)>-1}isQueensideCastle(){return this.flags.indexOf(Pr.QSIDE_CASTLE)>-1}isBigPawn(){return this.flags.indexOf(Pr.BIG_PAWN)>-1}}const dt=-1,Pr={NORMAL:"n",CAPTURE:"c",BIG_PAWN:"b",EP_CAPTURE:"e",PROMOTION:"p",KSIDE_CASTLE:"k",QSIDE_CASTLE:"q",NULL_MOVE:"-"},we={NORMAL:1,CAPTURE:2,BIG_PAWN:4,EP_CAPTURE:8,PROMOTION:16,KSIDE_CASTLE:32,QSIDE_CASTLE:64,NULL_MOVE:128},Qa={Event:"?",Site:"?",Date:"????.??.??",Round:"?",White:"?",Black:"?",Result:"*"},L0={WhiteTitle:null,BlackTitle:null,WhiteElo:null,BlackElo:null,WhiteUSCF:null,BlackUSCF:null,WhiteNA:null,BlackNA:null,WhiteType:null,BlackType:null,EventDate:null,EventSponsor:null,Section:null,Stage:null,Board:null,Opening:null,Variation:null,SubVariation:null,ECO:null,NIC:null,Time:null,UTCTime:null,UTCDate:null,TimeControl:null,SetUp:null,FEN:null,Termination:null,Annotator:null,Mode:null,PlyCount:null},M0={...Qa,...L0},ve={a8:0,b8:1,c8:2,d8:3,e8:4,f8:5,g8:6,h8:7,a7:16,b7:17,c7:18,d7:19,e7:20,f7:21,g7:22,h7:23,a6:32,b6:33,c6:34,d6:35,e6:36,f6:37,g6:38,h6:39,a5:48,b5:49,c5:50,d5:51,e5:52,f5:53,g5:54,h5:55,a4:64,b4:65,c4:66,d4:67,e4:68,f4:69,g4:70,h4:71,a3:80,b3:81,c3:82,d3:83,e3:84,f3:85,g3:86,h3:87,a2:96,b2:97,c2:98,d2:99,e2:100,f2:101,g2:102,h2:103,a1:112,b1:113,c1:114,d1:115,e1:116,f1:117,g1:118,h1:119},La={b:[16,32,17,15],w:[-16,-32,-17,-15]},Zf={n:[-18,-33,-31,-14,18,33,31,14],b:[-17,-15,17,15],r:[-16,1,16,-1],q:[-17,-16,-15,1,17,16,15,-1],k:[-17,-16,-15,1,17,16,15,-1]},I0=[20,0,0,0,0,0,0,24,0,0,0,0,0,0,20,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,24,24,24,24,24,24,56,0,56,24,24,24,24,24,24,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,20,0,0,0,0,0,0,24,0,0,0,0,0,0,20],R0=[17,0,0,0,0,0,0,16,0,0,0,0,0,0,15,0,0,17,0,0,0,0,0,16,0,0,0,0,0,15,0,0,0,0,17,0,0,0,0,16,0,0,0,0,15,0,0,0,0,0,0,17,0,0,0,16,0,0,0,15,0,0,0,0,0,0,0,0,17,0,0,16,0,0,15,0,0,0,0,0,0,0,0,0,0,17,0,16,0,15,0,0,0,0,0,0,0,0,0,0,0,0,17,16,15,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,-15,-16,-17,0,0,0,0,0,0,0,0,0,0,0,0,-15,0,-16,0,-17,0,0,0,0,0,0,0,0,0,0,-15,0,0,-16,0,0,-17,0,0,0,0,0,0,0,0,-15,0,0,0,-16,0,0,0,-17,0,0,0,0,0,0,-15,0,0,0,0,-16,0,0,0,0,-17,0,0,0,0,-15,0,0,0,0,0,-16,0,0,0,0,0,-17,0,0,-15,0,0,0,0,0,0,-16,0,0,0,0,0,0,-17],A0={p:1,n:2,b:4,r:8,q:16,k:32},F0="pnbrqkPNBRQK",Jf=[qa,Ds,eo,lr],$0=7,z0=6,U0=1,B0=0,ys={[tt]:we.KSIDE_CASTLE,[lr]:we.QSIDE_CASTLE},ir={w:[{square:ve.a1,flag:we.QSIDE_CASTLE},{square:ve.h1,flag:we.KSIDE_CASTLE}],b:[{square:ve.a8,flag:we.QSIDE_CASTLE},{square:ve.h8,flag:we.KSIDE_CASTLE}]},W0={b:U0,w:z0},Ma="--";function br(o){return o>>4}function io(o){return o&15}function Wd(o){return"0123456789".indexOf(o)!==-1}function ot(o){const r=io(o),i=br(o);return"abcdefgh".substring(r,r+1)+"87654321".substring(i,i+1)}function Zi(o){return o===yt?Mt:yt}function H0(o){const r=o.split(/\s+/);if(r.length!==6)return{ok:!1,error:"Invalid FEN: must contain six space-delimited fields"};const i=parseInt(r[5],10);if(isNaN(i)||i<=0)return{ok:!1,error:"Invalid FEN: move number must be a positive integer"};const l=parseInt(r[4],10);if(isNaN(l)||l<0)return{ok:!1,error:"Invalid FEN: half move counter number must be a non-negative integer"};if(!/^(-|[abcdefgh][36])$/.test(r[3]))return{ok:!1,error:"Invalid FEN: en-passant square is invalid"};if(/[^kKqQ-]/.test(r[2]))return{ok:!1,error:"Invalid FEN: castling availability is invalid"};if(!/^(w|b)$/.test(r[1]))return{ok:!1,error:"Invalid FEN: side-to-move is invalid"};const a=r[0].split("/");if(a.length!==8)return{ok:!1,error:"Invalid FEN: piece data does not contain 8 '/'-delimited rows"};for(let h=0;h<a.length;h++){let d=0,m=!1;for(let v=0;v<a[h].length;v++)if(Wd(a[h][v])){if(m)return{ok:!1,error:"Invalid FEN: piece data is invalid (consecutive number)"};d+=parseInt(a[h][v],10),m=!0}else{if(!/^[prnbqkPRNBQK]$/.test(a[h][v]))return{ok:!1,error:"Invalid FEN: piece data is invalid (invalid piece)"};d+=1,m=!1}if(d!==8)return{ok:!1,error:"Invalid FEN: piece data is invalid (too many squares in rank)"}}if(r[3][1]=="3"&&r[1]=="w"||r[3][1]=="6"&&r[1]=="b")return{ok:!1,error:"Invalid FEN: illegal en-passant square"};const f=[{color:"white",regex:/K/g},{color:"black",regex:/k/g}];for(const{color:h,regex:d}of f){if(!d.test(r[0]))return{ok:!1,error:`Invalid FEN: missing ${h} king`};if((r[0].match(d)||[]).length>1)return{ok:!1,error:`Invalid FEN: too many ${h} kings`}}return Array.from(a[0]+a[7]).some(h=>h.toUpperCase()==="P")?{ok:!1,error:"Invalid FEN: some pawns are on the edge rows"}:{ok:!0}}function V0(o,r){const i=o.from,l=o.to,a=o.piece;let f=0,h=0,d=0;for(let m=0,v=r.length;m<v;m++){const E=r[m].from,k=r[m].to,S=r[m].piece;a===S&&i!==E&&l===k&&(f++,br(i)===br(E)&&h++,io(i)===io(E)&&d++)}return f>0?h>0&&d>0?ot(i):d>0?ot(i).charAt(1):ot(i).charAt(0):""}function or(o,r,i,l,a,f=void 0,h=we.NORMAL){const d=br(l);if(a===Ze&&(d===$0||d===B0))for(let m=0;m<Jf.length;m++){const v=Jf[m];o.push({color:r,from:i,to:l,piece:a,captured:f,promotion:v,flags:h|we.PROMOTION})}else o.push({color:r,from:i,to:l,piece:a,captured:f,flags:h})}function ed(o){let r=o.charAt(0);return r>="a"&&r<="h"?o.match(/[a-h]\d.*[a-h]\d/)?void 0:Ze:(r=r.toLowerCase(),r==="o"?tt:r)}function Ia(o){return o.replace(/=/,"").replace(/[+#]?[?!]*$/,"")}class Dn{constructor(r=ba,{skipValidation:i=!1}={}){He(this,"_board",new Array(128));He(this,"_turn",yt);He(this,"_header",{});He(this,"_kings",{w:dt,b:dt});He(this,"_epSquare",-1);He(this,"_halfMoves",0);He(this,"_moveNumber",0);He(this,"_history",[]);He(this,"_comments",{});He(this,"_castling",{w:0,b:0});He(this,"_hash",0n);He(this,"_positionCount",new Map);this.load(r,{skipValidation:i})}clear({preserveHeaders:r=!1}={}){this._board=new Array(128),this._kings={w:dt,b:dt},this._turn=yt,this._castling={w:0,b:0},this._epSquare=dt,this._halfMoves=0,this._moveNumber=1,this._history=[],this._comments={},this._header=r?this._header:{...M0},this._hash=this._computeHash(),this._positionCount=new Map,this._header.SetUp=null,this._header.FEN=null}load(r,{skipValidation:i=!1,preserveHeaders:l=!1}={}){let a=r.split(/\s+/);if(a.length>=2&&a.length<6){const d=["-","-","0","1"];r=a.concat(d.slice(-(6-a.length))).join(" ")}if(a=r.split(/\s+/),!i){const{ok:d,error:m}=H0(r);if(!d)throw new Error(m)}const f=a[0];let h=0;this.clear({preserveHeaders:l});for(let d=0;d<f.length;d++){const m=f.charAt(d);if(m==="/")h+=8;else if(Wd(m))h+=parseInt(m,10);else{const v=m<"a"?yt:Mt;this._put({type:m.toLowerCase(),color:v},ot(h)),h++}}this._turn=a[1],a[2].indexOf("K")>-1&&(this._castling.w|=we.KSIDE_CASTLE),a[2].indexOf("Q")>-1&&(this._castling.w|=we.QSIDE_CASTLE),a[2].indexOf("k")>-1&&(this._castling.b|=we.KSIDE_CASTLE),a[2].indexOf("q")>-1&&(this._castling.b|=we.QSIDE_CASTLE),this._epSquare=a[3]==="-"?dt:ve[a[3]],this._halfMoves=parseInt(a[4],10),this._moveNumber=parseInt(a[5],10),this._hash=this._computeHash(),this._updateSetup(r),this._incPositionCount()}fen({forceEnpassantSquare:r=!1}={}){var h,d;let i=0,l="";for(let m=ve.a8;m<=ve.h1;m++){if(this._board[m]){i>0&&(l+=i,i=0);const{color:v,type:E}=this._board[m];l+=v===yt?E.toUpperCase():E.toLowerCase()}else i++;m+1&136&&(i>0&&(l+=i),m!==ve.h1&&(l+="/"),i=0,m+=8)}let a="";this._castling[yt]&we.KSIDE_CASTLE&&(a+="K"),this._castling[yt]&we.QSIDE_CASTLE&&(a+="Q"),this._castling[Mt]&we.KSIDE_CASTLE&&(a+="k"),this._castling[Mt]&we.QSIDE_CASTLE&&(a+="q"),a=a||"-";let f="-";if(this._epSquare!==dt)if(r)f=ot(this._epSquare);else{const m=this._epSquare+(this._turn===yt?16:-16),v=[m+1,m-1];for(const E of v){if(E&136)continue;const k=this._turn;if(((h=this._board[E])==null?void 0:h.color)===k&&((d=this._board[E])==null?void 0:d.type)===Ze){this._makeMove({color:k,from:E,to:this._epSquare,piece:Ze,captured:Ze,flags:we.EP_CAPTURE});const S=!this._isKingAttacked(k);if(this._undoMove(),S){f=ot(this._epSquare);break}}}}return[l,this._turn,a,f,this._halfMoves,this._moveNumber].join(" ")}_pieceKey(r){if(!this._board[r])return 0n;const{color:i,type:l}=this._board[r],a={w:0,b:1}[i],f={p:0,n:1,b:2,r:3,q:4,k:5}[l];return j0[a][f][r]}_epKey(){return this._epSquare===dt?0n:P0[this._epSquare&7]}_castlingKey(){const r=this._castling.w>>5|this._castling.b>>3;return b0[r]}_computeHash(){let r=0n;for(let i=ve.a8;i<=ve.h1;i++){if(i&136){i+=7;continue}this._board[i]&&(r^=this._pieceKey(i))}return r^=this._epKey(),r^=this._castlingKey(),this._turn==="b"&&(r^=Pa),r}_updateSetup(r){this._history.length>0||(r!==ba?(this._header.SetUp="1",this._header.FEN=r):(this._header.SetUp=null,this._header.FEN=null))}reset(){this.load(ba)}get(r){return this._board[ve[r]]}findPiece(r){var l;const i=[];for(let a=ve.a8;a<=ve.h1;a++){if(a&136){a+=7;continue}!this._board[a]||((l=this._board[a])==null?void 0:l.color)!==r.color||this._board[a].color===r.color&&this._board[a].type===r.type&&i.push(ot(a))}return i}put({type:r,color:i},l){return this._put({type:r,color:i},l)?(this._updateCastlingRights(),this._updateEnPassantSquare(),this._updateSetup(this.fen()),!0):!1}_set(r,i){this._hash^=this._pieceKey(r),this._board[r]=i,this._hash^=this._pieceKey(r)}_put({type:r,color:i},l){if(F0.indexOf(r.toLowerCase())===-1||!(l in ve))return!1;const a=ve[l];if(r==tt&&!(this._kings[i]==dt||this._kings[i]==a))return!1;const f=this._board[a];return f&&f.type===tt&&(this._kings[f.color]=dt),this._set(a,{type:r,color:i}),r===tt&&(this._kings[i]=a),!0}_clear(r){this._hash^=this._pieceKey(r),delete this._board[r]}remove(r){const i=this.get(r);return this._clear(ve[r]),i&&i.type===tt&&(this._kings[i.color]=dt),this._updateCastlingRights(),this._updateEnPassantSquare(),this._updateSetup(this.fen()),i}_updateCastlingRights(){var l,a,f,h,d,m,v,E,k,S,T,_;this._hash^=this._castlingKey();const r=((l=this._board[ve.e1])==null?void 0:l.type)===tt&&((a=this._board[ve.e1])==null?void 0:a.color)===yt,i=((f=this._board[ve.e8])==null?void 0:f.type)===tt&&((h=this._board[ve.e8])==null?void 0:h.color)===Mt;(!r||((d=this._board[ve.a1])==null?void 0:d.type)!==eo||((m=this._board[ve.a1])==null?void 0:m.color)!==yt)&&(this._castling.w&=-65),(!r||((v=this._board[ve.h1])==null?void 0:v.type)!==eo||((E=this._board[ve.h1])==null?void 0:E.color)!==yt)&&(this._castling.w&=-33),(!i||((k=this._board[ve.a8])==null?void 0:k.type)!==eo||((S=this._board[ve.a8])==null?void 0:S.color)!==Mt)&&(this._castling.b&=-65),(!i||((T=this._board[ve.h8])==null?void 0:T.type)!==eo||((_=this._board[ve.h8])==null?void 0:_.color)!==Mt)&&(this._castling.b&=-33),this._hash^=this._castlingKey()}_updateEnPassantSquare(){var f,h;if(this._epSquare===dt)return;const r=this._epSquare+(this._turn===yt?-16:16),i=this._epSquare+(this._turn===yt?16:-16),l=[i+1,i-1];if(this._board[r]!==null||this._board[this._epSquare]!==null||((f=this._board[i])==null?void 0:f.color)!==Zi(this._turn)||((h=this._board[i])==null?void 0:h.type)!==Ze){this._hash^=this._epKey(),this._epSquare=dt;return}const a=d=>{var m,v;return!(d&136)&&((m=this._board[d])==null?void 0:m.color)===this._turn&&((v=this._board[d])==null?void 0:v.type)===Ze};l.some(a)||(this._hash^=this._epKey(),this._epSquare=dt)}_attacked(r,i,l){const a=[];for(let f=ve.a8;f<=ve.h1;f++){if(f&136){f+=7;continue}if(this._board[f]===void 0||this._board[f].color!==r)continue;const h=this._board[f],d=f-i;if(d===0)continue;const m=d+119;if(I0[m]&A0[h.type]){if(h.type===Ze){if(d>0&&h.color===yt||d<=0&&h.color===Mt)if(l)a.push(ot(f));else return!0;continue}if(h.type==="n"||h.type==="k")if(l){a.push(ot(f));continue}else return!0;const v=R0[m];let E=f+v,k=!1;for(;E!==i;){if(this._board[E]!=null){k=!0;break}E+=v}if(!k)if(l){a.push(ot(f));continue}else return!0}}return l?a:!1}attackers(r,i){return i?this._attacked(i,ve[r],!0):this._attacked(this._turn,ve[r],!0)}_isKingAttacked(r){const i=this._kings[r];return i===-1?!1:this._attacked(Zi(r),i)}hash(){return this._hash.toString(16)}isAttacked(r,i){return this._attacked(i,ve[r])}isCheck(){return this._isKingAttacked(this._turn)}inCheck(){return this.isCheck()}isCheckmate(){return this.isCheck()&&this._moves().length===0}isStalemate(){return!this.isCheck()&&this._moves().length===0}isInsufficientMaterial(){const r={b:0,n:0,r:0,q:0,k:0,p:0},i=[];let l=0,a=0;for(let f=ve.a8;f<=ve.h1;f++){if(a=(a+1)%2,f&136){f+=7;continue}const h=this._board[f];h&&(r[h.type]=h.type in r?r[h.type]+1:1,h.type===Ds&&i.push(a),l++)}if(l===2)return!0;if(l===3&&(r[Ds]===1||r[qa]===1))return!0;if(l===r[Ds]+2){let f=0;const h=i.length;for(let d=0;d<h;d++)f+=i[d];if(f===0||f===h)return!0}return!1}isThreefoldRepetition(){return this._getPositionCount(this._hash)>=3}isDrawByFiftyMoves(){return this._halfMoves>=100}isDraw(){return this.isDrawByFiftyMoves()||this.isStalemate()||this.isInsufficientMaterial()||this.isThreefoldRepetition()}isGameOver(){return this.isCheckmate()||this.isDraw()}moves({verbose:r=!1,square:i=void 0,piece:l=void 0}={}){const a=this._moves({square:i,piece:l});return r?a.map(f=>new vs(this,f)):a.map(f=>this._moveToSan(f,a))}_moves({legal:r=!0,piece:i=void 0,square:l=void 0}={}){var T;const a=l?l.toLowerCase():void 0,f=i==null?void 0:i.toLowerCase(),h=[],d=this._turn,m=Zi(d);let v=ve.a8,E=ve.h1,k=!1;if(a)if(a in ve)v=E=ve[a],k=!0;else return[];for(let _=v;_<=E;_++){if(_&136){_+=7;continue}if(!this._board[_]||this._board[_].color===m)continue;const{type:C}=this._board[_];let j;if(C===Ze){if(f&&f!==C)continue;j=_+La[d][0],this._board[j]||(or(h,d,_,j,Ze),j=_+La[d][1],W0[d]===br(_)&&!this._board[j]&&or(h,d,_,j,Ze,void 0,we.BIG_PAWN));for(let F=2;F<4;F++)j=_+La[d][F],!(j&136)&&(((T=this._board[j])==null?void 0:T.color)===m?or(h,d,_,j,Ze,this._board[j].type,we.CAPTURE):j===this._epSquare&&or(h,d,_,j,Ze,Ze,we.EP_CAPTURE))}else{if(f&&f!==C)continue;for(let F=0,$=Zf[C].length;F<$;F++){const U=Zf[C][F];for(j=_;j+=U,!(j&136);){if(!this._board[j])or(h,d,_,j,C);else{if(this._board[j].color===d)break;or(h,d,_,j,C,this._board[j].type,we.CAPTURE);break}if(C===qa||C===tt)break}}}}if((f===void 0||f===tt)&&(!k||E===this._kings[d])){if(this._castling[d]&we.KSIDE_CASTLE){const _=this._kings[d],C=_+2;!this._board[_+1]&&!this._board[C]&&!this._attacked(m,this._kings[d])&&!this._attacked(m,_+1)&&!this._attacked(m,C)&&or(h,d,this._kings[d],C,tt,void 0,we.KSIDE_CASTLE)}if(this._castling[d]&we.QSIDE_CASTLE){const _=this._kings[d],C=_-2;!this._board[_-1]&&!this._board[_-2]&&!this._board[_-3]&&!this._attacked(m,this._kings[d])&&!this._attacked(m,_-1)&&!this._attacked(m,C)&&or(h,d,this._kings[d],C,tt,void 0,we.QSIDE_CASTLE)}}if(!r||this._kings[d]===-1)return h;const S=[];for(let _=0,C=h.length;_<C;_++)this._makeMove(h[_]),this._isKingAttacked(d)||S.push(h[_]),this._undoMove();return S}move(r,{strict:i=!1}={}){let l=null;if(typeof r=="string")l=this._moveFromSan(r,i);else if(r===null)l=this._moveFromSan(Ma,i);else if(typeof r=="object"){const f=this._moves();for(let h=0,d=f.length;h<d;h++)if(r.from===ot(f[h].from)&&r.to===ot(f[h].to)&&(!("promotion"in f[h])||r.promotion===f[h].promotion)){l=f[h];break}}if(!l)throw typeof r=="string"?new Error(`Invalid move: ${r}`):new Error(`Invalid move: ${JSON.stringify(r)}`);if(this.isCheck()&&l.flags&we.NULL_MOVE)throw new Error("Null move not allowed when in check");const a=new vs(this,l);return this._makeMove(l),this._incPositionCount(),a}_push(r){this._history.push({move:r,kings:{b:this._kings.b,w:this._kings.w},turn:this._turn,castling:{b:this._castling.b,w:this._castling.w},epSquare:this._epSquare,halfMoves:this._halfMoves,moveNumber:this._moveNumber})}_movePiece(r,i){this._hash^=this._pieceKey(r),this._board[i]=this._board[r],delete this._board[r],this._hash^=this._pieceKey(i)}_makeMove(r){var a,f,h,d;const i=this._turn,l=Zi(i);if(this._push(r),r.flags&we.NULL_MOVE){i===Mt&&this._moveNumber++,this._halfMoves++,this._turn=l,this._epSquare=dt;return}if(this._hash^=this._epKey(),this._hash^=this._castlingKey(),r.captured&&(this._hash^=this._pieceKey(r.to)),this._movePiece(r.from,r.to),r.flags&we.EP_CAPTURE&&(this._turn===Mt?this._clear(r.to-16):this._clear(r.to+16)),r.promotion&&(this._clear(r.to),this._set(r.to,{type:r.promotion,color:i})),this._board[r.to].type===tt){if(this._kings[i]=r.to,r.flags&we.KSIDE_CASTLE){const m=r.to-1,v=r.to+1;this._movePiece(v,m)}else if(r.flags&we.QSIDE_CASTLE){const m=r.to+1,v=r.to-2;this._movePiece(v,m)}this._castling[i]=0}if(this._castling[i]){for(let m=0,v=ir[i].length;m<v;m++)if(r.from===ir[i][m].square&&this._castling[i]&ir[i][m].flag){this._castling[i]^=ir[i][m].flag;break}}if(this._castling[l]){for(let m=0,v=ir[l].length;m<v;m++)if(r.to===ir[l][m].square&&this._castling[l]&ir[l][m].flag){this._castling[l]^=ir[l][m].flag;break}}if(this._hash^=this._castlingKey(),r.flags&we.BIG_PAWN){let m;i===Mt?m=r.to-16:m=r.to+16,!(r.to-1&136)&&((a=this._board[r.to-1])==null?void 0:a.type)===Ze&&((f=this._board[r.to-1])==null?void 0:f.color)===l||!(r.to+1&136)&&((h=this._board[r.to+1])==null?void 0:h.type)===Ze&&((d=this._board[r.to+1])==null?void 0:d.color)===l?(this._epSquare=m,this._hash^=this._epKey()):this._epSquare=dt}else this._epSquare=dt;r.piece===Ze?this._halfMoves=0:r.flags&(we.CAPTURE|we.EP_CAPTURE)?this._halfMoves=0:this._halfMoves++,i===Mt&&this._moveNumber++,this._turn=l,this._hash^=Pa}undo(){const r=this._hash,i=this._undoMove();if(i){const l=new vs(this,i);return this._decPositionCount(r),l}return null}_undoMove(){const r=this._history.pop();if(r===void 0)return null;this._hash^=this._epKey(),this._hash^=this._castlingKey();const i=r.move;this._kings=r.kings,this._turn=r.turn,this._castling=r.castling,this._epSquare=r.epSquare,this._halfMoves=r.halfMoves,this._moveNumber=r.moveNumber,this._hash^=this._epKey(),this._hash^=this._castlingKey(),this._hash^=Pa;const l=this._turn,a=Zi(l);if(i.flags&we.NULL_MOVE)return i;if(this._movePiece(i.to,i.from),i.piece&&(this._clear(i.from),this._set(i.from,{type:i.piece,color:l})),i.captured)if(i.flags&we.EP_CAPTURE){let f;l===Mt?f=i.to-16:f=i.to+16,this._set(f,{type:Ze,color:a})}else this._set(i.to,{type:i.captured,color:a});if(i.flags&(we.KSIDE_CASTLE|we.QSIDE_CASTLE)){let f,h;i.flags&we.KSIDE_CASTLE?(f=i.to+1,h=i.to-1):(f=i.to-2,h=i.to+1),this._movePiece(h,f)}return i}pgn({newline:r=`
`,maxWidth:i=0}={}){const l=[];let a=!1;for(const S in this._header)this._header[S]&&l.push(`[${S} "${this._header[S]}"]`+r),a=!0;a&&this._history.length&&l.push(r);const f=S=>{const T=this._comments[this.fen()];if(typeof T<"u"){const _=S.length>0?" ":"";S=`${S}${_}{${T}}`}return S},h=[];for(;this._history.length>0;)h.push(this._undoMove());const d=[];let m="";for(h.length===0&&d.push(f(""));h.length>0;){m=f(m);const S=h.pop();if(!S)break;if(!this._history.length&&S.color==="b"){const T=`${this._moveNumber}. ...`;m=m?`${m} ${T}`:T}else S.color==="w"&&(m.length&&d.push(m),m=this._moveNumber+".");m=m+" "+this._moveToSan(S,this._moves({legal:!0})),this._makeMove(S)}if(m.length&&d.push(f(m)),d.push(this._header.Result||"*"),i===0)return l.join("")+d.join(" ");const v=function(){return l.length>0&&l[l.length-1]===" "?(l.pop(),!0):!1},E=function(S,T){for(const _ of T.split(" "))if(_){if(S+_.length>i){for(;v();)S--;l.push(r),S=0}l.push(_),S+=_.length,l.push(" "),S++}return v()&&S--,S};let k=0;for(let S=0;S<d.length;S++){if(k+d[S].length>i&&d[S].includes("{")){k=E(k,d[S]);continue}k+d[S].length>i&&S!==0?(l[l.length-1]===" "&&l.pop(),l.push(r),k=0):S!==0&&(l.push(" "),k++),l.push(d[S]),k+=d[S].length}return l.join("")}header(...r){for(let i=0;i<r.length;i+=2)typeof r[i]=="string"&&typeof r[i+1]=="string"&&(this._header[r[i]]=r[i+1]);return this._header}setHeader(r,i){return this._header[r]=i??Qa[r]??null,this.getHeaders()}removeHeader(r){return r in this._header?(this._header[r]=Qa[r]||null,!0):!1}getHeaders(){const r={};for(const[i,l]of Object.entries(this._header))l!==null&&(r[i]=l);return r}loadPgn(r,{strict:i=!1,newlineChar:l=`\r?
`}={}){l!==`\r?
`&&(r=r.replace(new RegExp(l,"g"),`
`));const a=T0(r);this.reset();const f=a.headers;let h="";for(const v in f)v.toLowerCase()==="fen"&&(h=f[v]),this.header(v,f[v]);if(!i)h&&this.load(h,{preserveHeaders:!0});else if(f.SetUp==="1"){if(!("FEN"in f))throw new Error("Invalid PGN: FEN tag must be supplied with SetUp tag");this.load(f.FEN,{preserveHeaders:!0})}let d=a.root;for(;d;){if(d.move){const v=this._moveFromSan(d.move,i);if(v==null)throw new Error(`Invalid move in PGN: ${d.move}`);this._makeMove(v),this._incPositionCount()}d.comment!==void 0&&(this._comments[this.fen()]=d.comment),d=d.variations[0]}const m=a.result;m&&Object.keys(this._header).length&&this._header.Result!==m&&this.setHeader("Result",m)}_moveToSan(r,i){let l="";if(r.flags&we.KSIDE_CASTLE)l="O-O";else if(r.flags&we.QSIDE_CASTLE)l="O-O-O";else{if(r.flags&we.NULL_MOVE)return Ma;if(r.piece!==Ze){const a=V0(r,i);l+=r.piece.toUpperCase()+a}r.flags&(we.CAPTURE|we.EP_CAPTURE)&&(r.piece===Ze&&(l+=ot(r.from)[0]),l+="x"),l+=ot(r.to),r.promotion&&(l+="="+r.promotion.toUpperCase())}return this._makeMove(r),this.isCheck()&&(this.isCheckmate()?l+="#":l+="+"),this._undoMove(),l}_moveFromSan(r,i=!1){let l=Ia(r);if(i||(l==="0-0"?l="O-O":l==="0-0-0"&&(l="O-O-O")),l==Ma)return{color:this._turn,from:0,to:0,piece:"k",flags:we.NULL_MOVE};let a=ed(l),f=this._moves({legal:!0,piece:a});for(let S=0,T=f.length;S<T;S++)if(l===Ia(this._moveToSan(f[S],f)))return f[S];if(i)return null;let h,d,m,v,E,k=!1;if(d=l.match(/([pnbrqkPNBRQK])?([a-h][1-8])x?-?([a-h][1-8])([qrbnQRBN])?/),d?(h=d[1],m=d[2],v=d[3],E=d[4],m.length==1&&(k=!0)):(d=l.match(/([pnbrqkPNBRQK])?([a-h]?[1-8]?)x?-?([a-h][1-8])([qrbnQRBN])?/),d&&(h=d[1],m=d[2],v=d[3],E=d[4],m.length==1&&(k=!0))),a=ed(l),f=this._moves({legal:!0,piece:h||a}),!v)return null;for(let S=0,T=f.length;S<T;S++)if(m){if((!h||h.toLowerCase()==f[S].piece)&&ve[m]==f[S].from&&ve[v]==f[S].to&&(!E||E.toLowerCase()==f[S].promotion))return f[S];if(k){const _=ot(f[S].from);if((!h||h.toLowerCase()==f[S].piece)&&ve[v]==f[S].to&&(m==_[0]||m==_[1])&&(!E||E.toLowerCase()==f[S].promotion))return f[S]}}else if(l===Ia(this._moveToSan(f[S],f)).replace("x",""))return f[S];return null}ascii(){let r=`   +------------------------+
`;for(let i=ve.a8;i<=ve.h1;i++){if(io(i)===0&&(r+=" "+"87654321"[br(i)]+" |"),this._board[i]){const l=this._board[i].type,f=this._board[i].color===yt?l.toUpperCase():l.toLowerCase();r+=" "+f+" "}else r+=" . ";i+1&136&&(r+=`|
`,i+=8)}return r+=`   +------------------------+
`,r+="     a  b  c  d  e  f  g  h",r}perft(r){const i=this._moves({legal:!1});let l=0;const a=this._turn;for(let f=0,h=i.length;f<h;f++)this._makeMove(i[f]),this._isKingAttacked(a)||(r-1>0?l+=this.perft(r-1):l++),this._undoMove();return l}setTurn(r){return this._turn==r?!1:(this.move("--"),!0)}turn(){return this._turn}board(){const r=[];let i=[];for(let l=ve.a8;l<=ve.h1;l++)this._board[l]==null?i.push(null):i.push({square:ot(l),type:this._board[l].type,color:this._board[l].color}),l+1&136&&(r.push(i),i=[],l+=8);return r}squareColor(r){if(r in ve){const i=ve[r];return(br(i)+io(i))%2===0?"light":"dark"}return null}history({verbose:r=!1}={}){const i=[],l=[];for(;this._history.length>0;)i.push(this._undoMove());for(;;){const a=i.pop();if(!a)break;r?l.push(new vs(this,a)):l.push(this._moveToSan(a,this._moves())),this._makeMove(a)}return l}_getPositionCount(r){return this._positionCount.get(r)??0}_incPositionCount(){this._positionCount.set(this._hash,(this._positionCount.get(this._hash)??0)+1)}_decPositionCount(r){const i=this._positionCount.get(r)??0;i===1?this._positionCount.delete(r):this._positionCount.set(r,i-1)}_pruneComments(){const r=[],i={},l=a=>{a in this._comments&&(i[a]=this._comments[a])};for(;this._history.length>0;)r.push(this._undoMove());for(l(this.fen());;){const a=r.pop();if(!a)break;this._makeMove(a),l(this.fen())}this._comments=i}getComment(){return this._comments[this.fen()]}setComment(r){this._comments[this.fen()]=r.replace("{","[").replace("}","]")}deleteComment(){return this.removeComment()}removeComment(){const r=this._comments[this.fen()];return delete this._comments[this.fen()],r}getComments(){return this._pruneComments(),Object.keys(this._comments).map(r=>({fen:r,comment:this._comments[r]}))}deleteComments(){return this.removeComments()}removeComments(){return this._pruneComments(),Object.keys(this._comments).map(r=>{const i=this._comments[r];return delete this._comments[r],{fen:r,comment:i}})}setCastlingRights(r,i){for(const a of[tt,lr])i[a]!==void 0&&(i[a]?this._castling[r]|=ys[a]:this._castling[r]&=~ys[a]);this._updateCastlingRights();const l=this.getCastlingRights(r);return(i[tt]===void 0||i[tt]===l[tt])&&(i[lr]===void 0||i[lr]===l[lr])}getCastlingRights(r){return{[tt]:(this._castling[r]&ys[tt])!==0,[lr]:(this._castling[r]&ys[lr])!==0}}moveNumber(){return this._moveNumber}}function K0(o,r){var i={};for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&r.indexOf(l)<0&&(i[l]=o[l]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,l=Object.getOwnPropertySymbols(o);a<l.length;a++)r.indexOf(l[a])<0&&Object.prototype.propertyIsEnumerable.call(o,l[a])&&(i[l[a]]=o[l[a]]);return i}const oo="abcdefgh".split(""),Ts={a8:"bR",b8:"bN",c8:"bB",d8:"bQ",e8:"bK",f8:"bB",g8:"bN",h8:"bR",a7:"bP",b7:"bP",c7:"bP",d7:"bP",e7:"bP",f7:"bP",g7:"bP",h7:"bP",a2:"wP",b2:"wP",c2:"wP",d2:"wP",e2:"wP",f2:"wP",g2:"wP",h2:"wP",a1:"wR",b1:"wN",c1:"wB",d1:"wQ",e1:"wK",f1:"wB",g1:"wN",h1:"wR"},q0={a:0,b:1,c:2,d:3,e:4,f:5,g:6,h:7},Q0={a:7,b:6,c:5,d:4,e:3,f:2,g:1,h:0},G0=[7,6,5,4,3,2,1,0],Y0=[0,1,2,3,4,5,6,7],td={wP:p.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:p.jsx("path",{d:"m 22.5,9 c -2.21,0 -4,1.79 -4,4 0,0.89 0.29,1.71 0.78,2.38 C 17.33,16.5 16,18.59 16,21 c 0,2.03 0.94,3.84 2.41,5.03 C 15.41,27.09 11,31.58 11,39.5 H 34 C 34,31.58 29.59,27.09 26.59,26.03 28.06,24.84 29,23.03 29,21 29,18.59 27.67,16.5 25.72,15.38 26.21,14.71 26.5,13.89 26.5,13 c 0,-2.21 -1.79,-4 -4,-4 z",style:{opacity:"1",fill:"#ffffff",fillOpacity:"1",fillRule:"nonzero",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"miter",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}})})),wR:p.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:p.jsxs("g",Object.assign({style:{opacity:"1",fill:"#ffffff",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[p.jsx("path",{d:"M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z ",style:{strokeLinecap:"butt"}}),p.jsx("path",{d:"M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z ",style:{strokeLinecap:"butt"}}),p.jsx("path",{d:"M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14",style:{strokeLinecap:"butt"}}),p.jsx("path",{d:"M 34,14 L 31,17 L 14,17 L 11,14"}),p.jsx("path",{d:"M 31,17 L 31,29.5 L 14,29.5 L 14,17",style:{strokeLinecap:"butt",strokeLinejoin:"miter"}}),p.jsx("path",{d:"M 31,29.5 L 32.5,32 L 12.5,32 L 14,29.5"}),p.jsx("path",{d:"M 11,14 L 34,14",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}})]}))})),wN:p.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:p.jsxs("g",Object.assign({style:{opacity:"1",fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[p.jsx("path",{d:"M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18",style:{fill:"#ffffff",stroke:"#000000"}}),p.jsx("path",{d:"M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10",style:{fill:"#ffffff",stroke:"#000000"}}),p.jsx("path",{d:"M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z",style:{fill:"#000000",stroke:"#000000"}}),p.jsx("path",{d:"M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z",transform:"matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)",style:{fill:"#000000",stroke:"#000000"}})]}))})),wB:p.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:p.jsxs("g",Object.assign({style:{opacity:"1",fill:"none",fillRule:"evenodd",fillOpacity:"1",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[p.jsxs("g",Object.assign({style:{fill:"#ffffff",stroke:"#000000",strokeLinecap:"butt"}},{children:[p.jsx("path",{d:"M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.65,38.99 6.68,38.97 6,38 C 7.35,36.54 9,36 9,36 z"}),p.jsx("path",{d:"M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z"}),p.jsx("path",{d:"M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z"})]})),p.jsx("path",{d:"M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}})]}))})),wQ:p.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:p.jsxs("g",Object.assign({style:{fill:"#ffffff",stroke:"#000000",strokeWidth:"1.5",strokeLinejoin:"round"}},{children:[p.jsx("path",{d:"M 9,26 C 17.5,24.5 30,24.5 36,26 L 38.5,13.5 L 31,25 L 30.7,10.9 L 25.5,24.5 L 22.5,10 L 19.5,24.5 L 14.3,10.9 L 14,25 L 6.5,13.5 L 9,26 z"}),p.jsx("path",{d:"M 9,26 C 9,28 10.5,28 11.5,30 C 12.5,31.5 12.5,31 12,33.5 C 10.5,34.5 11,36 11,36 C 9.5,37.5 11,38.5 11,38.5 C 17.5,39.5 27.5,39.5 34,38.5 C 34,38.5 35.5,37.5 34,36 C 34,36 34.5,34.5 33,33.5 C 32.5,31 32.5,31.5 33.5,30 C 34.5,28 36,28 36,26 C 27.5,24.5 17.5,24.5 9,26 z"}),p.jsx("path",{d:"M 11.5,30 C 15,29 30,29 33.5,30",style:{fill:"none"}}),p.jsx("path",{d:"M 12,33.5 C 18,32.5 27,32.5 33,33.5",style:{fill:"none"}}),p.jsx("circle",{cx:"6",cy:"12",r:"2"}),p.jsx("circle",{cx:"14",cy:"9",r:"2"}),p.jsx("circle",{cx:"22.5",cy:"8",r:"2"}),p.jsx("circle",{cx:"31",cy:"9",r:"2"}),p.jsx("circle",{cx:"39",cy:"12",r:"2"})]}))})),wK:p.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:p.jsxs("g",Object.assign({style:{fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[p.jsx("path",{d:"M 22.5,11.63 L 22.5,6",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}}),p.jsx("path",{d:"M 20,8 L 25,8",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}}),p.jsx("path",{d:"M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25",style:{fill:"#ffffff",stroke:"#000000",strokeLinecap:"butt",strokeLinejoin:"miter"}}),p.jsx("path",{d:"M 12.5,37 C 18,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 20,16 10.5,13 6.5,19.5 C 3.5,25.5 12.5,30 12.5,30 L 12.5,37",style:{fill:"#ffffff",stroke:"#000000"}}),p.jsx("path",{d:"M 12.5,30 C 18,27 27,27 32.5,30",style:{fill:"none",stroke:"#000000"}}),p.jsx("path",{d:"M 12.5,33.5 C 18,30.5 27,30.5 32.5,33.5",style:{fill:"none",stroke:"#000000"}}),p.jsx("path",{d:"M 12.5,37 C 18,34 27,34 32.5,37",style:{fill:"none",stroke:"#000000"}})]}))})),bP:p.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:p.jsx("path",{d:"m 22.5,9 c -2.21,0 -4,1.79 -4,4 0,0.89 0.29,1.71 0.78,2.38 C 17.33,16.5 16,18.59 16,21 c 0,2.03 0.94,3.84 2.41,5.03 C 15.41,27.09 11,31.58 11,39.5 H 34 C 34,31.58 29.59,27.09 26.59,26.03 28.06,24.84 29,23.03 29,21 29,18.59 27.67,16.5 25.72,15.38 26.21,14.71 26.5,13.89 26.5,13 c 0,-2.21 -1.79,-4 -4,-4 z",style:{opacity:"1",fill:"#000000",fillOpacity:"1",fillRule:"nonzero",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"miter",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}})})),bR:p.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:p.jsxs("g",Object.assign({style:{opacity:"1",fill:"#000000",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[p.jsx("path",{d:"M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z ",style:{strokeLinecap:"butt"}}),p.jsx("path",{d:"M 12.5,32 L 14,29.5 L 31,29.5 L 32.5,32 L 12.5,32 z ",style:{strokeLinecap:"butt"}}),p.jsx("path",{d:"M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z ",style:{strokeLinecap:"butt"}}),p.jsx("path",{d:"M 14,29.5 L 14,16.5 L 31,16.5 L 31,29.5 L 14,29.5 z ",style:{strokeLinecap:"butt",strokeLinejoin:"miter"}}),p.jsx("path",{d:"M 14,16.5 L 11,14 L 34,14 L 31,16.5 L 14,16.5 z ",style:{strokeLinecap:"butt"}}),p.jsx("path",{d:"M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14 L 11,14 z ",style:{strokeLinecap:"butt"}}),p.jsx("path",{d:"M 12,35.5 L 33,35.5 L 33,35.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),p.jsx("path",{d:"M 13,31.5 L 32,31.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),p.jsx("path",{d:"M 14,29.5 L 31,29.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),p.jsx("path",{d:"M 14,16.5 L 31,16.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),p.jsx("path",{d:"M 11,14 L 34,14",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}})]}))})),bN:p.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:p.jsxs("g",Object.assign({style:{opacity:"1",fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[p.jsx("path",{d:"M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18",style:{fill:"#000000",stroke:"#000000"}}),p.jsx("path",{d:"M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10",style:{fill:"#000000",stroke:"#000000"}}),p.jsx("path",{d:"M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z",style:{fill:"#ffffff",stroke:"#ffffff"}}),p.jsx("path",{d:"M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z",transform:"matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)",style:{fill:"#ffffff",stroke:"#ffffff"}}),p.jsx("path",{d:"M 24.55,10.4 L 24.1,11.85 L 24.6,12 C 27.75,13 30.25,14.49 32.5,18.75 C 34.75,23.01 35.75,29.06 35.25,39 L 35.2,39.5 L 37.45,39.5 L 37.5,39 C 38,28.94 36.62,22.15 34.25,17.66 C 31.88,13.17 28.46,11.02 25.06,10.5 L 24.55,10.4 z ",style:{fill:"#ffffff",stroke:"none"}})]}))})),bB:p.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:p.jsxs("g",Object.assign({style:{opacity:"1",fill:"none",fillRule:"evenodd",fillOpacity:"1",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[p.jsxs("g",Object.assign({style:{fill:"#000000",stroke:"#000000",strokeLinecap:"butt"}},{children:[p.jsx("path",{d:"M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.65,38.99 6.68,38.97 6,38 C 7.35,36.54 9,36 9,36 z"}),p.jsx("path",{d:"M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z"}),p.jsx("path",{d:"M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z"})]})),p.jsx("path",{d:"M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18",style:{fill:"none",stroke:"#ffffff",strokeLinejoin:"miter"}})]}))})),bQ:p.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:p.jsxs("g",Object.assign({style:{fill:"#000000",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}},{children:[p.jsx("path",{d:"M 9,26 C 17.5,24.5 30,24.5 36,26 L 38.5,13.5 L 31,25 L 30.7,10.9 L 25.5,24.5 L 22.5,10 L 19.5,24.5 L 14.3,10.9 L 14,25 L 6.5,13.5 L 9,26 z",style:{strokeLinecap:"butt",fill:"#000000"}}),p.jsx("path",{d:"m 9,26 c 0,2 1.5,2 2.5,4 1,1.5 1,1 0.5,3.5 -1.5,1 -1,2.5 -1,2.5 -1.5,1.5 0,2.5 0,2.5 6.5,1 16.5,1 23,0 0,0 1.5,-1 0,-2.5 0,0 0.5,-1.5 -1,-2.5 -0.5,-2.5 -0.5,-2 0.5,-3.5 1,-2 2.5,-2 2.5,-4 -8.5,-1.5 -18.5,-1.5 -27,0 z"}),p.jsx("path",{d:"M 11.5,30 C 15,29 30,29 33.5,30"}),p.jsx("path",{d:"m 12,33.5 c 6,-1 15,-1 21,0"}),p.jsx("circle",{cx:"6",cy:"12",r:"2"}),p.jsx("circle",{cx:"14",cy:"9",r:"2"}),p.jsx("circle",{cx:"22.5",cy:"8",r:"2"}),p.jsx("circle",{cx:"31",cy:"9",r:"2"}),p.jsx("circle",{cx:"39",cy:"12",r:"2"}),p.jsx("path",{d:"M 11,38.5 A 35,35 1 0 0 34,38.5",style:{fill:"none",stroke:"#000000",strokeLinecap:"butt"}}),p.jsxs("g",Object.assign({style:{fill:"none",stroke:"#ffffff"}},{children:[p.jsx("path",{d:"M 11,29 A 35,35 1 0 1 34,29"}),p.jsx("path",{d:"M 12.5,31.5 L 32.5,31.5"}),p.jsx("path",{d:"M 11.5,34.5 A 35,35 1 0 0 33.5,34.5"}),p.jsx("path",{d:"M 10.5,37.5 A 35,35 1 0 0 34.5,37.5"})]}))]}))})),bK:p.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:p.jsxs("g",Object.assign({style:{fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[p.jsx("path",{d:"M 22.5,11.63 L 22.5,6",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"},id:"path6570"}),p.jsx("path",{d:"M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25",style:{fill:"#000000",fillOpacity:"1",strokeLinecap:"butt",strokeLinejoin:"miter"}}),p.jsx("path",{d:"M 12.5,37 C 18,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 20,16 10.5,13 6.5,19.5 C 3.5,25.5 12.5,30 12.5,30 L 12.5,37",style:{fill:"#000000",stroke:"#000000"}}),p.jsx("path",{d:"M 20,8 L 25,8",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}}),p.jsx("path",{d:"M 32,29.5 C 32,29.5 40.5,25.5 38.03,19.85 C 34.15,14 25,18 22.5,24.5 L 22.5,26.6 L 22.5,24.5 C 20,18 10.85,14 6.97,19.85 C 4.5,25.5 13,29.5 13,29.5",style:{fill:"none",stroke:"#ffffff"}}),p.jsx("path",{d:"M 12.5,30 C 18,27 27,27 32.5,30 M 12.5,33.5 C 18,30.5 27,30.5 32.5,33.5 M 12.5,37 C 18,34 27,34 32.5,37",style:{fill:"none",stroke:"#ffffff"}})]}))}))};function Ga(o,r,i){const l=r/8,a=o==="white"?q0:Q0,f=o==="white"?G0:Y0,h=a[i[0]]*l+l/2,d=f[parseInt(i[1],10)-1]*l+l/2;return{x:h,y:d}}function nd(o){let r=!1;return Object.keys(Ts).forEach(i=>{o[i]!==Ts[i]&&(r=!0)}),Object.keys(o).forEach(i=>{Ts[i]!==o[i]&&(r=!0)}),r}function X0(o,r){const i={removed:{},added:{}};return Object.keys(o).forEach(l=>{r[l]!==o[l]&&(i.removed[l]=o[l])}),Object.keys(r).forEach(l=>{o[l]!==r[l]&&(i.added[l]=r[l])}),i}function rd(o){return o==="start"?Ts:typeof o=="string"?Z0(o):o}function Z0(o){if(!J0(o))return{};o=o.replace(/ .+$/,"");const r=o.split("/"),i={};let l=8;for(let a=0;a<8;a++){const f=r[a].split("");let h=0;for(let d=0;d<f.length;d++)if(f[d].search(/[1-8]/)!==-1){const m=parseInt(f[d],10);h=h+m}else{const m=oo[h]+l;i[m]=tg(f[d]),h=h+1}l=l-1}return i}function J0(o){o=o.replace(/ .+$/,""),o=eg(o);const r=o.split("/");if(r.length!==8)return!1;for(let i=0;i<8;i++)if(r[i].length!==8||r[i].search(/[^kqrnbpKQRNBP1]/)!==-1)return!1;return!0}function eg(o){return o.replace(/8/g,"11111111").replace(/7/g,"1111111").replace(/6/g,"111111").replace(/5/g,"11111").replace(/4/g,"1111").replace(/3/g,"111").replace(/2/g,"11")}function tg(o){return o.toLowerCase()===o?"b"+o.toUpperCase():"w"+o.toUpperCase()}const ng=(o,r=!0,i,l)=>{const[a,f]=w.useState([]),[h,d]=w.useState([]),[m,v]=w.useState();w.useEffect(()=>{Array.isArray(o)&&(E(),f(o==null?void 0:o.filter(_=>_[0]!==_[1])))},[o]),w.useEffect(()=>{i==null||i(h)},[h]);function E(){d([]),v(void 0)}const k=(_,C)=>{r&&v([_,C,l])},S=[...h,...a];return{arrows:S,newArrow:m,clearArrows:E,drawNewArrow:k,setArrows:d,onArrowDrawEnd:(_,C)=>{if(_===C||!r)return;let j;const F=[_,C,l];S.every(([U,V])=>!(U===_&&V===C))?j=[...h,F]:j=h.filter(([U,V])=>!(U===_&&V===C)),v(void 0),d(j)}}},Hd=w.createContext({}),Tn=()=>w.useContext(Hd),rg=w.forwardRef(({allowDragOutsideBoard:o=!0,animationDuration:r=300,areArrowsAllowed:i=!0,arePiecesDraggable:l=!0,arePremovesAllowed:a=!1,autoPromoteToQueen:f=!1,boardOrientation:h="white",boardWidth:d,children:m,clearPremovesOnRightClick:v=!0,customArrows:E,customArrowColor:k="rgb(255,170,0)",customBoardStyle:S,customNotationStyle:T,customDarkSquareStyle:_={backgroundColor:"#B58863"},customDropSquareStyle:C={boxShadow:"inset 0 0 1px 6px rgba(255,255,255,0.75)"},customLightSquareStyle:j={backgroundColor:"#F0D9B5"},customPieces:F,customPremoveDarkSquareStyle:$={backgroundColor:"#A42323"},customPremoveLightSquareStyle:U={backgroundColor:"#BD2828"},customSquare:V="div",customSquareStyles:ce,dropOffBoardAction:fe="snapback",id:X=0,isDraggablePiece:G=()=>!0,getPositionObject:Se=()=>{},onArrowsChange:pe=()=>{},onDragOverSquare:Ce=()=>{},onMouseOutSquare:ke=()=>{},onMouseOverSquare:Te=()=>{},onPieceClick:Ie=()=>{},onPieceDragBegin:Me=()=>{},onPieceDragEnd:Pe=()=>{},onPieceDrop:ge=()=>!0,onPieceDropOffBoard:q=()=>{},onPromotionCheck:ie=(Ge,st,Vt)=>(Vt==="wP"&&Ge[1]==="7"&&st[1]==="8"||Vt==="bP"&&Ge[1]==="2"&&st[1]==="1")&&Math.abs(Ge.charCodeAt(0)-st.charCodeAt(0))<=1,onPromotionPieceSelect:Q=()=>!0,onSparePieceDrop:D=()=>!0,onSquareClick:I=()=>{},onSquareRightClick:te=()=>{},position:oe="start",promotionDialogVariant:ae="default",promotionToSquare:me=null,showBoardNotation:Y=!0,showPromotionDialog:Ee=!1,snapToCursor:De=!0},Fe)=>{const[Ge,st]=w.useState(rd(oe)),[Vt,fr]=w.useState({removed:{},added:{}}),[cn,Kt]=w.useState(void 0),[dr,fn]=w.useState(Ee&&!f),[hr,en]=w.useState(null),[tn,dn]=w.useState(me),[jn,Pn]=w.useState([]),Tt=w.useRef(jn),[bn,qt]=w.useState(),[Ln,Ar]=w.useState(Object.assign(Object.assign({},td),F)),[hn,It]=w.useState(!1),Mn=w.useRef(),[pn,gn]=w.useState(!1),[pi,pr]=w.useState(null);w.useImperativeHandle(Fe,()=>({clearPremoves(Ne=!0){vn(Ne)}})),w.useEffect(()=>{Ar(Object.assign(Object.assign({},td),F))},[F]),w.useEffect(()=>{fn(Ee),dn(me)},[me,Ee]),w.useEffect(()=>{var Ne,B,Ue;An();const _e=rd(oe),Be=X0(Ge,_e),at=((Ne=Object.keys(Be.added))===null||Ne===void 0?void 0:Ne.length)<=2?(Ue=(B=Object.entries(Be.added))===null||B===void 0?void 0:B[0])===null||Ue===void 0?void 0:Ue[1][0]:void 0;if(pn)st(_e),gn(!1),a&&Rn(at),Mn.current&&clearTimeout(Mn.current);else if(hn)st(_e),gn(!1),a&&Rn(at);else{nd(_e)&&cn!==void 0?Kt(at):nd(_e)?Kt(void 0):Kt("b"),fr(Be),gn(!0);const ht=setTimeout(()=>{st(_e),gn(!1),a&&Rn(at)},r);Mn.current=ht}return It(!1),Se(_e),mn(),()=>{clearTimeout(Mn.current)}},[oe]);const{arrows:In,newArrow:gr,clearArrows:mn,drawNewArrow:mr,onArrowDrawEnd:nn}=ng(E,i,pe,k);function rn(Ne,B,Ue,_e){if(Ne===B)return;if(mn(),a&&pn||a&&(cn===Ue[0]||Tt.current.filter(at=>at.piece[0]===Ue[0]).length>0)){const at=[...Tt.current];at.push({sourceSq:Ne,targetSq:B,piece:Ue}),Tt.current=at,Pn([...at]),An();return}if(!a&&pn)return;const Be=Object.assign({},Ge);It(!!_e),Kt(Ue[0]),ge.length?ge(Ne,B,Ue)||(vn(),It(!1)):(delete Be[Ne],Be[B]=Ue,st(Be)),An(),Se(Be)}function Fr(Ne){const B=Object.assign({},Ge);delete B[Ne],st(B),Se(B)}function Rn(Ne){if(Tt.current.length===0)return;const B=Tt.current[0];if(B.piece[0]!==void 0&&B.piece[0]!==Ne&&ge.length)if(Kt(B.piece[0]),It(!0),ge(B.sourceSq,B.targetSq,B.piece)){const _e=[...Tt.current];_e.shift(),Tt.current=_e,Pn([..._e])}else vn()}function $r(Ne,B){if(!D(Ne,B))return;const _e=Object.assign({},Ge);_e[B]=Ne,st(_e),Se(_e)}function vn(Ne=!0){Ne&&Kt(void 0),Tt.current=[],Pn([])}function An(){en(null),dn(null),fn(!1)}function vr(Ne){qt(Ne)}function M(Ne){if(bn){if(bn===Ne){qt(void 0),v&&vn(!1),te(Ne);return}}else qt(void 0)}function Ct(){qt(void 0)}const lt={allowDragOutsideBoard:o,animationDuration:r,arePiecesDraggable:l,arePremovesAllowed:a,arrows:In,autoPromoteToQueen:f,boardOrientation:h,boardWidth:d,chessPieces:Ln,clearArrows:mn,clearCurrentRightClickDown:Ct,currentPosition:Ge,currentRightClickDown:bn,customArrowColor:k,customBoardStyle:S,customDarkSquareStyle:_,customDropSquareStyle:C,customLightSquareStyle:j,customNotationStyle:T,customPremoveDarkSquareStyle:$,customPremoveLightSquareStyle:U,customSquare:V,customSquareStyles:ce,deletePieceFromSquare:Fr,drawNewArrow:mr,dropOffBoardAction:fe,handleSetPosition:rn,handleSparePieceDrop:$r,id:X,isDraggablePiece:G,isWaitingForAnimation:pn,lastPieceColour:cn,lastSquareDraggedOver:pi,newArrow:gr,onArrowDrawEnd:nn,onDragOverSquare:Ce,onMouseOutSquare:ke,onMouseOverSquare:Te,onPieceClick:Ie,onPieceDragBegin:Me,onPieceDragEnd:Pe,onPieceDrop:ge,onPieceDropOffBoard:q,onPromotionCheck:ie,onPromotionPieceSelect:Q,onRightClickDown:vr,onRightClickUp:M,onSparePieceDrop:D,onSquareClick:I,positionDifferences:Vt,premoves:jn,promoteFromSquare:hr,promoteToSquare:tn,promotionDialogVariant:ae,setLastSquareDraggedOver:pr,setPromoteFromSquare:en,setPromoteToSquare:dn,setShowPromoteDialog:fn,showBoardNotation:Y,showPromoteDialog:dr,snapToCursor:De};return p.jsx(Hd.Provider,Object.assign({value:lt},{children:m}))});function ig({row:o,col:r}){const{boardOrientation:i,boardWidth:l,customDarkSquareStyle:a,customLightSquareStyle:f,customNotationStyle:h}=Tn(),d=f.backgroundColor,m=a.backgroundColor,v=r===0,E=o===7,k=v&&E;function S(){return i==="white"?8-o:o+1}function T(){return i==="black"?oo[7-r]:oo[r]}function _(){return p.jsxs(p.Fragment,{children:[p.jsx("div",Object.assign({style:Object.assign(Object.assign({zIndex:3,position:"absolute"},{color:d}),od(l,h))},{children:S()})),p.jsx("div",Object.assign({style:Object.assign(Object.assign({zIndex:3,position:"absolute"},{color:d}),id(l,h))},{children:T()}))]})}function C(){return p.jsx("div",Object.assign({style:Object.assign(Object.assign({userSelect:"none",zIndex:3,position:"absolute"},{color:r%2!==0?m:d}),id(l,h))},{children:T()}))}function j(){return p.jsx("div",Object.assign({style:Object.assign(Object.assign({userSelect:"none",zIndex:3,position:"absolute"},i==="black"?{color:o%2===0?m:d}:{color:o%2===0?m:d}),od(l,h))},{children:S()}))}return k?_():E?C():v?j():null}const id=(o,r)=>Object.assign({alignSelf:"flex-end",paddingLeft:o/8-o/48,fontSize:o/48},r),od=(o,r)=>Object.assign({alignSelf:"flex-start",paddingRight:o/8-o/48,fontSize:o/48},r),Vd=w.createContext({dragDropManager:void 0});function Wt(o){return"Minified Redux error #"+o+"; visit https://redux.js.org/Errors?code="+o+" for the full message or use the non-minified dev environment for full errors. "}var sd=(function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"})(),ld=function(){return Math.random().toString(36).substring(7).split("").join(".")},ad={INIT:"@@redux/INIT"+ld(),REPLACE:"@@redux/REPLACE"+ld()};function og(o){if(typeof o!="object"||o===null)return!1;for(var r=o;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(o)===r}function Kd(o,r,i){var l;if(typeof r=="function"&&typeof i=="function"||typeof i=="function"&&typeof arguments[3]=="function")throw new Error(Wt(0));if(typeof r=="function"&&typeof i>"u"&&(i=r,r=void 0),typeof i<"u"){if(typeof i!="function")throw new Error(Wt(1));return i(Kd)(o,r)}if(typeof o!="function")throw new Error(Wt(2));var a=o,f=r,h=[],d=h,m=!1;function v(){d===h&&(d=h.slice())}function E(){if(m)throw new Error(Wt(3));return f}function k(C){if(typeof C!="function")throw new Error(Wt(4));if(m)throw new Error(Wt(5));var j=!0;return v(),d.push(C),function(){if(j){if(m)throw new Error(Wt(6));j=!1,v();var $=d.indexOf(C);d.splice($,1),h=null}}}function S(C){if(!og(C))throw new Error(Wt(7));if(typeof C.type>"u")throw new Error(Wt(8));if(m)throw new Error(Wt(9));try{m=!0,f=a(f,C)}finally{m=!1}for(var j=h=d,F=0;F<j.length;F++){var $=j[F];$()}return C}function T(C){if(typeof C!="function")throw new Error(Wt(10));a=C,S({type:ad.REPLACE})}function _(){var C,j=k;return C={subscribe:function($){if(typeof $!="object"||$===null)throw new Error(Wt(11));function U(){$.next&&$.next(E())}U();var V=j(U);return{unsubscribe:V}}},C[sd]=function(){return this},C}return S({type:ad.INIT}),l={dispatch:S,subscribe:k,getState:E,replaceReducer:T},l[sd]=_,l}function xe(o,r,...i){if(sg()&&r===void 0)throw new Error("invariant requires an error message argument");if(!o){let l;if(r===void 0)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let a=0;l=new Error(r.replace(/%s/g,function(){return i[a++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}}function sg(){return typeof process<"u"&&!0}function lg(o,r,i){return r.split(".").reduce((l,a)=>l&&l[a]?l[a]:i||null,o)}function ag(o,r){return o.filter(i=>i!==r)}function qd(o){return typeof o=="object"}function ug(o,r){const i=new Map,l=f=>{i.set(f,i.has(f)?i.get(f)+1:1)};o.forEach(l),r.forEach(l);const a=[];return i.forEach((f,h)=>{f===1&&a.push(h)}),a}function cg(o,r){return o.filter(i=>r.indexOf(i)>-1)}const au="dnd-core/INIT_COORDS",As="dnd-core/BEGIN_DRAG",uu="dnd-core/PUBLISH_DRAG_SOURCE",Fs="dnd-core/HOVER",$s="dnd-core/DROP",zs="dnd-core/END_DRAG";function ud(o,r){return{type:au,payload:{sourceClientOffset:r||null,clientOffset:o||null}}}const fg={type:au,payload:{clientOffset:null,sourceClientOffset:null}};function dg(o){return function(i=[],l={publishSource:!0}){const{publishSource:a=!0,clientOffset:f,getSourceClientOffset:h}=l,d=o.getMonitor(),m=o.getRegistry();o.dispatch(ud(f)),hg(i,d,m);const v=mg(i,d);if(v==null){o.dispatch(fg);return}let E=null;if(f){if(!h)throw new Error("getSourceClientOffset must be defined");pg(h),E=h(v)}o.dispatch(ud(f,E));const S=m.getSource(v).beginDrag(d,v);if(S==null)return;gg(S),m.pinSource(v);const T=m.getSourceType(v);return{type:As,payload:{itemType:T,item:S,sourceId:v,clientOffset:f||null,sourceClientOffset:E||null,isSourcePublic:!!a}}}}function hg(o,r,i){xe(!r.isDragging(),"Cannot call beginDrag while dragging."),o.forEach(function(l){xe(i.getSource(l),"Expected sourceIds to be registered.")})}function pg(o){xe(typeof o=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function gg(o){xe(qd(o),"Item must be an object.")}function mg(o,r){let i=null;for(let l=o.length-1;l>=0;l--)if(r.canDragSource(o[l])){i=o[l];break}return i}function vg(o,r,i){return r in o?Object.defineProperty(o,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):o[r]=i,o}function yg(o){for(var r=1;r<arguments.length;r++){var i=arguments[r]!=null?arguments[r]:{},l=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(l=l.concat(Object.getOwnPropertySymbols(i).filter(function(a){return Object.getOwnPropertyDescriptor(i,a).enumerable}))),l.forEach(function(a){vg(o,a,i[a])})}return o}function wg(o){return function(i={}){const l=o.getMonitor(),a=o.getRegistry();Sg(l),xg(l).forEach((h,d)=>{const m=Cg(h,d,a,l),v={type:$s,payload:{dropResult:yg({},i,m)}};o.dispatch(v)})}}function Sg(o){xe(o.isDragging(),"Cannot call drop while not dragging."),xe(!o.didDrop(),"Cannot call drop twice during one drag operation.")}function Cg(o,r,i,l){const a=i.getTarget(o);let f=a?a.drop(l,o):void 0;return Eg(f),typeof f>"u"&&(f=r===0?{}:l.getDropResult()),f}function Eg(o){xe(typeof o>"u"||qd(o),"Drop result must either be an object or undefined.")}function xg(o){const r=o.getTargetIds().filter(o.canDropOnTarget,o);return r.reverse(),r}function kg(o){return function(){const i=o.getMonitor(),l=o.getRegistry();_g(i);const a=i.getSourceId();return a!=null&&(l.getSource(a,!0).endDrag(i,a),l.unpinSource()),{type:zs}}}function _g(o){xe(o.isDragging(),"Cannot call endDrag while not dragging.")}function Ya(o,r){return r===null?o===null:Array.isArray(o)?o.some(i=>i===r):o===r}function Og(o){return function(i,{clientOffset:l}={}){Dg(i);const a=i.slice(0),f=o.getMonitor(),h=o.getRegistry(),d=f.getItemType();return Ng(a,h,d),Tg(a,f,h),jg(a,f,h),{type:Fs,payload:{targetIds:a,clientOffset:l||null}}}}function Dg(o){xe(Array.isArray(o),"Expected targetIds to be an array.")}function Tg(o,r,i){xe(r.isDragging(),"Cannot call hover while not dragging."),xe(!r.didDrop(),"Cannot call hover after drop.");for(let l=0;l<o.length;l++){const a=o[l];xe(o.lastIndexOf(a)===l,"Expected targetIds to be unique in the passed array.");const f=i.getTarget(a);xe(f,"Expected targetIds to be registered.")}}function Ng(o,r,i){for(let l=o.length-1;l>=0;l--){const a=o[l],f=r.getTargetType(a);Ya(f,i)||o.splice(l,1)}}function jg(o,r,i){o.forEach(function(l){i.getTarget(l).hover(r,l)})}function Pg(o){return function(){if(o.getMonitor().isDragging())return{type:uu}}}function bg(o){return{beginDrag:dg(o),publishDragSource:Pg(o),hover:Og(o),drop:wg(o),endDrag:kg(o)}}class Lg{receiveBackend(r){this.backend=r}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const r=this,{dispatch:i}=this.store;function l(f){return(...h)=>{const d=f.apply(r,h);typeof d<"u"&&i(d)}}const a=bg(this);return Object.keys(a).reduce((f,h)=>{const d=a[h];return f[h]=l(d),f},{})}dispatch(r){this.store.dispatch(r)}constructor(r,i){this.isSetUp=!1,this.handleRefCountChange=()=>{const l=this.store.getState().refCount>0;this.backend&&(l&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!l&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=r,this.monitor=i,r.subscribe(this.handleRefCountChange)}}function Mg(o,r){return{x:o.x+r.x,y:o.y+r.y}}function Qd(o,r){return{x:o.x-r.x,y:o.y-r.y}}function Ig(o){const{clientOffset:r,initialClientOffset:i,initialSourceClientOffset:l}=o;return!r||!i||!l?null:Qd(Mg(r,l),i)}function Rg(o){const{clientOffset:r,initialClientOffset:i}=o;return!r||!i?null:Qd(r,i)}const to=[],cu=[];to.__IS_NONE__=!0;cu.__IS_ALL__=!0;function Ag(o,r){return o===to?!1:o===cu||typeof r>"u"?!0:cg(r,o).length>0}class Fg{subscribeToStateChange(r,i={}){const{handlerIds:l}=i;xe(typeof r=="function","listener must be a function."),xe(typeof l>"u"||Array.isArray(l),"handlerIds, when specified, must be an array of strings.");let a=this.store.getState().stateId;const f=()=>{const h=this.store.getState(),d=h.stateId;try{d===a||d===a+1&&!Ag(h.dirtyHandlerIds,l)||r()}finally{a=d}};return this.store.subscribe(f)}subscribeToOffsetChange(r){xe(typeof r=="function","listener must be a function.");let i=this.store.getState().dragOffset;const l=()=>{const a=this.store.getState().dragOffset;a!==i&&(i=a,r())};return this.store.subscribe(l)}canDragSource(r){if(!r)return!1;const i=this.registry.getSource(r);return xe(i,`Expected to find a valid source. sourceId=${r}`),this.isDragging()?!1:i.canDrag(this,r)}canDropOnTarget(r){if(!r)return!1;const i=this.registry.getTarget(r);if(xe(i,`Expected to find a valid target. targetId=${r}`),!this.isDragging()||this.didDrop())return!1;const l=this.registry.getTargetType(r),a=this.getItemType();return Ya(l,a)&&i.canDrop(this,r)}isDragging(){return!!this.getItemType()}isDraggingSource(r){if(!r)return!1;const i=this.registry.getSource(r,!0);if(xe(i,`Expected to find a valid source. sourceId=${r}`),!this.isDragging()||!this.isSourcePublic())return!1;const l=this.registry.getSourceType(r),a=this.getItemType();return l!==a?!1:i.isDragging(this,r)}isOverTarget(r,i={shallow:!1}){if(!r)return!1;const{shallow:l}=i;if(!this.isDragging())return!1;const a=this.registry.getTargetType(r),f=this.getItemType();if(f&&!Ya(a,f))return!1;const h=this.getTargetIds();if(!h.length)return!1;const d=h.indexOf(r);return l?d===h.length-1:d>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return!!this.store.getState().dragOperation.isSourcePublic}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return Ig(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return Rg(this.store.getState().dragOffset)}constructor(r,i){this.store=r,this.registry=i}}const cd=typeof global<"u"?global:self,Gd=cd.MutationObserver||cd.WebKitMutationObserver;function Yd(o){return function(){const i=setTimeout(a,0),l=setInterval(a,50);function a(){clearTimeout(i),clearInterval(l),o()}}}function $g(o){let r=1;const i=new Gd(o),l=document.createTextNode("");return i.observe(l,{characterData:!0}),function(){r=-r,l.data=r}}const zg=typeof Gd=="function"?$g:Yd;class Ug{enqueueTask(r){const{queue:i,requestFlush:l}=this;i.length||(l(),this.flushing=!0),i[i.length]=r}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:r}=this;for(;this.index<r.length;){const i=this.index;if(this.index++,r[i].call(),this.index>this.capacity){for(let l=0,a=r.length-this.index;l<a;l++)r[l]=r[l+this.index];r.length-=this.index,this.index=0}}r.length=0,this.index=0,this.flushing=!1},this.registerPendingError=r=>{this.pendingErrors.push(r),this.requestErrorThrow()},this.requestFlush=zg(this.flush),this.requestErrorThrow=Yd(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class Bg{call(){try{this.task&&this.task()}catch(r){this.onError(r)}finally{this.task=null,this.release(this)}}constructor(r,i){this.onError=r,this.release=i,this.task=null}}class Wg{create(r){const i=this.freeTasks,l=i.length?i.pop():new Bg(this.onError,a=>i[i.length]=a);return l.task=r,l}constructor(r){this.onError=r,this.freeTasks=[]}}const Xd=new Ug,Hg=new Wg(Xd.registerPendingError);function Vg(o){Xd.enqueueTask(Hg.create(o))}const fu="dnd-core/ADD_SOURCE",du="dnd-core/ADD_TARGET",hu="dnd-core/REMOVE_SOURCE",Us="dnd-core/REMOVE_TARGET";function Kg(o){return{type:fu,payload:{sourceId:o}}}function qg(o){return{type:du,payload:{targetId:o}}}function Qg(o){return{type:hu,payload:{sourceId:o}}}function Gg(o){return{type:Us,payload:{targetId:o}}}function Yg(o){xe(typeof o.canDrag=="function","Expected canDrag to be a function."),xe(typeof o.beginDrag=="function","Expected beginDrag to be a function."),xe(typeof o.endDrag=="function","Expected endDrag to be a function.")}function Xg(o){xe(typeof o.canDrop=="function","Expected canDrop to be a function."),xe(typeof o.hover=="function","Expected hover to be a function."),xe(typeof o.drop=="function","Expected beginDrag to be a function.")}function Xa(o,r){if(r&&Array.isArray(o)){o.forEach(i=>Xa(i,!1));return}xe(typeof o=="string"||typeof o=="symbol",r?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var Ht;(function(o){o.SOURCE="SOURCE",o.TARGET="TARGET"})(Ht||(Ht={}));let Zg=0;function Jg(){return Zg++}function em(o){const r=Jg().toString();switch(o){case Ht.SOURCE:return`S${r}`;case Ht.TARGET:return`T${r}`;default:throw new Error(`Unknown Handler Role: ${o}`)}}function fd(o){switch(o[0]){case"S":return Ht.SOURCE;case"T":return Ht.TARGET;default:throw new Error(`Cannot parse handler ID: ${o}`)}}function dd(o,r){const i=o.entries();let l=!1;do{const{done:a,value:[,f]}=i.next();if(f===r)return!0;l=!!a}while(!l);return!1}class tm{addSource(r,i){Xa(r),Yg(i);const l=this.addHandler(Ht.SOURCE,r,i);return this.store.dispatch(Kg(l)),l}addTarget(r,i){Xa(r,!0),Xg(i);const l=this.addHandler(Ht.TARGET,r,i);return this.store.dispatch(qg(l)),l}containsHandler(r){return dd(this.dragSources,r)||dd(this.dropTargets,r)}getSource(r,i=!1){return xe(this.isSourceId(r),"Expected a valid source ID."),i&&r===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(r)}getTarget(r){return xe(this.isTargetId(r),"Expected a valid target ID."),this.dropTargets.get(r)}getSourceType(r){return xe(this.isSourceId(r),"Expected a valid source ID."),this.types.get(r)}getTargetType(r){return xe(this.isTargetId(r),"Expected a valid target ID."),this.types.get(r)}isSourceId(r){return fd(r)===Ht.SOURCE}isTargetId(r){return fd(r)===Ht.TARGET}removeSource(r){xe(this.getSource(r),"Expected an existing source."),this.store.dispatch(Qg(r)),Vg(()=>{this.dragSources.delete(r),this.types.delete(r)})}removeTarget(r){xe(this.getTarget(r),"Expected an existing target."),this.store.dispatch(Gg(r)),this.dropTargets.delete(r),this.types.delete(r)}pinSource(r){const i=this.getSource(r);xe(i,"Expected an existing source."),this.pinnedSourceId=r,this.pinnedSource=i}unpinSource(){xe(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(r,i,l){const a=em(r);return this.types.set(a,i),r===Ht.SOURCE?this.dragSources.set(a,l):r===Ht.TARGET&&this.dropTargets.set(a,l),a}constructor(r){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=r}}const nm=(o,r)=>o===r;function rm(o,r){return!o&&!r?!0:!o||!r?!1:o.x===r.x&&o.y===r.y}function im(o,r,i=nm){if(o.length!==r.length)return!1;for(let l=0;l<o.length;++l)if(!i(o[l],r[l]))return!1;return!0}function om(o=to,r){switch(r.type){case Fs:break;case fu:case du:case Us:case hu:return to;case As:case uu:case zs:case $s:default:return cu}const{targetIds:i=[],prevTargetIds:l=[]}=r.payload,a=ug(i,l);if(!(a.length>0||!im(i,l)))return to;const h=l[l.length-1],d=i[i.length-1];return h!==d&&(h&&a.push(h),d&&a.push(d)),a}function sm(o,r,i){return r in o?Object.defineProperty(o,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):o[r]=i,o}function lm(o){for(var r=1;r<arguments.length;r++){var i=arguments[r]!=null?arguments[r]:{},l=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(l=l.concat(Object.getOwnPropertySymbols(i).filter(function(a){return Object.getOwnPropertyDescriptor(i,a).enumerable}))),l.forEach(function(a){sm(o,a,i[a])})}return o}const hd={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function am(o=hd,r){const{payload:i}=r;switch(r.type){case au:case As:return{initialSourceClientOffset:i.sourceClientOffset,initialClientOffset:i.clientOffset,clientOffset:i.clientOffset};case Fs:return rm(o.clientOffset,i.clientOffset)?o:lm({},o,{clientOffset:i.clientOffset});case zs:case $s:return hd;default:return o}}function um(o,r,i){return r in o?Object.defineProperty(o,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):o[r]=i,o}function ai(o){for(var r=1;r<arguments.length;r++){var i=arguments[r]!=null?arguments[r]:{},l=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(l=l.concat(Object.getOwnPropertySymbols(i).filter(function(a){return Object.getOwnPropertyDescriptor(i,a).enumerable}))),l.forEach(function(a){um(o,a,i[a])})}return o}const cm={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function fm(o=cm,r){const{payload:i}=r;switch(r.type){case As:return ai({},o,{itemType:i.itemType,item:i.item,sourceId:i.sourceId,isSourcePublic:i.isSourcePublic,dropResult:null,didDrop:!1});case uu:return ai({},o,{isSourcePublic:!0});case Fs:return ai({},o,{targetIds:i.targetIds});case Us:return o.targetIds.indexOf(i.targetId)===-1?o:ai({},o,{targetIds:ag(o.targetIds,i.targetId)});case $s:return ai({},o,{dropResult:i.dropResult,didDrop:!0,targetIds:[]});case zs:return ai({},o,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return o}}function dm(o=0,r){switch(r.type){case fu:case du:return o+1;case hu:case Us:return o-1;default:return o}}function hm(o=0){return o+1}function pm(o,r,i){return r in o?Object.defineProperty(o,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):o[r]=i,o}function gm(o){for(var r=1;r<arguments.length;r++){var i=arguments[r]!=null?arguments[r]:{},l=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(l=l.concat(Object.getOwnPropertySymbols(i).filter(function(a){return Object.getOwnPropertyDescriptor(i,a).enumerable}))),l.forEach(function(a){pm(o,a,i[a])})}return o}function mm(o={},r){return{dirtyHandlerIds:om(o.dirtyHandlerIds,{type:r.type,payload:gm({},r.payload,{prevTargetIds:lg(o,"dragOperation.targetIds",[])})}),dragOffset:am(o.dragOffset,r),refCount:dm(o.refCount,r),dragOperation:fm(o.dragOperation,r),stateId:hm(o.stateId)}}function vm(o,r=void 0,i={},l=!1){const a=ym(l),f=new Fg(a,new tm(a)),h=new Lg(a,f),d=o(h,r,i);return h.receiveBackend(d),h}function ym(o){const r=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return Kd(mm,o&&r&&r({name:"dnd-core",instanceId:"dnd-core"}))}function wm(o,r){if(o==null)return{};var i=Sm(o,r),l,a;if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(o);for(a=0;a<f.length;a++)l=f[a],!(r.indexOf(l)>=0)&&Object.prototype.propertyIsEnumerable.call(o,l)&&(i[l]=o[l])}return i}function Sm(o,r){if(o==null)return{};var i={},l=Object.keys(o),a,f;for(f=0;f<l.length;f++)a=l[f],!(r.indexOf(a)>=0)&&(i[a]=o[a]);return i}let pd=0;const Ns=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var Cm=w.memo(function(r){var{children:i}=r,l=wm(r,["children"]);const[a,f]=Em(l);return w.useEffect(()=>{if(f){const h=Zd();return++pd,()=>{--pd===0&&(h[Ns]=null)}}},[]),p.jsx(Vd.Provider,{value:a,children:i})});function Em(o){if("manager"in o)return[{dragDropManager:o.manager},!1];const r=xm(o.backend,o.context,o.options,o.debugMode),i=!o.context;return[r,i]}function xm(o,r=Zd(),i,l){const a=r;return a[Ns]||(a[Ns]={dragDropManager:vm(o,r,i,l)}),a[Ns]}function Zd(){return typeof global<"u"?global:window}var km=function o(r,i){if(r===i)return!0;if(r&&i&&typeof r=="object"&&typeof i=="object"){if(r.constructor!==i.constructor)return!1;var l,a,f;if(Array.isArray(r)){if(l=r.length,l!=i.length)return!1;for(a=l;a--!==0;)if(!o(r[a],i[a]))return!1;return!0}if(r.constructor===RegExp)return r.source===i.source&&r.flags===i.flags;if(r.valueOf!==Object.prototype.valueOf)return r.valueOf()===i.valueOf();if(r.toString!==Object.prototype.toString)return r.toString()===i.toString();if(f=Object.keys(r),l=f.length,l!==Object.keys(i).length)return!1;for(a=l;a--!==0;)if(!Object.prototype.hasOwnProperty.call(i,f[a]))return!1;for(a=l;a--!==0;){var h=f[a];if(!o(r[h],i[h]))return!1}return!0}return r!==r&&i!==i};const Lr=typeof window<"u"?w.useLayoutEffect:w.useEffect;function Jd(o,r,i){const[l,a]=w.useState(()=>r(o)),f=w.useCallback(()=>{const h=r(o);km(l,h)||(a(h),i&&i())},[l,o,i]);return Lr(f),[l,f]}function _m(o,r,i){const[l,a]=Jd(o,r,i);return Lr(function(){const h=o.getHandlerId();if(h!=null)return o.subscribeToStateChange(a,{handlerIds:[h]})},[o,a]),l}function eh(o,r,i){return _m(r,o||(()=>({})),()=>i.reconnect())}function th(o,r){const i=[...r||[]];return r==null&&typeof o!="function"&&i.push(o),w.useMemo(()=>typeof o=="function"?o():o,i)}function Om(o){return w.useMemo(()=>o.hooks.dragSource(),[o])}function Dm(o){return w.useMemo(()=>o.hooks.dragPreview(),[o])}let Ra=!1,Aa=!1;class Tm{receiveHandlerId(r){this.sourceId=r}getHandlerId(){return this.sourceId}canDrag(){xe(!Ra,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return Ra=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{Ra=!1}}isDragging(){if(!this.sourceId)return!1;xe(!Aa,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return Aa=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{Aa=!1}}subscribeToStateChange(r,i){return this.internalMonitor.subscribeToStateChange(r,i)}isDraggingSource(r){return this.internalMonitor.isDraggingSource(r)}isOverTarget(r,i){return this.internalMonitor.isOverTarget(r,i)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(r){return this.internalMonitor.subscribeToOffsetChange(r)}canDragSource(r){return this.internalMonitor.canDragSource(r)}canDropOnTarget(r){return this.internalMonitor.canDropOnTarget(r)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(r){this.sourceId=null,this.internalMonitor=r.getMonitor()}}let Fa=!1;class Nm{receiveHandlerId(r){this.targetId=r}getHandlerId(){return this.targetId}subscribeToStateChange(r,i){return this.internalMonitor.subscribeToStateChange(r,i)}canDrop(){if(!this.targetId)return!1;xe(!Fa,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return Fa=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{Fa=!1}}isOver(r){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,r):!1}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(r){this.targetId=null,this.internalMonitor=r.getMonitor()}}function jm(o,r,i){const l=i.getRegistry(),a=l.addTarget(o,r);return[a,()=>l.removeTarget(a)]}function Pm(o,r,i){const l=i.getRegistry(),a=l.addSource(o,r);return[a,()=>l.removeSource(a)]}function Za(o,r,i,l){let a;if(a!==void 0)return!!a;if(o===r)return!0;if(typeof o!="object"||!o||typeof r!="object"||!r)return!1;const f=Object.keys(o),h=Object.keys(r);if(f.length!==h.length)return!1;const d=Object.prototype.hasOwnProperty.bind(r);for(let m=0;m<f.length;m++){const v=f[m];if(!d(v))return!1;const E=o[v],k=r[v];if(a=void 0,a===!1||a===void 0&&E!==k)return!1}return!0}function Ja(o){return o!==null&&typeof o=="object"&&Object.prototype.hasOwnProperty.call(o,"current")}function bm(o){if(typeof o.type=="string")return;const r=o.type.displayName||o.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${r} into a <div>, or turn it into a drag source or a drop target itself.`)}function Lm(o){return(r=null,i=null)=>{if(!w.isValidElement(r)){const f=r;return o(f,i),f}const l=r;return bm(l),Mm(l,i?f=>o(f,i):o)}}function nh(o){const r={};return Object.keys(o).forEach(i=>{const l=o[i];if(i.endsWith("Ref"))r[i]=o[i];else{const a=Lm(l);r[i]=()=>a}}),r}function gd(o,r){typeof o=="function"?o(r):o.current=r}function Mm(o,r){const i=o.ref;return xe(typeof i!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),i?w.cloneElement(o,{ref:l=>{gd(i,l),gd(r,l)}}):w.cloneElement(o,{ref:r})}class Im{receiveHandlerId(r){this.handlerId!==r&&(this.handlerId=r,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(r){this.dragSourceOptionsInternal=r}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(r){this.dragPreviewOptionsInternal=r}reconnect(){const r=this.reconnectDragSource();this.reconnectDragPreview(r)}reconnectDragSource(){const r=this.dragSource,i=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return i&&this.disconnectDragSource(),this.handlerId?r?(i&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=r,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,r,this.dragSourceOptions)),i):(this.lastConnectedDragSource=r,i):i}reconnectDragPreview(r=!1){const i=this.dragPreview,l=r||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(l&&this.disconnectDragPreview(),!!this.handlerId){if(!i){this.lastConnectedDragPreview=i;return}l&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=i,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,i,this.dragPreviewOptions))}}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!Za(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!Za(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(r){this.hooks=nh({dragSource:(i,l)=>{this.clearDragSource(),this.dragSourceOptions=l||null,Ja(i)?this.dragSourceRef=i:this.dragSourceNode=i,this.reconnectDragSource()},dragPreview:(i,l)=>{this.clearDragPreview(),this.dragPreviewOptions=l||null,Ja(i)?this.dragPreviewRef=i:this.dragPreviewNode=i,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=r}}class Rm{get connectTarget(){return this.dropTarget}reconnect(){const r=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();r&&this.disconnectDropTarget();const i=this.dropTarget;if(this.handlerId){if(!i){this.lastConnectedDropTarget=i;return}r&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=i,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,i,this.dropTargetOptions))}}receiveHandlerId(r){r!==this.handlerId&&(this.handlerId=r,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(r){this.dropTargetOptionsInternal=r}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!Za(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(r){this.hooks=nh({dropTarget:(i,l)=>{this.clearDropTarget(),this.dropTargetOptions=l,Ja(i)?this.dropTargetRef=i:this.dropTargetNode=i,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=r}}function Ir(){const{dragDropManager:o}=w.useContext(Vd);return xe(o!=null,"Expected drag drop context"),o}function Am(o,r){const i=Ir(),l=w.useMemo(()=>new Im(i.getBackend()),[i]);return Lr(()=>(l.dragSourceOptions=o||null,l.reconnect(),()=>l.disconnectDragSource()),[l,o]),Lr(()=>(l.dragPreviewOptions=r||null,l.reconnect(),()=>l.disconnectDragPreview()),[l,r]),l}function Fm(){const o=Ir();return w.useMemo(()=>new Tm(o),[o])}class $m{beginDrag(){const r=this.spec,i=this.monitor;let l=null;return typeof r.item=="object"?l=r.item:typeof r.item=="function"?l=r.item(i):l={},l??null}canDrag(){const r=this.spec,i=this.monitor;return typeof r.canDrag=="boolean"?r.canDrag:typeof r.canDrag=="function"?r.canDrag(i):!0}isDragging(r,i){const l=this.spec,a=this.monitor,{isDragging:f}=l;return f?f(a):i===r.getSourceId()}endDrag(){const r=this.spec,i=this.monitor,l=this.connector,{end:a}=r;a&&a(i.getItem(),i),l.reconnect()}constructor(r,i,l){this.spec=r,this.monitor=i,this.connector=l}}function zm(o,r,i){const l=w.useMemo(()=>new $m(o,r,i),[r,i]);return w.useEffect(()=>{l.spec=o},[o]),l}function Um(o){return w.useMemo(()=>{const r=o.type;return xe(r!=null,"spec.type must be defined"),r},[o])}function Bm(o,r,i){const l=Ir(),a=zm(o,r,i),f=Um(o);Lr(function(){if(f!=null){const[d,m]=Pm(f,a,l);return r.receiveHandlerId(d),i.receiveHandlerId(d),m}},[l,r,i,a,f])}function Wm(o,r){const i=th(o,r);xe(!i.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const l=Fm(),a=Am(i.options,i.previewOptions);return Bm(i,l,a),[eh(i.collect,l,a),Om(a),Dm(a)]}function Hm(o){const i=Ir().getMonitor(),[l,a]=Jd(i,o);return w.useEffect(()=>i.subscribeToOffsetChange(a)),w.useEffect(()=>i.subscribeToStateChange(a)),l}function Vm(o){return w.useMemo(()=>o.hooks.dropTarget(),[o])}function Km(o){const r=Ir(),i=w.useMemo(()=>new Rm(r.getBackend()),[r]);return Lr(()=>(i.dropTargetOptions=o||null,i.reconnect(),()=>i.disconnectDropTarget()),[o]),i}function qm(){const o=Ir();return w.useMemo(()=>new Nm(o),[o])}function Qm(o){const{accept:r}=o;return w.useMemo(()=>(xe(o.accept!=null,"accept must be defined"),Array.isArray(r)?r:[r]),[r])}class Gm{canDrop(){const r=this.spec,i=this.monitor;return r.canDrop?r.canDrop(i.getItem(),i):!0}hover(){const r=this.spec,i=this.monitor;r.hover&&r.hover(i.getItem(),i)}drop(){const r=this.spec,i=this.monitor;if(r.drop)return r.drop(i.getItem(),i)}constructor(r,i){this.spec=r,this.monitor=i}}function Ym(o,r){const i=w.useMemo(()=>new Gm(o,r),[r]);return w.useEffect(()=>{i.spec=o},[o]),i}function Xm(o,r,i){const l=Ir(),a=Ym(o,r),f=Qm(o);Lr(function(){const[d,m]=jm(f,a,l);return r.receiveHandlerId(d),i.receiveHandlerId(d),m},[l,r,a,i,f.map(h=>h.toString()).join("|")])}function Zm(o,r){const i=th(o,r),l=qm(),a=Km(i.options);return Xm(i,l,a),[eh(i.collect,l,a),Vm(a)]}function rh(o){let r=null;return()=>(r==null&&(r=o()),r)}function Jm(o,r){return o.filter(i=>i!==r)}function ev(o,r){const i=new Set,l=f=>i.add(f);o.forEach(l),r.forEach(l);const a=[];return i.forEach(f=>a.push(f)),a}class tv{enter(r){const i=this.entered.length,l=a=>this.isNodeInDocument(a)&&(!a.contains||a.contains(r));return this.entered=ev(this.entered.filter(l),[r]),i===0&&this.entered.length>0}leave(r){const i=this.entered.length;return this.entered=Jm(this.entered.filter(this.isNodeInDocument),r),i>0&&this.entered.length===0}reset(){this.entered=[]}constructor(r){this.entered=[],this.isNodeInDocument=r}}class nv{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(r=>{Object.defineProperty(this.item,r,{configurable:!0,enumerable:!0,get(){return console.warn(`Browser doesn't allow reading "${r}" until the drop event.`),null}})})}loadDataTransfer(r){if(r){const i={};Object.keys(this.config.exposeProperties).forEach(l=>{const a=this.config.exposeProperties[l];a!=null&&(i[l]={value:a(r,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,i)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(r,i){return i===r.getSourceId()}endDrag(){}constructor(r){this.config=r,this.item={},this.initializeExposedProperties()}}const ih="__NATIVE_FILE__",oh="__NATIVE_URL__",sh="__NATIVE_TEXT__",lh="__NATIVE_HTML__";var md=Object.freeze({__proto__:null,FILE:ih,HTML:lh,TEXT:sh,URL:oh});function $a(o,r,i){const l=r.reduce((a,f)=>a||o.getData(f),"");return l??i}const eu={[ih]:{exposeProperties:{files:o=>Array.prototype.slice.call(o.files),items:o=>o.items,dataTransfer:o=>o},matchesTypes:["Files"]},[lh]:{exposeProperties:{html:(o,r)=>$a(o,r,""),dataTransfer:o=>o},matchesTypes:["Html","text/html"]},[oh]:{exposeProperties:{urls:(o,r)=>$a(o,r,"").split(`
`),dataTransfer:o=>o},matchesTypes:["Url","text/uri-list"]},[sh]:{exposeProperties:{text:(o,r)=>$a(o,r,""),dataTransfer:o=>o},matchesTypes:["Text","text/plain"]}};function rv(o,r){const i=eu[o];if(!i)throw new Error(`native type ${o} has no configuration`);const l=new nv(i);return l.loadDataTransfer(r),l}function za(o){if(!o)return null;const r=Array.prototype.slice.call(o.types||[]);return Object.keys(eu).filter(i=>{const l=eu[i];return l!=null&&l.matchesTypes?l.matchesTypes.some(a=>r.indexOf(a)>-1):!1})[0]||null}const iv=rh(()=>/firefox/i.test(navigator.userAgent)),ah=rh(()=>!!window.safari);class vd{interpolate(r){const{xs:i,ys:l,c1s:a,c2s:f,c3s:h}=this;let d=i.length-1;if(r===i[d])return l[d];let m=0,v=h.length-1,E;for(;m<=v;){E=Math.floor(.5*(m+v));const T=i[E];if(T<r)m=E+1;else if(T>r)v=E-1;else return l[E]}d=Math.max(0,v);const k=r-i[d],S=k*k;return l[d]+a[d]*k+f[d]*S+h[d]*k*S}constructor(r,i){const{length:l}=r,a=[];for(let T=0;T<l;T++)a.push(T);a.sort((T,_)=>r[T]<r[_]?-1:1);const f=[],h=[];let d,m;for(let T=0;T<l-1;T++)d=r[T+1]-r[T],m=i[T+1]-i[T],f.push(d),h.push(m/d);const v=[h[0]];for(let T=0;T<f.length-1;T++){const _=h[T],C=h[T+1];if(_*C<=0)v.push(0);else{d=f[T];const j=f[T+1],F=d+j;v.push(3*F/((F+j)/_+(F+d)/C))}}v.push(h[h.length-1]);const E=[],k=[];let S;for(let T=0;T<v.length-1;T++){S=h[T];const _=v[T],C=1/f[T],j=_+v[T+1]-S-S;E.push((S-_-j)*C),k.push(j*C*C)}this.xs=r,this.ys=i,this.c1s=v,this.c2s=E,this.c3s=k}}const ov=1;function uh(o){const r=o.nodeType===ov?o:o.parentElement;if(!r)return null;const{top:i,left:l}=r.getBoundingClientRect();return{x:l,y:i}}function ws(o){return{x:o.clientX,y:o.clientY}}function sv(o){var r;return o.nodeName==="IMG"&&(iv()||!(!((r=document.documentElement)===null||r===void 0)&&r.contains(o)))}function lv(o,r,i,l){let a=o?r.width:i,f=o?r.height:l;return ah()&&o&&(f/=window.devicePixelRatio,a/=window.devicePixelRatio),{dragPreviewWidth:a,dragPreviewHeight:f}}function av(o,r,i,l,a){const f=sv(r),d=uh(f?o:r),m={x:i.x-d.x,y:i.y-d.y},{offsetWidth:v,offsetHeight:E}=o,{anchorX:k,anchorY:S}=l,{dragPreviewWidth:T,dragPreviewHeight:_}=lv(f,r,v,E),C=()=>{let fe=new vd([0,.5,1],[m.y,m.y/E*_,m.y+_-E]).interpolate(S);return ah()&&f&&(fe+=(window.devicePixelRatio-1)*_),fe},j=()=>new vd([0,.5,1],[m.x,m.x/v*T,m.x+T-v]).interpolate(k),{offsetX:F,offsetY:$}=a,U=F===0||F,V=$===0||$;return{x:U?F:j(),y:V?$:C()}}let uv=class{get window(){if(this.globalContext)return this.globalContext;if(typeof window<"u")return window}get document(){var r;return!((r=this.globalContext)===null||r===void 0)&&r.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var r;return((r=this.optionsArgs)===null||r===void 0?void 0:r.rootElement)||this.window}constructor(r,i){this.ownerDocument=null,this.globalContext=r,this.optionsArgs=i}};function cv(o,r,i){return r in o?Object.defineProperty(o,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):o[r]=i,o}function yd(o){for(var r=1;r<arguments.length;r++){var i=arguments[r]!=null?arguments[r]:{},l=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(l=l.concat(Object.getOwnPropertySymbols(i).filter(function(a){return Object.getOwnPropertyDescriptor(i,a).enumerable}))),l.forEach(function(a){cv(o,a,i[a])})}return o}class fv{profile(){var r,i;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((r=this.dragStartSourceIds)===null||r===void 0?void 0:r.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((i=this.dragOverTargetIds)===null||i===void 0?void 0:i.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const r=this.rootElement;if(r!==void 0){if(r.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");r.__isReactDndBackendSetUp=!0,this.addEventListeners(r)}}teardown(){const r=this.rootElement;if(r!==void 0&&(r.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var i;(i=this.window)===null||i===void 0||i.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(r,i,l){return this.sourcePreviewNodeOptions.set(r,l),this.sourcePreviewNodes.set(r,i),()=>{this.sourcePreviewNodes.delete(r),this.sourcePreviewNodeOptions.delete(r)}}connectDragSource(r,i,l){this.sourceNodes.set(r,i),this.sourceNodeOptions.set(r,l);const a=h=>this.handleDragStart(h,r),f=h=>this.handleSelectStart(h);return i.setAttribute("draggable","true"),i.addEventListener("dragstart",a),i.addEventListener("selectstart",f),()=>{this.sourceNodes.delete(r),this.sourceNodeOptions.delete(r),i.removeEventListener("dragstart",a),i.removeEventListener("selectstart",f),i.setAttribute("draggable","false")}}connectDropTarget(r,i){const l=h=>this.handleDragEnter(h,r),a=h=>this.handleDragOver(h,r),f=h=>this.handleDrop(h,r);return i.addEventListener("dragenter",l),i.addEventListener("dragover",a),i.addEventListener("drop",f),()=>{i.removeEventListener("dragenter",l),i.removeEventListener("dragover",a),i.removeEventListener("drop",f)}}addEventListeners(r){r.addEventListener&&(r.addEventListener("dragstart",this.handleTopDragStart),r.addEventListener("dragstart",this.handleTopDragStartCapture,!0),r.addEventListener("dragend",this.handleTopDragEndCapture,!0),r.addEventListener("dragenter",this.handleTopDragEnter),r.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),r.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),r.addEventListener("dragover",this.handleTopDragOver),r.addEventListener("dragover",this.handleTopDragOverCapture,!0),r.addEventListener("drop",this.handleTopDrop),r.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(r){r.removeEventListener&&(r.removeEventListener("dragstart",this.handleTopDragStart),r.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),r.removeEventListener("dragend",this.handleTopDragEndCapture,!0),r.removeEventListener("dragenter",this.handleTopDragEnter),r.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),r.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),r.removeEventListener("dragover",this.handleTopDragOver),r.removeEventListener("dragover",this.handleTopDragOverCapture,!0),r.removeEventListener("drop",this.handleTopDrop),r.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const r=this.monitor.getSourceId(),i=this.sourceNodeOptions.get(r);return yd({dropEffect:this.altKeyPressed?"copy":"move"},i||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const r=this.monitor.getSourceId(),i=this.sourcePreviewNodeOptions.get(r);return yd({anchorX:.5,anchorY:.5,captureDraggingState:!1},i||{})}isDraggingNativeItem(){const r=this.monitor.getItemType();return Object.keys(md).some(i=>md[i]===r)}beginDragNativeItem(r,i){this.clearCurrentDragSourceNode(),this.currentNativeSource=rv(r,i),this.currentNativeHandle=this.registry.addSource(r,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(r){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=r;const i=1e3;this.mouseMoveTimeoutTimer=setTimeout(()=>{var l;return(l=this.rootElement)===null||l===void 0?void 0:l.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},i)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var r;(r=this.window)===null||r===void 0||r.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(r,i){r.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(i))}handleDragEnter(r,i){this.dragEnterTargetIds.unshift(i)}handleDragOver(r,i){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(i)}handleDrop(r,i){this.dropTargetIds.unshift(i)}constructor(r,i,l){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=a=>{const f=this.sourceNodes.get(a);return f&&uh(f)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=a=>!!(a&&this.document&&this.document.body&&this.document.body.contains(a)),this.endDragIfSourceWasRemovedFromDOM=()=>{const a=this.currentDragSourceNode;a==null||this.isNodeInDocument(a)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=a=>{this.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(a||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame<"u"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=a=>{if(a.defaultPrevented)return;const{dragStartSourceIds:f}=this;this.dragStartSourceIds=null;const h=ws(a);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(f||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:h});const{dataTransfer:d}=a,m=za(d);if(this.monitor.isDragging()){if(d&&typeof d.setDragImage=="function"){const E=this.monitor.getSourceId(),k=this.sourceNodes.get(E),S=this.sourcePreviewNodes.get(E)||k;if(S){const{anchorX:T,anchorY:_,offsetX:C,offsetY:j}=this.getCurrentSourcePreviewNodeOptions(),U=av(k,S,h,{anchorX:T,anchorY:_},{offsetX:C,offsetY:j});d.setDragImage(S,U.x,U.y)}}try{d==null||d.setData("application/json",{})}catch{}this.setCurrentDragSourceNode(a.target);const{captureDraggingState:v}=this.getCurrentSourcePreviewNodeOptions();v?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(m)this.beginDragNativeItem(m);else{if(d&&!d.types&&(a.target&&!a.target.hasAttribute||!a.target.hasAttribute("draggable")))return;a.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=a=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var f;(f=this.currentNativeSource)===null||f===void 0||f.loadDataTransfer(a.dataTransfer)}if(!this.enterLeaveCounter.enter(a.target)||this.monitor.isDragging())return;const{dataTransfer:d}=a,m=za(d);m&&this.beginDragNativeItem(m,d)},this.handleTopDragEnter=a=>{const{dragEnterTargetIds:f}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=a.altKey,f.length>0&&this.actions.hover(f,{clientOffset:ws(a)}),f.some(d=>this.monitor.canDropOnTarget(d))&&(a.preventDefault(),a.dataTransfer&&(a.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=a=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var f;(f=this.currentNativeSource)===null||f===void 0||f.loadDataTransfer(a.dataTransfer)}},this.handleTopDragOver=a=>{const{dragOverTargetIds:f}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){a.preventDefault(),a.dataTransfer&&(a.dataTransfer.dropEffect="none");return}this.altKeyPressed=a.altKey,this.lastClientOffset=ws(a),this.scheduleHover(f),(f||[]).some(d=>this.monitor.canDropOnTarget(d))?(a.preventDefault(),a.dataTransfer&&(a.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?a.preventDefault():(a.preventDefault(),a.dataTransfer&&(a.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=a=>{this.isDraggingNativeItem()&&a.preventDefault(),this.enterLeaveCounter.leave(a.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=a=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var f;a.preventDefault(),(f=this.currentNativeSource)===null||f===void 0||f.loadDataTransfer(a.dataTransfer)}else za(a.dataTransfer)&&a.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=a=>{const{dropTargetIds:f}=this;this.dropTargetIds=[],this.actions.hover(f,{clientOffset:ws(a)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=a=>{const f=a.target;typeof f.dragDrop=="function"&&(f.tagName==="INPUT"||f.tagName==="SELECT"||f.tagName==="TEXTAREA"||f.isContentEditable||(a.preventDefault(),f.dragDrop()))},this.options=new uv(i,l),this.actions=r.getActions(),this.monitor=r.getMonitor(),this.registry=r.getRegistry(),this.enterLeaveCounter=new tv(this.isNodeInDocument)}}let Ss;function dv(){return Ss||(Ss=new Image,Ss.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),Ss}const hv=function(r,i,l){return new fv(r,i,l)};function wd({isPremovedPiece:o=!1,piece:r,square:i,squares:l}){const{animationDuration:a,arePiecesDraggable:f,boardWidth:h,boardOrientation:d,chessPieces:m,currentPosition:v,deletePieceFromSquare:E,dropOffBoardAction:k,id:S,isDraggablePiece:T,isWaitingForAnimation:_,onPieceClick:C,onPieceDragBegin:j,onPieceDragEnd:F,onPieceDropOffBoard:$,onPromotionCheck:U,positionDifferences:V}=Tn(),[ce,fe]=w.useState({opacity:1,zIndex:5,touchAction:"none",cursor:f&&T({piece:r,sourceSquare:i})?"-webkit-grab":"default"}),[{canDrag:X,isDragging:G},Se,pe]=Wm(()=>({type:"piece",item:()=>(j(r,i),{piece:r,square:i,id:S}),end:(ke,Te)=>{F(r,i),!Te.didDrop()&&(k==="trash"&&E(i),$==null||$(i,r))},collect:ke=>({canDrag:T({piece:r,sourceSquare:i}),isDragging:!!ke.isDragging()})}),[r,i,v,S]);pe(dv(),{captureDraggingState:!0}),w.useEffect(()=>{fe(ke=>Object.assign(Object.assign({},ke),{opacity:G?0:1}))},[G]),w.useEffect(()=>{var ke;const Te=(ke=V.removed)===null||ke===void 0?void 0:ke[i];if(!V.added||!Te)return;const Ie=Object.entries(V.added).find(([Me,Pe])=>Pe===Te||U(i,Me,Te));if(_&&Te&&Ie&&!o){const Me=i,Pe=Ie[0];if(Me&&Pe){const ge=h/8;fe(q=>Object.assign(Object.assign({},q),{transform:`translate(${(d==="black"?-1:1)*(Pe.charCodeAt(0)-Me.charCodeAt(0))*ge}px, ${(d==="black"?-1:1)*(Number(Me[1])-Number(Pe[1]))*ge}px)`,transition:`transform ${a}ms`,zIndex:6}))}}},[V]),w.useEffect(()=>{const{sourceSq:ke}=Ce();ke&&fe(Te=>Object.assign(Object.assign({},Te),{transform:"translate(0px, 0px)",transition:"transform 0ms"}))},[v]),w.useEffect(()=>{fe(ke=>Object.assign(Object.assign({},ke),{cursor:f&&T({piece:r,sourceSquare:i})?"-webkit-grab":"default"}))},[i,v,f]);function Ce(){return{sourceSq:l[i]}}return p.jsx("div",Object.assign({ref:f&&X?Se:null,onClick:()=>C(r,i),"data-piece":r,style:ce},{children:typeof m[r]=="function"?m[r]({squareWidth:h/8,isDragging:G,square:i}):p.jsx("svg",Object.assign({viewBox:"1 1 43 43",width:h/8,height:h/8,style:{display:"block"}},{children:p.jsx("g",{children:m[r]})}))}))}function pv({square:o,squareColor:r,setSquares:i,squareHasPremove:l,children:a}){const f=w.useRef(null),{autoPromoteToQueen:h,boardWidth:d,boardOrientation:m,clearArrows:v,currentPosition:E,currentRightClickDown:k,customBoardStyle:S,customDarkSquareStyle:T,customDropSquareStyle:_,customLightSquareStyle:C,customPremoveDarkSquareStyle:j,customPremoveLightSquareStyle:F,customSquare:$,customSquareStyles:U,drawNewArrow:V,handleSetPosition:ce,handleSparePieceDrop:fe,isWaitingForAnimation:X,lastPieceColour:G,lastSquareDraggedOver:Se,onArrowDrawEnd:pe,onDragOverSquare:Ce,onMouseOutSquare:ke,onMouseOverSquare:Te,onPieceDrop:Ie,onPromotionCheck:Me,onRightClickDown:Pe,onRightClickUp:ge,onSquareClick:q,setLastSquareDraggedOver:ie,setPromoteFromSquare:Q,setPromoteToSquare:D,setShowPromoteDialog:I}=Tn(),[{isOver:te},oe]=Zm(()=>({accept:"piece",drop:ae,collect:Y=>({isOver:!!Y.isOver()})}),[o,E,Ie,X,G]);function ae(Y){if(Y.isSpare){fe(Y.piece,o);return}Me(Y.square,o,Y.piece)?h?ce(Y.square,o,Y.piece[0]==="w"?"wQ":"bQ"):(Q(Y.square),D(o),I(!0)):ce(Y.square,o,Y.piece,!0)}w.useEffect(()=>{if(f.current){const{x:Y,y:Ee}=f.current.getBoundingClientRect();i(De=>Object.assign(Object.assign({},De),{[o]:{x:Y,y:Ee}}))}},[d,m]);const me=Object.assign(Object.assign(Object.assign(Object.assign({},gv(o,m,S)),r==="black"?T:C),l&&(r==="black"?j:F)),te&&_);return p.jsx("div",Object.assign({ref:oe,style:me,"data-square-color":r,"data-square":o,onTouchMove:Y=>{var Ee;const De=Y.touches[0],Fe=document.elementsFromPoint(De.clientX,De.clientY),Ge=(Ee=Fe==null?void 0:Fe.find(st=>st.getAttribute("data-square")))===null||Ee===void 0?void 0:Ee.getAttribute("data-square");Ge&&Ge!==Se&&(ie(Ge),Ce(Ge))},onMouseOver:Y=>{Y.buttons===2&&k&&V(k,o),!(Y.relatedTarget&&Y.currentTarget.contains(Y.relatedTarget))&&Te(o)},onMouseOut:Y=>{Y.relatedTarget&&Y.currentTarget.contains(Y.relatedTarget)||ke(o)},onMouseDown:Y=>{Y.button===2&&Pe(o)},onMouseUp:Y=>{Y.button===2&&(k&&pe(k,o),ge(o))},onDragEnter:()=>Ce(o),onClick:()=>{const Y=E[o];q(o,Y),v()},onContextMenu:Y=>{Y.preventDefault()}},{children:typeof $=="string"?p.jsx($,Object.assign({ref:f,style:Object.assign(Object.assign(Object.assign({},Cd(d)),Sd),!l&&(U==null?void 0:U[o]))},{children:a})):p.jsx($,Object.assign({ref:f,square:o,squareColor:r,style:Object.assign(Object.assign(Object.assign({},Cd(d)),Sd),!l&&(U==null?void 0:U[o]))},{children:a}))}))}const Sd={display:"flex",justifyContent:"center"},Cd=o=>({width:o/8,height:o/8}),gv=(o,r,i)=>i!=null&&i.borderRadius?o==="a1"?r==="white"?{borderBottomLeftRadius:i.borderRadius}:{borderTopRightRadius:i.borderRadius}:o==="a8"?r==="white"?{borderTopLeftRadius:i.borderRadius}:{borderBottomRightRadius:i.borderRadius}:o==="h1"?r==="white"?{borderBottomRightRadius:i.borderRadius}:{borderTopLeftRadius:i.borderRadius}:o==="h8"?r==="white"?{borderTopRightRadius:i.borderRadius}:{borderBottomLeftRadius:i.borderRadius}:{}:{};function mv(){const[o,r]=w.useState({}),{arePremovesAllowed:i,boardOrientation:l,boardWidth:a,currentPosition:f,id:h,premoves:d,showBoardNotation:m}=Tn(),v=w.useMemo(()=>{const E=[];return i?(d.forEach((k,S)=>{const{sourceSq:T,targetSq:_,piece:C}=k,j=E.find(F=>{var $;return F.piece===C&&(($=F.premovesRoute.at(-1))===null||$===void 0?void 0:$.targetSq)===T});j?j.premovesRoute.push({sourceSq:T,targetSq:_,index:S}):E.push({piece:C,premovesRoute:[{sourceSq:T,targetSq:_,index:S}]})}),E):[]},[d]);return p.jsx("div",Object.assign({"data-boardid":h},{children:[...Array(8)].map((E,k)=>p.jsx("div",Object.assign({style:{display:"flex",flexWrap:"nowrap",width:a}},{children:[...Array(8)].map((S,T)=>{const _=l==="black"?oo[7-T]+(k+1):oo[T]+(8-k),C=T%2===k%2?"white":"black",j=d.find($=>$.sourceSq===_||$.targetSq===_),F=v.filter(({premovesRoute:$})=>{var U;return((U=$.at(-1))===null||U===void 0?void 0:U.targetSq)===_}).sort(($,U)=>{var V,ce;return((V=U.premovesRoute.at(-1))===null||V===void 0?void 0:V.index)-((ce=$.premovesRoute.at(-1))===null||ce===void 0?void 0:ce.index)}).at(0);return p.jsxs(pv,Object.assign({square:_,squareColor:C,setSquares:r,squareHasPremove:!!j},{children:[!j&&f[_]&&p.jsx(wd,{piece:f[_],square:_,squares:o}),F&&p.jsx(wd,{isPremovedPiece:!0,piece:F.piece,square:_,squares:o}),m&&p.jsx(ig,{row:k,col:T})]}),`${T}${k}`)})}),k.toString()))}))}const vv=()=>{const{arrows:o,newArrow:r,boardOrientation:i,boardWidth:l,customArrowColor:a}=Tn(),f=[...o,r].filter(Boolean);return p.jsx("svg",Object.assign({width:l,height:l,style:{position:"absolute",top:"0",left:"0",pointerEvents:"none",zIndex:"10"}},{children:f.map((h,d)=>{const[m,v,E]=h;if(m===v)return null;const k=Ga(i,l,m),S=Ga(i,l,v);let T=l/32;const _=d===o.length;o.some(U=>U[0]!==m&&U[1]===v)&&!_&&(T=l/16);const C=S.x-k.x,j=S.y-k.y,F=Math.hypot(j,C),$={x:k.x+C*(F-T)/F,y:k.y+j*(F-T)/F};return p.jsxs(w.Fragment,{children:[p.jsx("marker",Object.assign({id:`arrowhead-${d}`,markerWidth:"2",markerHeight:"2.5",refX:"1.25",refY:"1.25",orient:"auto"},{children:p.jsx("polygon",{points:"0.3 0, 2 1.25, 0.3 2.5",fill:E??a})})),p.jsx("line",{x1:k.x,y1:k.y,x2:$.x,y2:$.y,opacity:_?"0.5":"0.65",stroke:E??a,strokeWidth:_?.9*l/40:l/40,markerEnd:`url(#arrowhead-${d})`})]},`${m}-${v}${_?"-active":""}`)})}))};function yv({option:o}){const[r,i]=w.useState(!1),{boardWidth:l,chessPieces:a,customDarkSquareStyle:f,customLightSquareStyle:h,handleSetPosition:d,onPromotionPieceSelect:m,promoteFromSquare:v,promoteToSquare:E,promotionDialogVariant:k}=Tn(),S=()=>{switch(o[1]){case"Q":return f.backgroundColor;case"R":return h.backgroundColor;case"N":return k==="default"?h.backgroundColor:f.backgroundColor;case"B":return k==="default"?f.backgroundColor:h.backgroundColor}};return p.jsx("div",Object.assign({onClick:()=>{m(o,v??void 0,E??void 0)&&d(v,E,o,!0)},onMouseOver:()=>i(!0),onMouseOut:()=>i(!1),"data-piece":o,style:{cursor:"pointer",backgroundColor:r?S():`${S()}aa`,borderRadius:"4px",transition:"all 0.1s ease-out"}},{children:typeof a[o]=="function"?p.jsx("div",Object.assign({style:{transition:"all 0.1s ease-out",transform:r?"scale(1)":"scale(0.85)"}},{children:a[o]({squareWidth:l/8,isDragging:!1})})):p.jsx("svg",Object.assign({viewBox:"1 1 43 43",width:l/8,height:l/8,style:{transition:"all 0.1s ease-out",transform:r?"scale(1)":"scale(0.85)"}},{children:p.jsx("g",{children:a[o]})}))}))}function wv(){const{boardOrientation:o,boardWidth:r,promotionDialogVariant:i,promoteToSquare:l}=Tn(),a=(l==null?void 0:l[1])==="1"?"b":"w",f=[`${a??"w"}Q`,`${a??"w"}R`,`${a??"w"}N`,`${a??"w"}B`],h={default:{display:"grid",gridTemplateColumns:"1fr 1fr",transform:`translate(${-r/8}px, ${-r/8}px)`},vertical:{transform:`translate(${-r/16}px, ${-r/16}px)`},modal:{display:"flex",justifyContent:"center",alignItems:"center",transform:`translate(0px, ${3*r/8}px)`,width:"100%",height:`${r/4}px`,top:0,backgroundColor:"white",left:0}},d=Ga(o,r,l||"a8");return p.jsx("div",Object.assign({style:Object.assign({position:"absolute",top:`${d==null?void 0:d.y}px`,left:`${d==null?void 0:d.x}px`,zIndex:1e3},h[i]),title:"Choose promotion piece"},{children:f.map(m=>p.jsx(yv,{option:m},m))}))}const Sv={whiteKing:p.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",style:{shapeRendering:"geometricPrecision",textRendering:"geometricPrecision",imageRendering:"crisp-edges"},viewBox:"0 0 4210 12970",x:"0px",y:"0px",fillRule:"evenodd",clipRule:"evenodd",width:"250",height:"250"},{children:p.jsx("g",{children:p.jsx("path",{style:{fill:"black",fillRule:"nonzero"},d:"M2105 0c169,0 286,160 249,315l200 0c-172,266 -231,479 -256,792 315,-24 530,-86 792,-255l0 897c-265,-171 -479,-231 -792,-256 18,234 75,495 185,682l339 0c233,0 369,269 225,456l545 0 -595 1916c130,94 158,275 59,402 465,0 416,568 51,568l-334 0 465 2867 332 0c250,0 381,306 199,485 162,63 273,220 273,399l0 633 168 0 0 475c-1403,0 -2807,0 -4210,0l0 -475 167 0 0 -633c0,-179 112,-336 274,-399 -181,-178 -52,-485 199,-485l332 0 465 -2867 -335 0c-353,0 -418,-568 51,-568 -98,-127 -70,-308 59,-402l-594 -1916c181,0 363,0 545,0 -144,-187 -9,-456 225,-456l339 0c110,-187 167,-448 185,-682 -315,25 -530,87 -793,256l0 -897c266,171 480,231 793,255 -25,-315 -87,-529 -256,-792l199 0c-36,-155 81,-315 250,-315zm-1994 10012l0 253 3988 0 0 -253c-1330,0 -2659,0 -3988,0zm484 -1060c-174,0 -316,142 -316,316l0 633 3652 0 0 -633c0,-174 -142,-316 -316,-316 -1007,0 -2013,0 -3020,0zm45 -457c-230,0 -225,345 0,345l2930 0c230,0 225,-345 0,-345 -977,0 -1953,0 -2930,0zm2020 -2978l-1111 0 -465 2867 2041 0 -465 -2867zm-1558 -456c-229,0 -224,345 0,345 669,0 1337,0 2005,0 230,0 225,-345 0,-345 -668,0 -1336,0 -2005,0zm1730 -457l-1454 0c-229,0 -224,345 0,345l1454 0c229,0 224,-345 0,-345zm-2064 -1862l544 1751c529,0 1057,0 1586,0l544 -1751c-892,0 -1783,0 -2674,0zm1085 -567l504 0c-126,-247 -163,-526 -177,-800 273,15 553,52 800,177l0 -504c-247,126 -527,163 -800,177 14,-273 51,-552 177,-799 -168,0 -336,0 -504,0 125,247 162,526 177,799 -274,-14 -553,-51 -800,-177l0 504c247,-125 527,-162 800,-177 -15,274 -52,553 -177,800zm969 111l-1434 0c-230,0 -225,345 0,345l1434 0c230,0 225,-345 0,-345zm-717 -2175c-105,0 -175,109 -133,204l266 0c42,-96 -30,-205 -133,-204z"})})}))};function Cv({children:o}){try{return p.jsx(p.Fragment,{children:o})}catch(r){return console.log(r),p.jsx(ch,{showError:!0})}}function ch({showError:o=!1}){return p.jsxs("div",Object.assign({style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"}},{children:[p.jsx("div",Object.assign({style:{width:250,height:250,transform:"rotate(90deg)"}},{children:Sv.whiteKing})),o&&p.jsx("h1",{children:"Something went wrong"})]}))}function Ev(){const o=w.useRef(null),{boardWidth:r,clearCurrentRightClickDown:i,onPromotionPieceSelect:l,setShowPromoteDialog:a,showPromoteDialog:f,customBoardStyle:h}=Tn();return w.useEffect(()=>{function d(m){o.current&&!o.current.contains(m.target)&&i()}return document.addEventListener("mouseup",d),()=>{document.removeEventListener("mouseup",d)}},[]),r?p.jsx("div",Object.assign({style:{perspective:"1000px"}},{children:p.jsxs("div",Object.assign({ref:o,style:Object.assign(Object.assign({position:"relative"},xv(r)),h)},{children:[p.jsx(mv,{}),p.jsx(vv,{}),f&&p.jsxs(p.Fragment,{children:[p.jsx("div",{onClick:()=>{a(!1),l==null||l()},style:{position:"absolute",top:"0",left:"0",zIndex:"100",backgroundColor:"rgba(22,21,18,.7)",width:r,height:r}}),p.jsx(wv,{})]})]}))})):p.jsx(ch,{})}const xv=o=>({cursor:"default",height:o,width:o});var ur;(function(o){o.mouse="mouse",o.touch="touch",o.keyboard="keyboard"})(ur||(ur={}));class kv{get delay(){var r;return(r=this.args.delay)!==null&&r!==void 0?r:0}get scrollAngleRanges(){return this.args.scrollAngleRanges}get getDropTargetElementsAtPoint(){return this.args.getDropTargetElementsAtPoint}get ignoreContextMenu(){var r;return(r=this.args.ignoreContextMenu)!==null&&r!==void 0?r:!1}get enableHoverOutsideTarget(){var r;return(r=this.args.enableHoverOutsideTarget)!==null&&r!==void 0?r:!1}get enableKeyboardEvents(){var r;return(r=this.args.enableKeyboardEvents)!==null&&r!==void 0?r:!1}get enableMouseEvents(){var r;return(r=this.args.enableMouseEvents)!==null&&r!==void 0?r:!1}get enableTouchEvents(){var r;return(r=this.args.enableTouchEvents)!==null&&r!==void 0?r:!0}get touchSlop(){return this.args.touchSlop||0}get delayTouchStart(){var r,i,l,a;return(a=(l=(r=this.args)===null||r===void 0?void 0:r.delayTouchStart)!==null&&l!==void 0?l:(i=this.args)===null||i===void 0?void 0:i.delay)!==null&&a!==void 0?a:0}get delayMouseStart(){var r,i,l,a;return(a=(l=(r=this.args)===null||r===void 0?void 0:r.delayMouseStart)!==null&&l!==void 0?l:(i=this.args)===null||i===void 0?void 0:i.delay)!==null&&a!==void 0?a:0}get window(){if(this.context&&this.context.window)return this.context.window;if(typeof window<"u")return window}get document(){var r;if(!((r=this.context)===null||r===void 0)&&r.document)return this.context.document;if(this.window)return this.window.document}get rootElement(){var r;return((r=this.args)===null||r===void 0?void 0:r.rootElement)||this.document}constructor(r,i){this.args=r,this.context=i}}function _v(o,r,i,l){return Math.sqrt(Math.pow(Math.abs(i-o),2)+Math.pow(Math.abs(l-r),2))}function Ov(o,r,i,l,a){if(!a)return!1;const f=Math.atan2(l-r,i-o)*180/Math.PI+180;for(let h=0;h<a.length;++h){const d=a[h];if(d&&(d.start==null||f>=d.start)&&(d.end==null||f<=d.end))return!0}return!1}const Dv={Left:1},Tv={Left:0};function Ua(o){return o.button===void 0||o.button===Tv.Left}function Nv(o){return o.buttons===void 0||(o.buttons&Dv.Left)===0}function fh(o){return!!o.targetTouches}const jv=1;function Pv(o){const r=o.nodeType===jv?o:o.parentElement;if(!r)return;const{top:i,left:l}=r.getBoundingClientRect();return{x:l,y:i}}function bv(o,r){if(o.targetTouches.length===1)return bs(o.targetTouches[0]);if(r&&o.touches.length===1&&o.touches[0].target===r.target)return bs(o.touches[0])}function bs(o,r){return fh(o)?bv(o,r):{x:o.clientX,y:o.clientY}}const Ed=(()=>{let o=!1;try{addEventListener("test",()=>{},Object.defineProperty({},"passive",{get(){return o=!0,!0}}))}catch{}return o})(),Ji={[ur.mouse]:{start:"mousedown",move:"mousemove",end:"mouseup",contextmenu:"contextmenu"},[ur.touch]:{start:"touchstart",move:"touchmove",end:"touchend"},[ur.keyboard]:{keydown:"keydown"}};class no{profile(){var r;return{sourceNodes:this.sourceNodes.size,sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,targetNodes:this.targetNodes.size,dragOverTargetIds:((r=this.dragOverTargetIds)===null||r===void 0?void 0:r.length)||0}}get document(){return this.options.document}setup(){const r=this.options.rootElement;r&&(xe(!no.isSetUp,"Cannot have two Touch backends at the same time."),no.isSetUp=!0,this.addEventListener(r,"start",this.getTopMoveStartHandler()),this.addEventListener(r,"start",this.handleTopMoveStartCapture,!0),this.addEventListener(r,"move",this.handleTopMove),this.addEventListener(r,"move",this.handleTopMoveCapture,!0),this.addEventListener(r,"end",this.handleTopMoveEndCapture,!0),this.options.enableMouseEvents&&!this.options.ignoreContextMenu&&this.addEventListener(r,"contextmenu",this.handleTopMoveEndCapture),this.options.enableKeyboardEvents&&this.addEventListener(r,"keydown",this.handleCancelOnEscape,!0))}teardown(){const r=this.options.rootElement;r&&(no.isSetUp=!1,this._mouseClientOffset={},this.removeEventListener(r,"start",this.handleTopMoveStartCapture,!0),this.removeEventListener(r,"start",this.handleTopMoveStart),this.removeEventListener(r,"move",this.handleTopMoveCapture,!0),this.removeEventListener(r,"move",this.handleTopMove),this.removeEventListener(r,"end",this.handleTopMoveEndCapture,!0),this.options.enableMouseEvents&&!this.options.ignoreContextMenu&&this.removeEventListener(r,"contextmenu",this.handleTopMoveEndCapture),this.options.enableKeyboardEvents&&this.removeEventListener(r,"keydown",this.handleCancelOnEscape,!0),this.uninstallSourceNodeRemovalObserver())}addEventListener(r,i,l,a=!1){const f=Ed?{capture:a,passive:!1}:a;this.listenerTypes.forEach(function(h){const d=Ji[h][i];d&&r.addEventListener(d,l,f)})}removeEventListener(r,i,l,a=!1){const f=Ed?{capture:a,passive:!1}:a;this.listenerTypes.forEach(function(h){const d=Ji[h][i];d&&r.removeEventListener(d,l,f)})}connectDragSource(r,i){const l=this.handleMoveStart.bind(this,r);return this.sourceNodes.set(r,i),this.addEventListener(i,"start",l),()=>{this.sourceNodes.delete(r),this.removeEventListener(i,"start",l)}}connectDragPreview(r,i,l){return this.sourcePreviewNodeOptions.set(r,l),this.sourcePreviewNodes.set(r,i),()=>{this.sourcePreviewNodes.delete(r),this.sourcePreviewNodeOptions.delete(r)}}connectDropTarget(r,i){const l=this.options.rootElement;if(!this.document||!l)return()=>{};const a=f=>{if(!this.document||!l||!this.monitor.isDragging())return;let h;switch(f.type){case Ji.mouse.move:h={x:f.clientX,y:f.clientY};break;case Ji.touch.move:var d,m;h={x:((d=f.touches[0])===null||d===void 0?void 0:d.clientX)||0,y:((m=f.touches[0])===null||m===void 0?void 0:m.clientY)||0};break}const v=h!=null?this.document.elementFromPoint(h.x,h.y):void 0,E=v&&i.contains(v);if(v===i||E)return this.handleMove(f,r)};return this.addEventListener(this.document.body,"move",a),this.targetNodes.set(r,i),()=>{this.document&&(this.targetNodes.delete(r),this.removeEventListener(this.document.body,"move",a))}}getTopMoveStartHandler(){return!this.options.delayTouchStart&&!this.options.delayMouseStart?this.handleTopMoveStart:this.handleTopMoveStartDelay}installSourceNodeRemovalObserver(r){this.uninstallSourceNodeRemovalObserver(),this.draggedSourceNode=r,this.draggedSourceNodeRemovalObserver=new MutationObserver(()=>{r&&!r.parentElement&&(this.resurrectSourceNode(),this.uninstallSourceNodeRemovalObserver())}),!(!r||!r.parentElement)&&this.draggedSourceNodeRemovalObserver.observe(r.parentElement,{childList:!0})}resurrectSourceNode(){this.document&&this.draggedSourceNode&&(this.draggedSourceNode.style.display="none",this.draggedSourceNode.removeAttribute("data-reactid"),this.document.body.appendChild(this.draggedSourceNode))}uninstallSourceNodeRemovalObserver(){this.draggedSourceNodeRemovalObserver&&this.draggedSourceNodeRemovalObserver.disconnect(),this.draggedSourceNodeRemovalObserver=void 0,this.draggedSourceNode=void 0}constructor(r,i,l){this.getSourceClientOffset=a=>{const f=this.sourceNodes.get(a);return f&&Pv(f)},this.handleTopMoveStartCapture=a=>{Ua(a)&&(this.moveStartSourceIds=[])},this.handleMoveStart=a=>{Array.isArray(this.moveStartSourceIds)&&this.moveStartSourceIds.unshift(a)},this.handleTopMoveStart=a=>{if(!Ua(a))return;const f=bs(a);f&&(fh(a)&&(this.lastTargetTouchFallback=a.targetTouches[0]),this._mouseClientOffset=f),this.waitingForDelay=!1},this.handleTopMoveStartDelay=a=>{if(!Ua(a))return;const f=a.type===Ji.touch.start?this.options.delayTouchStart:this.options.delayMouseStart;this.timeout=setTimeout(this.handleTopMoveStart.bind(this,a),f),this.waitingForDelay=!0},this.handleTopMoveCapture=()=>{this.dragOverTargetIds=[]},this.handleMove=(a,f)=>{this.dragOverTargetIds&&this.dragOverTargetIds.unshift(f)},this.handleTopMove=a=>{if(this.timeout&&clearTimeout(this.timeout),!this.document||this.waitingForDelay)return;const{moveStartSourceIds:f,dragOverTargetIds:h}=this,d=this.options.enableHoverOutsideTarget,m=bs(a,this.lastTargetTouchFallback);if(!m)return;if(this._isScrolling||!this.monitor.isDragging()&&Ov(this._mouseClientOffset.x||0,this._mouseClientOffset.y||0,m.x,m.y,this.options.scrollAngleRanges)){this._isScrolling=!0;return}if(!this.monitor.isDragging()&&this._mouseClientOffset.hasOwnProperty("x")&&f&&_v(this._mouseClientOffset.x||0,this._mouseClientOffset.y||0,m.x,m.y)>(this.options.touchSlop?this.options.touchSlop:0)&&(this.moveStartSourceIds=void 0,this.actions.beginDrag(f,{clientOffset:this._mouseClientOffset,getSourceClientOffset:this.getSourceClientOffset,publishSource:!1})),!this.monitor.isDragging())return;const v=this.sourceNodes.get(this.monitor.getSourceId());this.installSourceNodeRemovalObserver(v),this.actions.publishDragSource(),a.cancelable&&a.preventDefault();const E=(h||[]).map(_=>this.targetNodes.get(_)).filter(_=>!!_),k=this.options.getDropTargetElementsAtPoint?this.options.getDropTargetElementsAtPoint(m.x,m.y,E):this.document.elementsFromPoint(m.x,m.y),S=[];for(const _ in k){if(!k.hasOwnProperty(_))continue;let C=k[_];for(C!=null&&S.push(C);C;)C=C.parentElement,C&&S.indexOf(C)===-1&&S.push(C)}const T=S.filter(_=>E.indexOf(_)>-1).map(_=>this._getDropTargetId(_)).filter(_=>!!_).filter((_,C,j)=>j.indexOf(_)===C);if(d)for(const _ in this.targetNodes){const C=this.targetNodes.get(_);if(v&&C&&C.contains(v)&&T.indexOf(_)===-1){T.unshift(_);break}}T.reverse(),this.actions.hover(T,{clientOffset:m})},this._getDropTargetId=a=>{const f=this.targetNodes.keys();let h=f.next();for(;h.done===!1;){const d=h.value;if(a===this.targetNodes.get(d))return d;h=f.next()}},this.handleTopMoveEndCapture=a=>{if(this._isScrolling=!1,this.lastTargetTouchFallback=void 0,!!Nv(a)){if(!this.monitor.isDragging()||this.monitor.didDrop()){this.moveStartSourceIds=void 0;return}a.cancelable&&a.preventDefault(),this._mouseClientOffset={},this.uninstallSourceNodeRemovalObserver(),this.actions.drop(),this.actions.endDrag()}},this.handleCancelOnEscape=a=>{a.key==="Escape"&&this.monitor.isDragging()&&(this._mouseClientOffset={},this.uninstallSourceNodeRemovalObserver(),this.actions.endDrag())},this.options=new kv(l,i),this.actions=r.getActions(),this.monitor=r.getMonitor(),this.sourceNodes=new Map,this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.targetNodes=new Map,this.listenerTypes=[],this._mouseClientOffset={},this._isScrolling=!1,this.options.enableMouseEvents&&this.listenerTypes.push(ur.mouse),this.options.enableTouchEvents&&this.listenerTypes.push(ur.touch),this.options.enableKeyboardEvents&&this.listenerTypes.push(ur.keyboard)}}const Lv=function(r,i={},l={}){return new no(r,i,l)},Mv=w.createContext({isCustomDndProviderSet:!1}),Iv=({children:o})=>p.jsx(p.Fragment,{children:o}),Rv=({customDndBackend:o,customDndBackendOptions:r,children:i})=>{const[l,a]=w.useState(),[f,h]=w.useState(!1),[d,m]=w.useState(!1),{isCustomDndProviderSet:v}=w.useContext(Mv);w.useEffect(()=>{m("ontouchstart"in window),h(!0),a(window)},[]);const E=v?Iv:Cm;return f?l?p.jsx(E,Object.assign({backend:o||(d?Lv:hv),context:l,options:o?r:void 0},{children:i})):p.jsx(p.Fragment,{children:i}):null};function Av({boardContainer:o}){const{boardWidth:r,chessPieces:i,id:l,snapToCursor:a,allowDragOutsideBoard:f}=Tn(),h=Hm(S=>({item:S.getItem(),clientOffset:S.getClientOffset(),sourceClientOffset:S.getSourceClientOffset(),isDragging:S.isDragging()})),{isDragging:d,item:m,clientOffset:v,sourceClientOffset:E}=h,k=w.useCallback((S,T)=>{if(!S||!T)return{display:"none"};let{x:_,y:C}=a?S:T;const j=r/8/2;if(a&&(_-=j,C-=j),!f){const{left:$,top:U}=o,V=$-j,ce=U-j,fe=$+r-j,X=U+r-j;_=Math.max(V,Math.min(_,fe)),C=Math.max(ce,Math.min(C,X))}const F=`translate(${_}px, ${C}px)`;return{transform:F,WebkitTransform:F,touchAction:"none"}},[r,f,a,o]);return d&&m.id===l?p.jsx("div",Object.assign({style:{position:"fixed",pointerEvents:"none",zIndex:10,left:0,top:0}},{children:p.jsx("div",Object.assign({style:k(v,E)},{children:typeof i[m.piece]=="function"?i[m.piece]({squareWidth:r/8,isDragging:!0}):p.jsx("svg",Object.assign({viewBox:"1 1 43 43",width:r/8,height:r/8},{children:p.jsx("g",{children:i[m.piece]})}))}))})):null}const Fv=w.forwardRef((o,r)=>{const{customDndBackend:i,customDndBackendOptions:l,onBoardWidthChange:a}=o,f=K0(o,["customDndBackend","customDndBackendOptions","onBoardWidthChange"]),[h,d]=w.useState(o.boardWidth),m=w.useRef(null),v=w.useRef(null),[E,k]=w.useState({left:0,top:0}),S=w.useMemo(()=>{var T;return(T=m.current)===null||T===void 0?void 0:T.getBoundingClientRect()},[m.current]);return w.useEffect(()=>{h&&(a==null||a(h))},[h]),w.useEffect(()=>{k({left:S!=null&&S.left?S==null?void 0:S.left:0,top:S!=null&&S.top?S==null?void 0:S.top:0})},[S]),w.useEffect(()=>{var T;if(o.boardWidth===void 0&&(!((T=m.current)===null||T===void 0)&&T.offsetWidth)){const _=new ResizeObserver(()=>{var C;d((C=m.current)===null||C===void 0?void 0:C.offsetWidth)});return _.observe(m.current),()=>{_.disconnect()}}},[m.current]),p.jsx(Cv,{children:p.jsxs("div",Object.assign({ref:v,style:{display:"flex",flexDirection:"column",width:"100%"}},{children:[p.jsx("div",{ref:m,style:{width:"100%"}}),p.jsx(Rv,Object.assign({customDndBackend:i,customDndBackendOptions:l},{children:h&&p.jsxs(rg,Object.assign({boardWidth:h},f,{ref:r},{children:[p.jsx(Av,{boardContainer:E}),p.jsx(Ev,{})]}))}))]}))})});function $v({position:o,onPieceDrop:r,boardWidth:i,customSquareStyles:l,boardOrientation:a,arePiecesDraggable:f,isDraggablePiece:h,animationDuration:d}){return p.jsx("div",{className:"board-wrapper",children:p.jsx(Fv,{position:o,onPieceDrop:r,boardWidth:i,customSquareStyles:l,boardOrientation:a??"white",arePiecesDraggable:f??!0,isDraggablePiece:h,animationDuration:d??250,customBoardStyle:{borderRadius:"4px",boxShadow:"0 4px 24px rgba(0,0,0,0.6)"},customDarkSquareStyle:{backgroundColor:"#4a6741"},customLightSquareStyle:{backgroundColor:"#f0d9b5"}})})}function zv({moves:o}){const r=w.useRef(null);w.useEffect(()=>{var l;(l=r.current)==null||l.scrollIntoView({behavior:"smooth"})},[o]);const i=[];for(let l=0;l<o.length;l+=2)i.push([o[l],o[l+1]??null]);return p.jsxs("div",{className:"history-panel",children:[p.jsx("div",{className:"panel-header",children:"Move History"}),p.jsxs("div",{className:"history-list",children:[i.length===0&&p.jsx("span",{className:"history-empty",children:"No moves yet"}),i.map(([l,a],f)=>p.jsxs("div",{className:"move-row",children:[p.jsxs("span",{className:"move-num",children:[f+1,"."]}),p.jsx("span",{className:"move-san white-move",children:(l==null?void 0:l.san)??""}),p.jsx("span",{className:"move-san black-move",children:(a==null?void 0:a.san)??""})]},f)),p.jsx("div",{ref:r})]})]})}function Uv(o){return o==null?"":typeof o=="object"?`M${Math.abs(o.mate)}`:o>=0?`+${o.toFixed(2)}`:`${o.toFixed(2)}`}function Bv({entry:o}){return p.jsxs("div",{className:"feedback-line",children:[p.jsx("span",{className:"feedback-prompt",children:">"}),p.jsxs("div",{className:"fb-card",children:[p.jsxs("div",{className:"fb-move-row",children:[p.jsx("span",{className:"fb-move",children:o.lastMove}),p.jsxs("span",{className:"fb-color",children:["[",o.playerColor,"]"]})]}),p.jsxs("div",{className:"fb-detail-row",children:[p.jsx("span",{className:"fb-key",children:"eval"}),p.jsx("span",{className:"fb-eval",children:Uv(o.eval)}),o.bestMove&&p.jsxs(p.Fragment,{children:[p.jsx("span",{className:"fb-key",children:"best"}),p.jsx("span",{className:"fb-best",children:o.bestMove})]})]})]})]})}function Wv({entries:o}){const r=w.useRef(null);return w.useEffect(()=>{var i;(i=r.current)==null||i.scrollIntoView({behavior:"smooth"})},[o]),p.jsxs("div",{className:"feedback-panel",children:[p.jsx("div",{className:"panel-header",children:"Feedback"}),p.jsxs("div",{className:"feedback-content",children:[o.length===0&&p.jsx("span",{className:"feedback-empty",children:"Waiting for moves..."}),o.map((i,l)=>p.jsx(Bv,{entry:i},l)),p.jsx("div",{ref:r})]}),p.jsx("section",{className:"maintenance-section",children:p.jsxs("div",{className:"maintenance-card",children:[p.jsx("h2",{children:"Under maintenance "}),p.jsx("p",{children:"Waiting for OLLAMA Feedback implementation"})]})})]})}const xd={p:"Pawn",n:"Knight",b:"Bishop",r:"Rook",q:"Queen",k:"King"},kd={w:{p:"",n:"",b:"",r:"",q:"",k:""},b:{p:"",n:"",b:"",r:"",q:"",k:""}},dh=[{label:"Easy",skill:5,color:"green"},{label:"Medium",skill:10,color:"blue"},{label:"Hard",skill:15,color:"orange"},{label:"Expert",skill:20,color:"red"}];function Hv({analysis:o,fen:r,rivalLevel:i,onLevelChange:l,rivalThinking:a,rivalLastMove:f}){const{bestMove:h,score:d,depth:m,thinking:v}=o,k=w.useMemo(()=>{try{return new Dn(r).turn()}catch{return"w"}},[r])==="w"?"White":"Black",S=w.useMemo(()=>{if(i!==null||!h||h==="(none)"||!r)return null;try{const _=new Dn(r),C=h.slice(0,2),j=h.slice(2,4),F=h[4]??"q",$=_.get(C);if(!$)return null;const U=_.move({from:C,to:j,promotion:F});return{piece:xd[$.type],symbol:kd[$.color][$.type],color:$.color,from:C,to:j,san:(U==null?void 0:U.san)??h}}catch{return null}},[h,r,i]),T=(()=>{if(d==null)return null;if(typeof d=="object")return`M${Math.abs(d.mate)}`;const _=d/100;return _>0?`+${_.toFixed(2)}`:_.toFixed(2)})();return p.jsxs("div",{className:"stockfish-panel",children:[p.jsxs("div",{className:"panel-header",children:["Stockfish",(v||a)&&p.jsx("span",{className:"thinking-dot",children:""})]}),p.jsx("div",{className:"sf-level-bar",children:dh.map(_=>{const C=(i==null?void 0:i.skill)===_.skill,j=i!==null;return p.jsx("button",{className:["sf-lvl-btn",`sf-lvl-${_.color}`,C?"sf-lvl-active":"",j&&!C?"sf-lvl-locked":""].join(" "),onClick:()=>!j&&l(_),disabled:j,title:j&&!C?"Start a New Game to change level":_.label,children:_.label},_.skill)})}),p.jsxs("div",{className:"sf-content",children:[i!==null&&(a?p.jsxs("div",{className:"sf-rival-thinking",children:[p.jsx("span",{className:"sf-rival-spinner",children:""}),p.jsx("span",{children:"Stockfish is thinking"})]}):f?p.jsxs("div",{className:"sf-card",children:[p.jsxs("div",{className:"sf-side-label",children:["Rival played (",i.label,")"]}),p.jsxs("div",{className:"sf-piece-row",children:[p.jsx("span",{className:"sf-symbol",style:{color:f.color==="w"?"#f0d9b5":"#b0b8c8"},children:kd[f.color][f.piece]}),p.jsxs("div",{className:"sf-details",children:[p.jsx("span",{className:"sf-piece-name",children:xd[f.piece]}),p.jsxs("span",{className:"sf-squares",children:[p.jsx("span",{className:"sf-sq",children:f.from}),p.jsx("span",{className:"sf-arrow",children:""}),p.jsx("span",{className:"sf-sq",children:f.to})]})]}),p.jsx("span",{className:"sf-san",children:f.san})]}),T&&p.jsxs("div",{className:"sf-score-row",children:[p.jsx("span",{className:"sf-score-key",children:"Score"}),p.jsx("span",{className:"sf-score-val",children:T}),p.jsx("span",{className:"sf-depth-key",children:"Depth"}),p.jsx("span",{className:"sf-depth-val",children:m})]})]}):p.jsx("span",{className:"sf-empty",children:"Waiting for your move"})),i===null&&(S?p.jsxs("div",{className:"sf-card",children:[p.jsxs("div",{className:"sf-side-label",children:[k," best response"]}),p.jsxs("div",{className:"sf-piece-row",children:[p.jsx("span",{className:"sf-symbol",style:{color:S.color==="w"?"#f0d9b5":"#b0b8c8"},children:S.symbol}),p.jsxs("div",{className:"sf-details",children:[p.jsx("span",{className:"sf-piece-name",children:S.piece}),p.jsxs("span",{className:"sf-squares",children:[p.jsx("span",{className:"sf-sq",children:S.from}),p.jsx("span",{className:"sf-arrow",children:""}),p.jsx("span",{className:"sf-sq",children:S.to})]})]}),p.jsx("span",{className:"sf-san",children:S.san})]}),T&&p.jsxs("div",{className:"sf-score-row",children:[p.jsx("span",{className:"sf-score-key",children:"Score"}),p.jsx("span",{className:"sf-score-val",children:T}),p.jsx("span",{className:"sf-depth-key",children:"Depth"}),p.jsx("span",{className:"sf-depth-val",children:m})]})]}):p.jsx("span",{className:"sf-empty",children:v?"Analysing position":"Pick a level above to play vs Stockfish"}))]})]})}function Vv({score:o,height:r}){let i=50,l="0.0";if(o!=null)if(typeof o=="object")i=o.mate>0?97:3,l=`M${Math.abs(o.mate)}`;else{const a=o/100;i=50+Math.max(-8,Math.min(8,a))/8*47,l=a>0?`+${a.toFixed(1)}`:a.toFixed(1)}return p.jsxs("div",{className:"eval-bar-container",style:{height:r},children:[p.jsxs("div",{className:"eval-bar",children:[p.jsx("div",{className:"eval-black",style:{height:`${100-i}%`}}),p.jsx("div",{className:"eval-white",style:{height:`${i}%`}})]}),p.jsx("div",{className:"eval-label",children:l})]})}function Kv(o,r){const i=new Dn(o),l=[];for(const a of r)try{const f=i.move({from:a.slice(0,2),to:a.slice(2,4),promotion:a[4]??"q"});if(!f)break;l.push(f.san)}catch{break}return l}function qv(o){return o===0?{label:"Waiting",pct:0,color:"#2e3a55"}:o<=5?{label:"Surface",pct:12,color:"#8a6a2e"}:o<=10?{label:"Shallow",pct:30,color:"#8a7a2e"}:o<=15?{label:"Standard",pct:55,color:"#4e8a4e"}:o<=19?{label:"Deep",pct:76,color:"#2e7a8a"}:o<=22?{label:"Very Deep",pct:90,color:"#4e6aff"}:{label:"Extreme",pct:100,color:"#a050ff"}}function Qv(o){const r=o,i=Math.ceil(o/2);return o===0?"Engine is initialising or waiting for a move.":o<=5?`At depth ${o} (${i} full move${i>1?"s":""} ahead) the engine catches only the most obvious immediate tactics. Useful for quick blunder checks.`:o<=10?`Depth ${o} means Stockfish is looking ${r} half-moves (${i} full moves) ahead. Short tactical combinations  forks, pins, and simple exchanges  are reliably found here.`:o<=15?`Depth ${o} (${r} half-moves ahead) is where solid tactical analysis begins. Most one-move threats and two-move combinations are clearly visible to the engine.`:o<=19?`At depth ${o} Stockfish searches ${r} half-moves ahead. It is now evaluating multi-piece combinations, sacrifices, and medium-horizon strategic plans with high confidence.`:o<=22?`Depth ${o}  ${r} half-moves of full tree search. Analysis at this level uncovers deep combinations that humans rarely see over the board. Evaluations are highly reliable.`:`Depth ${o} is extreme. Stockfish is exploring ${r} half-moves ahead, far beyond human calculation. At this depth the principal variation reflects near-optimal play for both sides.`}function Gv(o){if(o==null)return null;if(typeof o=="object")return o.mate>0?`White has a forced checkmate in ${Math.abs(o.mate)} move${Math.abs(o.mate)>1?"s":""}.`:`Black has a forced checkmate in ${Math.abs(o.mate)} move${Math.abs(o.mate)>1?"s":""}.`;const r=o/100,i=Math.abs(r),l=o>0?"White":"Black";return i<.2?"The position is equal  neither side has a meaningful advantage.":i<.5?`${l} has a very slight edge (+${i.toFixed(2)} pawns). Both sides have good practical chances.`:i<1?`${l} holds a small advantage (+${i.toFixed(2)} pawns). Precise play is needed to convert.`:i<2?`${l} is clearly better (+${i.toFixed(2)} pawns). This advantage is equivalent to roughly one minor piece.`:i<4?`${l} is winning (+${i.toFixed(2)} pawns). A decisive material or positional edge exists.`:`${l} has a dominant advantage (+${i.toFixed(2)} pawns). The game is effectively decided with best play.`}function Yv({analysis:o,fen:r}){const{depth:i,score:l,pv:a,thinking:f}=o,h=qv(i),d=w.useMemo(()=>!(a!=null&&a.length)||!r?[]:Kv(r,a.slice(0,6)),[a,r]),m=Gv(l),v=Qv(i),E=(()=>{if(l==null)return"";if(typeof l=="object")return`M${Math.abs(l.mate)}`;const k=l/100;return k>0?`+${k.toFixed(2)}`:k.toFixed(2)})();return p.jsxs("div",{className:"analysis-side-panel",children:[p.jsxs("div",{className:"panel-header",children:["Analysis ",f&&p.jsx("span",{className:"thinking-dot",children:""})]}),p.jsxs("div",{className:"analysis-side-content",children:[p.jsxs("div",{className:"as-block",children:[p.jsxs("div",{className:"as-row",children:[p.jsx("span",{className:"as-label",children:"Depth"}),p.jsxs("span",{className:"as-value",style:{color:h.color},children:[i>0?i:"","",p.jsx("span",{className:"as-tag",style:{borderColor:h.color,color:h.color},children:h.label})]})]}),p.jsx("div",{className:"as-progress-track",children:p.jsx("div",{className:"as-progress-fill",style:{width:`${h.pct}%`,background:h.color}})}),p.jsx("p",{className:"as-explain",children:v})]}),p.jsxs("div",{className:"as-block",children:[p.jsxs("div",{className:"as-row",children:[p.jsx("span",{className:"as-label",children:"Score"}),p.jsx("span",{className:"as-value score-value",children:E})]}),m&&p.jsx("p",{className:"as-explain",children:m})]}),d.length>0&&p.jsxs("div",{className:"as-block",children:[p.jsx("div",{className:"as-label",style:{marginBottom:4},children:"Best line"}),p.jsx("div",{className:"as-pv",children:d.map((k,S)=>p.jsxs("span",{className:S%2===0?"pv-white":"pv-black",children:[S%2===0&&p.jsxs("span",{className:"pv-num",children:[Math.floor(S/2)+1,"."]}),k," "]},S))})]})]})]})}function Xv(){return p.jsxs("div",{className:"why-depth-panel",children:[p.jsx("div",{className:"panel-header",children:"Why Depth Matters"}),p.jsx("div",{className:"analysis-side-content",children:p.jsx("div",{className:"as-block",children:p.jsx("p",{className:"as-explain",children:"Chess has roughly 35 legal moves per position. Every extra ply (half-move) multiplies the search tree by ~35. Shallow searches miss deep combinations; deeper searches find lines that no human could calculate at the board. Stockfish uses alpha-beta pruning and NNUE (neural-network) evaluation to cut irrelevant branches and reach high depths efficiently."})})})]})}function Zv({onSelect:o,onCancel:r}){const i=l=>{o(l==="random"?Math.random()<.5?"white":"black":l)};return p.jsx("div",{className:"modal-backdrop",onClick:r,children:p.jsxs("div",{className:"modal-box",onClick:l=>l.stopPropagation(),children:[p.jsx("div",{className:"modal-title",children:"New Game  Choose your side"}),p.jsxs("div",{className:"color-picker-row",children:[p.jsxs("button",{className:"color-btn white-btn",onClick:()=>i("white"),children:[p.jsx("span",{className:"color-piece",children:""}),p.jsx("span",{className:"color-label",children:"White"})]}),p.jsxs("button",{className:"color-btn random-btn",onClick:()=>i("random"),children:[p.jsx("span",{className:"color-piece",style:{fontSize:"1.4rem"},children:""}),p.jsx("span",{className:"color-label",children:"Random"})]}),p.jsxs("button",{className:"color-btn black-btn",onClick:()=>i("black"),children:[p.jsx("span",{className:"color-piece",children:""}),p.jsx("span",{className:"color-label",children:"Black"})]})]}),p.jsx("button",{className:"modal-cancel",onClick:r,children:"Cancel"})]})})}const Jv=30;function e1(o){const r=o.playerColor==="white"?"White":"Black",i=o.eval===null||o.eval===void 0?null:typeof o.eval=="object"?`Mate in ${Math.abs(o.eval.mate)}`:`${o.eval>=0?"+":""}${o.eval.toFixed(2)}`;let l=`${r} played ${o.lastMove}.`;return i&&(l+=` Eval: ${i}.`),o.bestMove&&(l+=` Best was ${o.bestMove}.`),l}function t1({text:o}){const[r,i]=w.useState(0),l=r>=o.length;return w.useEffect(()=>{i(0)},[o]),w.useEffect(()=>{if(l)return;const a=setTimeout(()=>i(f=>f+1),Jv);return()=>clearTimeout(a)},[r,l]),p.jsxs(p.Fragment,{children:[o.slice(0,r),!l&&p.jsx("span",{className:"feedback-cursor",children:""})]})}function n1({entries:o}){const r=w.useRef(null);return w.useEffect(()=>{var i;(i=r.current)==null||i.scrollIntoView({behavior:"smooth"})},[o]),p.jsxs("div",{className:"narrator-panel",children:[p.jsx("div",{className:"panel-header",children:"Narrator"}),p.jsxs("div",{className:"feedback-content",children:[o.length===0&&p.jsx("span",{className:"feedback-empty",children:"Waiting for moves..."}),o.map((i,l)=>{const a=e1(i);return p.jsxs("div",{className:"feedback-line",children:[p.jsx("span",{className:"feedback-prompt",children:">"}),l===o.length-1?p.jsx(t1,{text:a}):p.jsx("span",{children:a})]},l)}),p.jsx("div",{ref:r})]})]})}function r1({isLoggedIn:o,onToggleLogin:r,onSettings:i}){return p.jsxs("header",{className:"app-header",children:[p.jsxs("div",{className:"header-brand",children:[p.jsx("span",{className:"header-logo",children:""}),p.jsx("span",{className:"header-title",children:"Bob's Chess Coach"})]}),p.jsxs("div",{className:"header-user",children:[o&&p.jsx("span",{className:"header-username",children:"Uncle Bob"}),p.jsx("button",{className:"header-btn",onClick:i,title:"Settings",children:""}),p.jsx("button",{className:"header-btn login-btn",onClick:r,children:o?"Log Off":"Log On"})]})]})}const i1="data:image/svg+xml,%3csvg%20role='img'%20viewBox='0%200%2024%2024'%20xmlns='http://www.w3.org/2000/svg'%3e%3ctitle%3eInstagram%3c/title%3e%3cpath%20d='M7.0301.084c-1.2768.0602-2.1487.264-2.911.5634-.7888.3075-1.4575.72-2.1228%201.3877-.6652.6677-1.075%201.3368-1.3802%202.127-.2954.7638-.4956%201.6365-.552%202.914-.0564%201.2775-.0689%201.6882-.0626%204.947.0062%203.2586.0206%203.6671.0825%204.9473.061%201.2765.264%202.1482.5635%202.9107.308.7889.72%201.4573%201.388%202.1228.6679.6655%201.3365%201.0743%202.1285%201.38.7632.295%201.6361.4961%202.9134.552%201.2773.056%201.6884.069%204.9462.0627%203.2578-.0062%203.668-.0207%204.9478-.0814%201.28-.0607%202.147-.2652%202.9098-.5633.7889-.3086%201.4578-.72%202.1228-1.3881.665-.6682%201.0745-1.3378%201.3795-2.1284.2957-.7632.4966-1.636.552-2.9124.056-1.2809.0692-1.6898.063-4.948-.0063-3.2583-.021-3.6668-.0817-4.9465-.0607-1.2797-.264-2.1487-.5633-2.9117-.3084-.7889-.72-1.4568-1.3876-2.1228C21.2982%201.33%2020.628.9208%2019.8378.6165%2019.074.321%2018.2017.1197%2016.9244.0645%2015.6471.0093%2015.236-.005%2011.977.0014%208.718.0076%208.31.0215%207.0301.0839m.1402%2021.6932c-1.17-.0509-1.8053-.2453-2.2287-.408-.5606-.216-.96-.4771-1.3819-.895-.422-.4178-.6811-.8186-.9-1.378-.1644-.4234-.3624-1.058-.4171-2.228-.0595-1.2645-.072-1.6442-.079-4.848-.007-3.2037.0053-3.583.0607-4.848.05-1.169.2456-1.805.408-2.2282.216-.5613.4762-.96.895-1.3816.4188-.4217.8184-.6814%201.3783-.9003.423-.1651%201.0575-.3614%202.227-.4171%201.2655-.06%201.6447-.072%204.848-.079%203.2033-.007%203.5835.005%204.8495.0608%201.169.0508%201.8053.2445%202.228.408.5608.216.96.4754%201.3816.895.4217.4194.6816.8176.9005%201.3787.1653.4217.3617%201.056.4169%202.2263.0602%201.2655.0739%201.645.0796%204.848.0058%203.203-.0055%203.5834-.061%204.848-.051%201.17-.245%201.8055-.408%202.2294-.216.5604-.4763.96-.8954%201.3814-.419.4215-.8181.6811-1.3783.9-.4224.1649-1.0577.3617-2.2262.4174-1.2656.0595-1.6448.072-4.8493.079-3.2045.007-3.5825-.006-4.848-.0608M16.953%205.5864A1.44%201.44%200%201%200%2018.39%204.144a1.44%201.44%200%200%200-1.437%201.4424M5.8385%2012.012c.0067%203.4032%202.7706%206.1557%206.173%206.1493%203.4026-.0065%206.157-2.7701%206.1506-6.1733-.0065-3.4032-2.771-6.1565-6.174-6.1498-3.403.0067-6.156%202.771-6.1496%206.1738M8%2012.0077a4%204%200%201%201%204.008%203.9921A3.9996%203.9996%200%200%201%208%2012.0077'/%3e%3c/svg%3e",o1="data:image/svg+xml,%3csvg%20role='img'%20viewBox='0%200%2024%2024'%20xmlns='http://www.w3.org/2000/svg'%3e%3ctitle%3eGitHub%3c/title%3e%3cpath%20d='M12%20.297c-6.63%200-12%205.373-12%2012%200%205.303%203.438%209.8%208.205%2011.385.6.113.82-.258.82-.577%200-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422%2018.07%203.633%2017.7%203.633%2017.7c-1.087-.744.084-.729.084-.729%201.205.084%201.838%201.236%201.838%201.236%201.07%201.835%202.809%201.305%203.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93%200-1.31.465-2.38%201.235-3.22-.135-.303-.54-1.523.105-3.176%200%200%201.005-.322%203.3%201.23.96-.267%201.98-.399%203-.405%201.02.006%202.04.138%203%20.405%202.28-1.552%203.285-1.23%203.285-1.23.645%201.653.24%202.873.12%203.176.765.84%201.23%201.91%201.23%203.22%200%204.61-2.805%205.625-5.475%205.92.42.36.81%201.096.81%202.22%200%201.606-.015%202.896-.015%203.286%200%20.315.21.69.825.57C20.565%2022.092%2024%2017.592%2024%2012.297c0-6.627-5.373-12-12-12'/%3e%3c/svg%3e",s1="data:image/svg+xml,%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Transformed%20by:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20height='800px'%20width='800px'%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%20382%20382'%20xml:space='preserve'%20fill='%23000000'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'/%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3cpath%20style='fill:ffffff;'%20d='M347.445,0H34.555C15.471,0,0,15.471,0,34.555v312.889C0,366.529,15.471,382,34.555,382h312.889%20C366.529,382,382,366.529,382,347.444V34.555C382,15.471,366.529,0,347.445,0z%20M118.207,329.844c0,5.554-4.502,10.056-10.056,10.056%20H65.345c-5.554,0-10.056-4.502-10.056-10.056V150.403c0-5.554,4.502-10.056,10.056-10.056h42.806%20c5.554,0,10.056,4.502,10.056,10.056V329.844z%20M86.748,123.432c-22.459,0-40.666-18.207-40.666-40.666S64.289,42.1,86.748,42.1%20s40.666,18.207,40.666,40.666S109.208,123.432,86.748,123.432z%20M341.91,330.654c0,5.106-4.14,9.246-9.246,9.246H286.73%20c-5.106,0-9.246-4.14-9.246-9.246v-84.168c0-12.556,3.683-55.021-32.813-55.021c-28.309,0-34.051,29.066-35.204,42.11v97.079%20c0,5.106-4.139,9.246-9.246,9.246h-44.426c-5.106,0-9.246-4.14-9.246-9.246V149.593c0-5.106,4.14-9.246,9.246-9.246h44.426%20c5.106,0,9.246,4.14,9.246,9.246v15.655c10.497-15.753,26.097-27.912,59.312-27.912c73.552,0,73.131,68.716,73.131,106.472%20L341.91,330.654L341.91,330.654z'/%3e%3c/g%3e%3c/svg%3e";var pu=Bd();const l1=su(pu);function cr(o,r,{checkForDefaultPrevented:i=!0}={}){return function(l){if(o==null||o(l),i===!1||!l.defaultPrevented)return r==null?void 0:r(l)}}function hh(...o){return r=>o.forEach((i=>(function(l,a){typeof l=="function"?l(a):l!=null&&(l.current=a)})(i,r)))}function Rr(...o){return w.useCallback(hh(...o),o)}function a1(...o){const r=o[0];if(o.length===1)return r;const i=()=>{const l=o.map((a=>({useScope:a(),scopeName:a.scopeName})));return function(a){const f=l.reduce(((h,{useScope:d,scopeName:m})=>({...h,...d(a)[`__scope${m}`]})),{});return w.useMemo((()=>({[`__scope${r.scopeName}`]:f})),[f])}};return i.scopeName=r.scopeName,i}var tu=globalThis!=null&&globalThis.document?w.useLayoutEffect:()=>{};function ro(o){const r=w.useRef(o);return w.useEffect((()=>{r.current=o})),w.useMemo((()=>(...i)=>{var l;return(l=r.current)==null?void 0:l.call(r,...i)}),[])}var gu=w.forwardRef(((o,r)=>{const{children:i,...l}=o,a=w.Children.toArray(i),f=a.find(c1);if(f){const h=f.props.children,d=a.map((m=>m===f?w.Children.count(h)>1?w.Children.only(null):w.isValidElement(h)?h.props.children:null:m));return p.jsx(nu,{...l,ref:r,children:w.isValidElement(h)?w.cloneElement(h,void 0,d):null})}return p.jsx(nu,{...l,ref:r,children:i})}));gu.displayName="Slot";var nu=w.forwardRef(((o,r)=>{const{children:i,...l}=o;if(w.isValidElement(i)){const a=(function(f){var m,v;let h=(m=Object.getOwnPropertyDescriptor(f.props,"ref"))==null?void 0:m.get,d=h&&"isReactWarning"in h&&h.isReactWarning;return d?f.ref:(h=(v=Object.getOwnPropertyDescriptor(f,"ref"))==null?void 0:v.get,d=h&&"isReactWarning"in h&&h.isReactWarning,d?f.props.ref:f.props.ref||f.ref)})(i);return w.cloneElement(i,{...f1(l,i.props),ref:r?hh(r,a):a})}return w.Children.count(i)>1?w.Children.only(null):null}));nu.displayName="SlotClone";var u1=({children:o})=>p.jsx(p.Fragment,{children:o});function c1(o){return w.isValidElement(o)&&o.type===u1}function f1(o,r){const i={...r};for(const l in r){const a=o[l],f=r[l];/^on[A-Z]/.test(l)?a&&f?i[l]=(...h)=>{f(...h),a(...h)}:a&&(i[l]=a):l==="style"?i[l]={...a,...f}:l==="className"&&(i[l]=[a,f].filter(Boolean).join(" "))}return{...o,...i}}var Nn=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce(((o,r)=>{const i=w.forwardRef(((l,a)=>{const{asChild:f,...h}=l,d=f?gu:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),p.jsx(d,{...h,ref:a})}));return i.displayName=`Primitive.${r}`,{...o,[r]:i}}),{}),_d,ru="dismissableLayer.update",d1="dismissableLayer.pointerDownOutside",h1="dismissableLayer.focusOutside",ph=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),gh=w.forwardRef(((o,r)=>{const{disableOutsidePointerEvents:i=!1,onEscapeKeyDown:l,onPointerDownOutside:a,onFocusOutside:f,onInteractOutside:h,onDismiss:d,...m}=o,v=w.useContext(ph),[E,k]=w.useState(null),S=(E==null?void 0:E.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,T]=w.useState({}),_=Rr(r,(X=>k(X))),C=Array.from(v.layers),[j]=[...v.layersWithOutsidePointerEventsDisabled].slice(-1),F=C.indexOf(j),$=E?C.indexOf(E):-1,U=v.layersWithOutsidePointerEventsDisabled.size>0,V=$>=F,ce=(function(X,G=globalThis==null?void 0:globalThis.document){const Se=ro(X),pe=w.useRef(!1),Ce=w.useRef((()=>{}));return w.useEffect((()=>{const ke=Ie=>{if(Ie.target&&!pe.current){let Me=function(){Dd(d1,Se,Pe,{discrete:!0})};const Pe={originalEvent:Ie};Ie.pointerType==="touch"?(G.removeEventListener("click",Ce.current),Ce.current=Me,G.addEventListener("click",Ce.current,{once:!0})):Me()}else G.removeEventListener("click",Ce.current);pe.current=!1},Te=window.setTimeout((()=>{G.addEventListener("pointerdown",ke)}),0);return()=>{window.clearTimeout(Te),G.removeEventListener("pointerdown",ke),G.removeEventListener("click",Ce.current)}}),[G,Se]),{onPointerDownCapture:()=>pe.current=!0}})((X=>{const G=X.target,Se=[...v.branches].some((pe=>pe.contains(G)));V&&!Se&&(a==null||a(X),h==null||h(X),X.defaultPrevented||(d==null||d()))}),S),fe=(function(X,G=globalThis==null?void 0:globalThis.document){const Se=ro(X),pe=w.useRef(!1);return w.useEffect((()=>{const Ce=ke=>{ke.target&&!pe.current&&Dd(h1,Se,{originalEvent:ke},{discrete:!1})};return G.addEventListener("focusin",Ce),()=>G.removeEventListener("focusin",Ce)}),[G,Se]),{onFocusCapture:()=>pe.current=!0,onBlurCapture:()=>pe.current=!1}})((X=>{const G=X.target;[...v.branches].some((Se=>Se.contains(G)))||(f==null||f(X),h==null||h(X),X.defaultPrevented||(d==null||d()))}),S);return(function(X,G=globalThis==null?void 0:globalThis.document){const Se=ro(X);w.useEffect((()=>{const pe=Ce=>{Ce.key==="Escape"&&Se(Ce)};return G.addEventListener("keydown",pe,{capture:!0}),()=>G.removeEventListener("keydown",pe,{capture:!0})}),[Se,G])})((X=>{$===v.layers.size-1&&(l==null||l(X),!X.defaultPrevented&&d&&(X.preventDefault(),d()))}),S),w.useEffect((()=>{if(E)return i&&(v.layersWithOutsidePointerEventsDisabled.size===0&&(_d=S.body.style.pointerEvents,S.body.style.pointerEvents="none"),v.layersWithOutsidePointerEventsDisabled.add(E)),v.layers.add(E),Od(),()=>{i&&v.layersWithOutsidePointerEventsDisabled.size===1&&(S.body.style.pointerEvents=_d)}}),[E,S,i,v]),w.useEffect((()=>()=>{E&&(v.layers.delete(E),v.layersWithOutsidePointerEventsDisabled.delete(E),Od())}),[E,v]),w.useEffect((()=>{const X=()=>T({});return document.addEventListener(ru,X),()=>document.removeEventListener(ru,X)}),[]),p.jsx(Nn.div,{...m,ref:_,style:{pointerEvents:U?V?"auto":"none":void 0,...o.style},onFocusCapture:cr(o.onFocusCapture,fe.onFocusCapture),onBlurCapture:cr(o.onBlurCapture,fe.onBlurCapture),onPointerDownCapture:cr(o.onPointerDownCapture,ce.onPointerDownCapture)})}));gh.displayName="DismissableLayer";function Od(){const o=new CustomEvent(ru);document.dispatchEvent(o)}function Dd(o,r,i,{discrete:l}){const a=i.originalEvent.target,f=new CustomEvent(o,{bubbles:!1,cancelable:!0,detail:i});r&&a.addEventListener(o,r,{once:!0}),l?(function(h,d){h&&pu.flushSync((()=>h.dispatchEvent(d)))})(a,f):a.dispatchEvent(f)}w.forwardRef(((o,r)=>{const i=w.useContext(ph),l=w.useRef(null),a=Rr(r,l);return w.useEffect((()=>{const f=l.current;if(f)return i.branches.add(f),()=>{i.branches.delete(f)}}),[i.branches]),p.jsx(Nn.div,{...o,ref:a})})).displayName="DismissableLayerBranch";var Ba="focusScope.autoFocusOnMount",Wa="focusScope.autoFocusOnUnmount",Td={bubbles:!1,cancelable:!0},mh=w.forwardRef(((o,r)=>{const{loop:i=!1,trapped:l=!1,onMountAutoFocus:a,onUnmountAutoFocus:f,...h}=o,[d,m]=w.useState(null),v=ro(a),E=ro(f),k=w.useRef(null),S=Rr(r,(C=>m(C))),T=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect((()=>{if(l){let C=function(U){if(T.paused||!d)return;const V=U.target;d.contains(V)?k.current=V:sr(k.current,{select:!0})},j=function(U){if(T.paused||!d)return;const V=U.relatedTarget;V!==null&&(d.contains(V)||sr(k.current,{select:!0}))},F=function(U){if(document.activeElement===document.body)for(const V of U)V.removedNodes.length>0&&sr(d)};document.addEventListener("focusin",C),document.addEventListener("focusout",j);const $=new MutationObserver(F);return d&&$.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",C),document.removeEventListener("focusout",j),$.disconnect()}}}),[l,d,T.paused]),w.useEffect((()=>{if(d){Pd.add(T);const j=document.activeElement;if(!d.contains(j)){const F=new CustomEvent(Ba,Td);d.addEventListener(Ba,v),d.dispatchEvent(F),F.defaultPrevented||((function($,{select:U=!1}={}){const V=document.activeElement;for(const ce of $)if(sr(ce,{select:U}),document.activeElement!==V)return})((C=Nd(d),C.filter(($=>$.tagName!=="A"))),{select:!0}),document.activeElement===j&&sr(d))}return()=>{d.removeEventListener(Ba,v),setTimeout((()=>{const F=new CustomEvent(Wa,Td);d.addEventListener(Wa,E),d.dispatchEvent(F),F.defaultPrevented||sr(j??document.body,{select:!0}),d.removeEventListener(Wa,E),Pd.remove(T)}),0)}}var C}),[d,v,E,T]);const _=w.useCallback((C=>{if(!i&&!l||T.paused)return;const j=C.key==="Tab"&&!C.altKey&&!C.ctrlKey&&!C.metaKey,F=document.activeElement;if(j&&F){const $=C.currentTarget,[U,V]=(function(ce){const fe=Nd(ce),X=jd(fe,ce),G=jd(fe.reverse(),ce);return[X,G]})($);U&&V?C.shiftKey||F!==V?C.shiftKey&&F===U&&(C.preventDefault(),i&&sr(V,{select:!0})):(C.preventDefault(),i&&sr(U,{select:!0})):F===$&&C.preventDefault()}}),[i,l,T.paused]);return p.jsx(Nn.div,{tabIndex:-1,...h,ref:S,onKeyDown:_})}));function Nd(o){const r=[],i=document.createTreeWalker(o,NodeFilter.SHOW_ELEMENT,{acceptNode:l=>{const a=l.tagName==="INPUT"&&l.type==="hidden";return l.disabled||l.hidden||a?NodeFilter.FILTER_SKIP:l.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;i.nextNode();)r.push(i.currentNode);return r}function jd(o,r){for(const i of o)if(!p1(i,{upTo:r}))return i}function p1(o,{upTo:r}){if(getComputedStyle(o).visibility==="hidden")return!0;for(;o;){if(r!==void 0&&o===r)return!1;if(getComputedStyle(o).display==="none")return!0;o=o.parentElement}return!1}function sr(o,{select:r=!1}={}){if(o&&o.focus){const i=document.activeElement;o.focus({preventScroll:!0}),o!==i&&(function(l){return l instanceof HTMLInputElement&&"select"in l})(o)&&r&&o.select()}}mh.displayName="FocusScope";var Pd=(function(){let o=[];return{add(r){const i=o[0];r!==i&&(i==null||i.pause()),o=bd(o,r),o.unshift(r)},remove(r){var i;o=bd(o,r),(i=o[0])==null||i.resume()}}})();function bd(o,r){const i=[...o],l=i.indexOf(r);return l!==-1&&i.splice(l,1),i}var g1=w.forwardRef(((o,r)=>{var d;const{container:i,...l}=o,[a,f]=w.useState(!1);tu((()=>f(!0)),[]);const h=i||a&&((d=globalThis==null?void 0:globalThis.document)==null?void 0:d.body);return h?l1.createPortal(p.jsx(Nn.div,{...l,ref:r}),h):null}));g1.displayName="Portal";var mu=o=>{const{present:r,children:i}=o,l=(function(h){const[d,m]=w.useState(),v=w.useRef({}),E=w.useRef(h),k=w.useRef("none"),S=h?"mounted":"unmounted",[T,_]=(function(C,j){return w.useReducer(((F,$)=>j[F][$]??F),C)})(S,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect((()=>{const C=Cs(v.current);k.current=T==="mounted"?C:"none"}),[T]),tu((()=>{const C=v.current,j=E.current;if(j!==h){const F=k.current,$=Cs(C);h?_("MOUNT"):$==="none"||(C==null?void 0:C.display)==="none"?_("UNMOUNT"):_(j&&F!==$?"ANIMATION_OUT":"UNMOUNT"),E.current=h}}),[h,_]),tu((()=>{if(d){const C=F=>{const $=Cs(v.current).includes(F.animationName);F.target===d&&$&&pu.flushSync((()=>_("ANIMATION_END")))},j=F=>{F.target===d&&(k.current=Cs(v.current))};return d.addEventListener("animationstart",j),d.addEventListener("animationcancel",C),d.addEventListener("animationend",C),()=>{d.removeEventListener("animationstart",j),d.removeEventListener("animationcancel",C),d.removeEventListener("animationend",C)}}_("ANIMATION_END")}),[d,_]),{isPresent:["mounted","unmountSuspended"].includes(T),ref:w.useCallback((C=>{C&&(v.current=getComputedStyle(C)),m(C)}),[])}})(r),a=typeof i=="function"?i({present:l.isPresent}):w.Children.only(i),f=Rr(l.ref,(function(h){var v,E;let d=(v=Object.getOwnPropertyDescriptor(h.props,"ref"))==null?void 0:v.get,m=d&&"isReactWarning"in d&&d.isReactWarning;return m?h.ref:(d=(E=Object.getOwnPropertyDescriptor(h,"ref"))==null?void 0:E.get,m=d&&"isReactWarning"in d&&d.isReactWarning,m?h.props.ref:h.props.ref||h.ref)})(a));return typeof i=="function"||l.isPresent?w.cloneElement(a,{ref:f}):null};function Cs(o){return(o==null?void 0:o.animationName)||"none"}mu.displayName="Presence";var Ha=0;function Ld(){const o=document.createElement("span");return o.setAttribute("data-radix-focus-guard",""),o.tabIndex=0,o.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",o}var ar=function(){return ar=Object.assign||function(o){for(var r,i=1,l=arguments.length;i<l;i++)for(var a in r=arguments[i])Object.prototype.hasOwnProperty.call(r,a)&&(o[a]=r[a]);return o},ar.apply(this,arguments)};var js="right-scroll-bar-position",Ps="width-before-scroll-bar";function m1(o,r){return i=null,l=function(f){return o.forEach((function(h){return(function(d,m){return typeof d=="function"?d(m):d&&(d.current=m),d})(h,f)}))},(a=w.useState((function(){return{value:i,callback:l,facade:{get current(){return a.value},set current(f){var h=a.value;h!==f&&(a.value=f,a.callback(f,h))}}}}))[0]).callback=l,a.facade;var i,l,a}var Ls=function(){return Ls=Object.assign||function(o){for(var r,i=1,l=arguments.length;i<l;i++)for(var a in r=arguments[i])Object.prototype.hasOwnProperty.call(r,a)&&(o[a]=r[a]);return o},Ls.apply(this,arguments)};function v1(o){return o}var vh=function(o){var r=o.sideCar,i=(function(a,f){var h={};for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&f.indexOf(d)<0&&(h[d]=a[d]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function"){var m=0;for(d=Object.getOwnPropertySymbols(a);m<d.length;m++)f.indexOf(d[m])<0&&Object.prototype.propertyIsEnumerable.call(a,d[m])&&(h[d[m]]=a[d[m]])}return h})(o,["sideCar"]);if(!r)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var l=r.read();if(!l)throw new Error("Sidecar medium not found");return w.createElement(l,Ls({},i))};vh.isSideCarExport=!0;var yh=(function(o){o===void 0&&(o={});var r=(function(i,l){l===void 0&&(l=v1);var a=[],f=!1;return{read:function(){if(f)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return a.length?a[a.length-1]:i},useMedium:function(h){var d=l(h,f);return a.push(d),function(){a=a.filter((function(m){return m!==d}))}},assignSyncMedium:function(h){for(f=!0;a.length;){var d=a;a=[],d.forEach(h)}a={push:function(m){return h(m)},filter:function(){return a}}},assignMedium:function(h){f=!0;var d=[];if(a.length){var m=a;a=[],m.forEach(h),d=a}var v=function(){var k=d;d=[],k.forEach(h)},E=function(){return Promise.resolve().then(v)};E(),a={push:function(k){d.push(k),E()},filter:function(k){return d=d.filter(k),a}}}}})(null);return r.options=Ls({async:!0,ssr:!1},o),r})(),Va=function(){},Ms=w.forwardRef((function(o,r){var i=w.useRef(null),l=w.useState({onScrollCapture:Va,onWheelCapture:Va,onTouchMoveCapture:Va}),a=l[0],f=l[1],h=o.forwardProps,d=o.children,m=o.className,v=o.removeScrollBar,E=o.enabled,k=o.shards,S=o.sideCar,T=o.noIsolation,_=o.inert,C=o.allowPinchZoom,j=o.as,F=j===void 0?"div":j,$=o.gapMode,U=(function(X,G){var Se={};for(var pe in X)Object.prototype.hasOwnProperty.call(X,pe)&&G.indexOf(pe)<0&&(Se[pe]=X[pe]);if(X!=null&&typeof Object.getOwnPropertySymbols=="function"){var Ce=0;for(pe=Object.getOwnPropertySymbols(X);Ce<pe.length;Ce++)G.indexOf(pe[Ce])<0&&Object.prototype.propertyIsEnumerable.call(X,pe[Ce])&&(Se[pe[Ce]]=X[pe[Ce]])}return Se})(o,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),V=S,ce=m1([i,r]),fe=ar(ar({},U),a);return w.createElement(w.Fragment,null,E&&w.createElement(V,{sideCar:yh,removeScrollBar:v,shards:k,noIsolation:T,inert:_,setCallbacks:f,allowPinchZoom:!!C,lockRef:i,gapMode:$}),h?w.cloneElement(w.Children.only(d),ar(ar({},fe),{ref:ce})):w.createElement(F,ar({},fe,{className:m,ref:ce}),d))}));Ms.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},Ms.classNames={fullWidth:Ps,zeroRight:js};function y1(){if(!document)return null;var o=document.createElement("style");o.type="text/css";var r=(function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__})();return r&&o.setAttribute("nonce",r),o}var w1=function(){var o=0,r=null;return{add:function(i){var l,a;o==0&&(r=y1())&&(a=i,(l=r).styleSheet?l.styleSheet.cssText=a:l.appendChild(document.createTextNode(a)),(function(f){(document.head||document.getElementsByTagName("head")[0]).appendChild(f)})(r)),o++},remove:function(){!--o&&r&&(r.parentNode&&r.parentNode.removeChild(r),r=null)}}},wh=function(){var o,r=(o=w1(),function(i,l){w.useEffect((function(){return o.add(i),function(){o.remove()}}),[i&&l])});return function(i){var l=i.styles,a=i.dynamic;return r(l,a),null}},S1={left:0,top:0,right:0,gap:0},Ka=function(o){return parseInt(o||"",10)||0},C1=function(o){if(o===void 0&&(o="margin"),typeof window>"u")return S1;var r=(function(a){var f=window.getComputedStyle(document.body),h=f[a==="padding"?"paddingLeft":"marginLeft"],d=f[a==="padding"?"paddingTop":"marginTop"],m=f[a==="padding"?"paddingRight":"marginRight"];return[Ka(h),Ka(d),Ka(m)]})(o),i=document.documentElement.clientWidth,l=window.innerWidth;return{left:r[0],top:r[1],right:r[2],gap:Math.max(0,l-i+r[2]-r[0])}},E1=wh(),x1=function(o,r,i,l){var a=o.left,f=o.top,h=o.right,d=o.gap;return i===void 0&&(i="margin"),`
  .`.concat("with-scroll-bars-hidden",` {
   overflow: hidden `).concat(l,`;
   padding-right: `).concat(d,"px ").concat(l,`;
  }
  body {
    overflow: hidden `).concat(l,`;
    overscroll-behavior: contain;
    `).concat([r&&"position: relative ".concat(l,";"),i==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(f,`px;
    padding-right: `).concat(h,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(l,`;
    `),i==="padding"&&"padding-right: ".concat(d,"px ").concat(l,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(js,` {
    right: `).concat(d,"px ").concat(l,`;
  }
  
  .`).concat(Ps,` {
    margin-right: `).concat(d,"px ").concat(l,`;
  }
  
  .`).concat(js," .").concat(js,` {
    right: 0 `).concat(l,`;
  }
  
  .`).concat(Ps," .").concat(Ps,` {
    margin-right: 0 `).concat(l,`;
  }
  
  body {
    `).concat("--removed-body-scroll-bar-size",": ").concat(d,`px;
  }
`)},k1=function(o){var r=o.noRelative,i=o.noImportant,l=o.gapMode,a=l===void 0?"margin":l,f=w.useMemo((function(){return C1(a)}),[a]);return w.createElement(E1,{styles:x1(f,!r,a,i?"":"!important")})},iu=!1;if(typeof window<"u")try{var Es=Object.defineProperty({},"passive",{get:function(){return iu=!0,!0}});window.addEventListener("test",Es,Es),window.removeEventListener("test",Es,Es)}catch{iu=!1}var ui=!!iu&&{passive:!1},Md=function(o,r){var i=window.getComputedStyle(o);return i[r]!=="hidden"&&!(i.overflowY===i.overflowX&&!(function(l){return l.tagName==="TEXTAREA"})(o)&&i[r]==="visible")},Id=function(o,r){var i=r.ownerDocument,l=r;do{if(typeof ShadowRoot<"u"&&l instanceof ShadowRoot&&(l=l.host),Sh(o,l)){var a=Ch(o,l);if(a[1]>a[2])return!0}l=l.parentNode}while(l&&l!==i.body);return!1},Sh=function(o,r){return o==="v"?(function(i){return Md(i,"overflowY")})(r):(function(i){return Md(i,"overflowX")})(r)},Ch=function(o,r){return o==="v"?[(i=r).scrollTop,i.scrollHeight,i.clientHeight]:(function(l){return[l.scrollLeft,l.scrollWidth,l.clientWidth]})(r);var i},xs=function(o){return"changedTouches"in o?[o.changedTouches[0].clientX,o.changedTouches[0].clientY]:[0,0]},Rd=function(o){return[o.deltaX,o.deltaY]},Ad=function(o){return o&&"current"in o?o.current:o},_1=function(o){return`
  .block-interactivity-`.concat(o,` {pointer-events: none;}
  .allow-interactivity-`).concat(o,` {pointer-events: all;}
`)},O1=0,ci=[];function D1(o){for(var r=null;o!==null;)o instanceof ShadowRoot&&(r=o.host,o=o.host),o=o.parentNode;return r}var Fd,T1=(Fd=function(o){var r=w.useRef([]),i=w.useRef([0,0]),l=w.useRef(),a=w.useState(O1++)[0],f=w.useState(wh)[0],h=w.useRef(o);w.useEffect((function(){h.current=o}),[o]),w.useEffect((function(){if(o.inert){document.body.classList.add("block-interactivity-".concat(a));var C=(function(j,F,$){for(var U,V=0,ce=F.length;V<ce;V++)!U&&V in F||(U||(U=Array.prototype.slice.call(F,0,V)),U[V]=F[V]);return j.concat(U||Array.prototype.slice.call(F))})([o.lockRef.current],(o.shards||[]).map(Ad)).filter(Boolean);return C.forEach((function(j){return j.classList.add("allow-interactivity-".concat(a))})),function(){document.body.classList.remove("block-interactivity-".concat(a)),C.forEach((function(j){return j.classList.remove("allow-interactivity-".concat(a))}))}}}),[o.inert,o.lockRef.current,o.shards]);var d=w.useCallback((function(C,j){if("touches"in C&&C.touches.length===2)return!h.current.allowPinchZoom;var F,$=xs(C),U=i.current,V="deltaX"in C?C.deltaX:U[0]-$[0],ce="deltaY"in C?C.deltaY:U[1]-$[1],fe=C.target,X=Math.abs(V)>Math.abs(ce)?"h":"v";if("touches"in C&&X==="h"&&fe.type==="range")return!1;var G=Id(X,fe);if(!G)return!0;if(G?F=X:(F=X==="v"?"h":"v",G=Id(X,fe)),!G)return!1;if(!l.current&&"changedTouches"in C&&(V||ce)&&(l.current=F),!F)return!0;var Se=l.current||F;return(function(pe,Ce,ke,Te,Ie){var Me=(function(me,Y){return me==="h"&&Y==="rtl"?-1:1})(pe,window.getComputedStyle(Ce).direction),Pe=Me*Te,ge=ke.target,q=Ce.contains(ge),ie=!1,Q=Pe>0,D=0,I=0;do{var te=Ch(pe,ge),oe=te[0],ae=te[1]-te[2]-Me*oe;(oe||ae)&&Sh(pe,ge)&&(D+=ae,I+=oe),ge=ge instanceof ShadowRoot?ge.host:ge.parentNode}while(!q&&ge!==document.body||q&&(Ce.contains(ge)||Ce===ge));return(Q&&Math.abs(D)<1||!Q&&Math.abs(I)<1)&&(ie=!0),ie})(Se,j,C,Se==="h"?V:ce)}),[]),m=w.useCallback((function(C){var j=C;if(ci.length&&ci[ci.length-1]===f){var F="deltaY"in j?Rd(j):xs(j),$=r.current.filter((function(V){return V.name===j.type&&(V.target===j.target||j.target===V.shadowParent)&&(ce=V.delta,fe=F,ce[0]===fe[0]&&ce[1]===fe[1]);var ce,fe}))[0];if($&&$.should)j.cancelable&&j.preventDefault();else if(!$){var U=(h.current.shards||[]).map(Ad).filter(Boolean).filter((function(V){return V.contains(j.target)}));(U.length>0?d(j,U[0]):!h.current.noIsolation)&&j.cancelable&&j.preventDefault()}}}),[]),v=w.useCallback((function(C,j,F,$){var U={name:C,delta:j,target:F,should:$,shadowParent:D1(F)};r.current.push(U),setTimeout((function(){r.current=r.current.filter((function(V){return V!==U}))}),1)}),[]),E=w.useCallback((function(C){i.current=xs(C),l.current=void 0}),[]),k=w.useCallback((function(C){v(C.type,Rd(C),C.target,d(C,o.lockRef.current))}),[]),S=w.useCallback((function(C){v(C.type,xs(C),C.target,d(C,o.lockRef.current))}),[]);w.useEffect((function(){return ci.push(f),o.setCallbacks({onScrollCapture:k,onWheelCapture:k,onTouchMoveCapture:S}),document.addEventListener("wheel",m,ui),document.addEventListener("touchmove",m,ui),document.addEventListener("touchstart",E,ui),function(){ci=ci.filter((function(C){return C!==f})),document.removeEventListener("wheel",m,ui),document.removeEventListener("touchmove",m,ui),document.removeEventListener("touchstart",E,ui)}}),[]);var T=o.removeScrollBar,_=o.inert;return w.createElement(w.Fragment,null,_?w.createElement(f,{styles:_1(a)}):null,T?w.createElement(k1,{gapMode:o.gapMode}):null)},yh.useMedium(Fd),vh),Eh=w.forwardRef((function(o,r){return w.createElement(Ms,ar({},o,{ref:r,sideCar:T1}))}));Eh.classNames=Ms.classNames;var N1=Eh,fi=new WeakMap,ks=new WeakMap,_s={},$d=0,j1=function(o,r,i){r===void 0&&(r=(function(v){return typeof document>"u"?null:(Array.isArray(v)?v[0]:v).ownerDocument.body})(o)),i===void 0&&(i="data-aria-hidden");var l=Array.isArray(o)?o:[o];_s[i]||(_s[i]=new WeakMap);var a=_s[i],f=[],h=new Set,d=function(v){v&&!h.has(v)&&(h.add(v),d(v.parentNode))};l.forEach(d);var m=function(v){!v||l.indexOf(v)>=0||Array.prototype.forEach.call(v.children,(function(E){if(h.has(E))m(E);else{var k=E.getAttribute("aria-hidden"),S=k!==null&&k!=="false",T=(fi.get(E)||0)+1,_=(a.get(E)||0)+1;fi.set(E,T),a.set(E,_),f.push(E),T===1&&S&&ks.set(E,!0),_===1&&E.setAttribute(i,"true"),S||E.setAttribute("aria-hidden","true")}}))};return m(r),h.clear(),$d++,function(){f.forEach((function(v){var E=fi.get(v)-1,k=a.get(v)-1;fi.set(v,E),a.set(v,k),E||(ks.has(v)||v.removeAttribute("aria-hidden"),ks.delete(v)),k||v.removeAttribute(i)})),--$d||(fi=new WeakMap,fi=new WeakMap,ks=new WeakMap,_s={})}},xh="Dialog",[kh]=(function(o,r=[]){let i=[];const l=()=>{const a=i.map((f=>w.createContext(f)));return function(f){const h=(f==null?void 0:f[o])||a;return w.useMemo((()=>({[`__scope${o}`]:{...f,[o]:h}})),[f,h])}};return l.scopeName=o,[function(a,f){const h=w.createContext(f),d=i.length;function m(v){const{scope:E,children:k,...S}=v,T=(E==null?void 0:E[o][d])||h,_=w.useMemo((()=>S),Object.values(S));return p.jsx(T.Provider,{value:_,children:k})}return i=[...i,f],m.displayName=a+"Provider",[m,function(v,E){const k=(E==null?void 0:E[o][d])||h,S=w.useContext(k);if(S)return S;if(f!==void 0)return f;throw new Error(`\`${v}\` must be used within \`${a}\``)}]},a1(l,...r)]})(xh),[G1,un]=kh(xh),_h="DialogTrigger",P1=w.forwardRef(((o,r)=>{const{__scopeDialog:i,...l}=o,a=un(_h,i),f=Rr(r,a.triggerRef);return p.jsx(Nn.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":vu(a.open),...l,ref:f,onClick:cr(o.onClick,a.onOpenToggle)})}));P1.displayName=_h;var b1="DialogPortal",[Y1,Oh]=kh(b1,{forceMount:void 0}),Is="DialogOverlay",L1=w.forwardRef(((o,r)=>{const i=Oh(Is,o.__scopeDialog),{forceMount:l=i.forceMount,...a}=o,f=un(Is,o.__scopeDialog);return f.modal?p.jsx(mu,{present:l||f.open,children:p.jsx(M1,{...a,ref:r})}):null}));L1.displayName=Is;var M1=w.forwardRef(((o,r)=>{const{__scopeDialog:i,...l}=o,a=un(Is,i);return p.jsx(N1,{as:gu,allowPinchZoom:!0,shards:[a.contentRef],children:p.jsx(Nn.div,{"data-state":vu(a.open),...l,ref:r,style:{pointerEvents:"auto",...l.style}})})})),Mr="DialogContent",I1=w.forwardRef(((o,r)=>{const i=Oh(Mr,o.__scopeDialog),{forceMount:l=i.forceMount,...a}=o,f=un(Mr,o.__scopeDialog);return p.jsx(mu,{present:l||f.open,children:f.modal?p.jsx(R1,{...a,ref:r}):p.jsx(A1,{...a,ref:r})})}));I1.displayName=Mr;var R1=w.forwardRef(((o,r)=>{const i=un(Mr,o.__scopeDialog),l=w.useRef(null),a=Rr(r,i.contentRef,l);return w.useEffect((()=>{const f=l.current;if(f)return j1(f)}),[]),p.jsx(Dh,{...o,ref:a,trapFocus:i.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:cr(o.onCloseAutoFocus,(f=>{var h;f.preventDefault(),(h=i.triggerRef.current)==null||h.focus()})),onPointerDownOutside:cr(o.onPointerDownOutside,(f=>{const h=f.detail.originalEvent,d=h.button===0&&h.ctrlKey===!0;(h.button===2||d)&&f.preventDefault()})),onFocusOutside:cr(o.onFocusOutside,(f=>f.preventDefault()))})})),A1=w.forwardRef(((o,r)=>{const i=un(Mr,o.__scopeDialog),l=w.useRef(!1),a=w.useRef(!1);return p.jsx(Dh,{...o,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:f=>{var h,d;(h=o.onCloseAutoFocus)==null||h.call(o,f),f.defaultPrevented||(l.current||((d=i.triggerRef.current)==null||d.focus()),f.preventDefault()),l.current=!1,a.current=!1},onInteractOutside:f=>{var m,v;(m=o.onInteractOutside)==null||m.call(o,f),f.defaultPrevented||(l.current=!0,f.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const h=f.target;((v=i.triggerRef.current)==null?void 0:v.contains(h))&&f.preventDefault(),f.detail.originalEvent.type==="focusin"&&a.current&&f.preventDefault()}})})),Dh=w.forwardRef(((o,r)=>{const{__scopeDialog:i,trapFocus:l,onOpenAutoFocus:a,onCloseAutoFocus:f,...h}=o,d=un(Mr,i),m=w.useRef(null),v=Rr(r,m);return w.useEffect((()=>{const E=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",E[0]??Ld()),document.body.insertAdjacentElement("beforeend",E[1]??Ld()),Ha++,()=>{Ha===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach((k=>k.remove())),Ha--}}),[]),p.jsxs(p.Fragment,{children:[p.jsx(mh,{asChild:!0,loop:!0,trapped:l,onMountAutoFocus:a,onUnmountAutoFocus:f,children:p.jsx(gh,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":vu(d.open),...h,ref:v,onDismiss:()=>d.onOpenChange(!1)})}),p.jsxs(p.Fragment,{children:[p.jsx($1,{titleId:d.titleId}),p.jsx(z1,{contentRef:m,descriptionId:d.descriptionId})]})]})})),ou="DialogTitle";w.forwardRef(((o,r)=>{const{__scopeDialog:i,...l}=o,a=un(ou,i);return p.jsx(Nn.h2,{id:a.titleId,...l,ref:r})})).displayName=ou;var zd="DialogDescription";w.forwardRef(((o,r)=>{const{__scopeDialog:i,...l}=o,a=un(zd,i);return p.jsx(Nn.p,{id:a.descriptionId,...l,ref:r})})).displayName=zd;var Th="DialogClose",F1=w.forwardRef(((o,r)=>{const{__scopeDialog:i,...l}=o,a=un(Th,i);return p.jsx(Nn.button,{type:"button",...l,ref:r,onClick:cr(o.onClick,(()=>a.onOpenChange(!1)))})}));function vu(o){return o?"open":"closed"}F1.displayName=Th;var Nh="DialogTitleWarning",[X1,jh]=(function(o,r){const i=w.createContext(r);function l(a){const{children:f,...h}=a,d=w.useMemo((()=>h),Object.values(h));return p.jsx(i.Provider,{value:d,children:f})}return l.displayName=o+"Provider",[l,function(a){const f=w.useContext(i);if(f)return f;if(r!==void 0)return r;throw new Error(`\`${a}\` must be used within \`${o}\``)}]})(Nh,{contentName:Mr,titleName:ou,docsSlug:"dialog"}),$1=({titleId:o})=>{const r=jh(Nh),i=`\`${r.contentName}\` requires a \`${r.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${r.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${r.docsSlug}`;return w.useEffect((()=>{o&&(document.getElementById(o)||console.error(i))}),[i,o]),null},z1=({contentRef:o,descriptionId:r})=>{const i=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${jh("DialogDescriptionWarning").contentName}}.`;return w.useEffect((()=>{var a;const l=(a=o.current)==null?void 0:a.getAttribute("aria-describedby");r&&l&&(document.getElementById(r)||console.warn(i))}),[i,o,r]),null},U1=["color"];w.forwardRef((function(o,r){var i=o.color,l=i===void 0?"currentColor":i,a=(function(f,h){if(f==null)return{};var d,m,v={},E=Object.keys(f);for(m=0;m<E.length;m++)d=E[m],h.indexOf(d)>=0||(v[d]=f[d]);return v})(o,U1);return w.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a,{ref:r}),w.createElement("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:l,fillRule:"evenodd",clipRule:"evenodd"}))}));function B1({color:o="#00b4f7",id:r="prototypr",label:i="Support me on Ko-Fi",size:l="w-10 h-10",radius:a="12px"}){return di.createElement("div",{className:"flex  justify-start"},di.createElement("div",{class:"btn-container"},di.createElement("a",{title:i,className:(i?"kofi-button ":`rounded-full ${l||"w-10 h-10"} block flex justify-center`)+" rounded-full",style:{backgroundColor:o,borderRadius:a},href:"https://ko-fi.com/"+r,target:"_blank",rel:"noopener noreferrer"},di.createElement("span",{class:"kofitext"},di.createElement("img",{src:"https://ko-fi.com/img/cup-border.png",class:"kofiimg",alt:"Ko-Fi button"}),i||null))))}const W1=()=>p.jsx("footer",{className:"app-footer",children:p.jsxs("div",{className:"footer-container",children:[p.jsx("div",{className:"footer-left",children:p.jsx("div",{className:"kofi-container",children:p.jsx(B1,{color:"#f06f52",id:"H2H2OBC05",label:"Donate",radius:"12px"})})}),p.jsxs("div",{className:"footer-center",children:[p.jsx("div",{className:"footer-title",children:"Bob's Chess Coach"}),p.jsxs("div",{className:"footer-text",children:[" ",new Date().getFullYear()," - Roberto Vallado"]})]}),p.jsx("div",{className:"footer-right",children:p.jsxs("div",{className:"social-links",children:[p.jsx("a",{href:"https://www.instagram.com/vallado_rico",target:"_blank",rel:"noopener noreferrer","aria-label":"Instagram",children:p.jsx("img",{src:i1,alt:"Instagram"})}),p.jsx("a",{href:"https://github.com/RobertoVallado",target:"_blank",rel:"noopener noreferrer","aria-label":"GitHub",children:p.jsx("img",{src:o1,alt:"GitHub"})}),p.jsx("a",{href:"https://www.linkedin.com/in/roberto-vallado/",target:"_blank",rel:"noopener noreferrer","aria-label":"LinkedIn",children:p.jsx("img",{src:s1,alt:"LinkedIn"})})]})})]})});function H1(){const o=w.useRef(null),r=w.useRef("idle"),i=w.useRef(null),l=w.useRef(null),[a,f]=w.useState(!1),[h,d]=w.useState({score:null,bestMove:null,depth:0,pv:[],thinking:!1});w.useEffect(()=>{let k;try{k=new Worker("/stockfish.js")}catch(T){console.error("[Stockfish] Failed to create worker:",T);return}o.current=k;const S=T=>{if(!T){r.current="idle";return}i.current=null,T.type==="rival"?(r.current="rival",l.current=T.callback,k.postMessage(`setoption name Skill Level value ${T.skillLevel}`),k.postMessage(`position fen ${T.fen}`),k.postMessage(`go movetime ${T.movetime}`)):(r.current="analysis",d(_=>({..._,thinking:!0,depth:0,bestMove:null,pv:[]})),k.postMessage("setoption name Skill Level value 20"),k.postMessage(`position fen ${T.fen}`),k.postMessage("go depth 22"))};return k.onmessage=T=>{const _=typeof T.data=="string"?T.data:String(T.data);if(_==="uciok"){k.postMessage("setoption name MultiPV value 1"),k.postMessage("isready");return}if(_==="readyok"){f(!0);return}if(_.startsWith("info")&&_.includes("score")){if(r.current!=="analysis")return;const C=_.match(/depth (\d+)/),j=_.match(/score cp (-?\d+)/),F=_.match(/score mate (-?\d+)/),$=_.match(/ pv (.+)$/);if(!C)return;d(U=>({...U,thinking:!0,depth:parseInt(C[1]),score:j?parseInt(j[1]):F?{mate:parseInt(F[1])}:U.score,pv:$?$[1].trim().split(" "):U.pv}));return}if(_.startsWith("bestmove")){const C=_.match(/bestmove (\S+)/),j=C?C[1]:null,F=r.current;if(F==="stopping")S(i.current);else if(F==="rival"){const $=l.current;l.current=null,r.current="idle",i.current&&S(i.current),$==null||$(j)}else F==="analysis"&&(r.current="idle",d($=>({...$,thinking:!1,bestMove:j??$.bestMove})),i.current&&S(i.current))}},k.onerror=T=>console.error("[Stockfish] Worker error:",T),k.postMessage("uci"),()=>{k.postMessage("quit"),k.terminate()}},[]);const m=w.useCallback(k=>{var _;const S=o.current;if(!S||!a)return;const T=r.current;if(T==="idle")r.current="analysis",d(C=>({...C,thinking:!0,depth:0,bestMove:null,pv:[]})),S.postMessage("setoption name Skill Level value 20"),S.postMessage(`position fen ${k}`),S.postMessage("go depth 22");else if(T==="rival")i.current={type:"analysis",fen:k};else{if(T==="stopping"&&((_=i.current)==null?void 0:_.type)==="rival")return;i.current={type:"analysis",fen:k},T==="analysis"&&(r.current="stopping",S.postMessage("stop"))}},[a]),v=w.useCallback((k,S,T=20)=>{const _=o.current;if(!_||!a)return;const C=T<=2?300:T<=6?500:T<=12?800:T<=17?1200:1800;l.current=null;const j={type:"rival",fen:k,callback:S,skillLevel:T,movetime:C},F=r.current;F==="idle"?$(j,_):(i.current=j,F!=="stopping"&&(r.current="stopping",_.postMessage("stop")));function $(U,V){i.current=null,r.current="rival",l.current=U.callback,V.postMessage(`setoption name Skill Level value ${U.skillLevel}`),V.postMessage(`position fen ${U.fen}`),V.postMessage(`go movetime ${U.movetime}`)}},[a]),E=w.useCallback(()=>{var S;i.current=null,l.current=null;const k=r.current;(k==="analysis"||k==="rival")&&(r.current="stopping",(S=o.current)==null||S.postMessage("stop"))},[]);return{analysis:h,ready:a,analyze:m,playRivalMove:v,stop:E}}function V1(){const[o,r]=w.useState(()=>window.innerWidth<768?Math.min(window.innerWidth-24,Math.floor(window.innerHeight*.55)):Math.min(720,window.innerHeight-210));return w.useEffect(()=>{function i(){const l=window.innerWidth<768;r(l?Math.min(window.innerWidth-24,Math.floor(window.innerHeight*.55)):Math.min(720,window.innerHeight-210))}return window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)},[]),o}function Ud(o,r){if(!r||r==="(none)")return null;try{const l=new Dn(o).move({from:r.slice(0,2),to:r.slice(2,4),promotion:r[4]??"q"});return(l==null?void 0:l.san)??r}catch{return r}}function K1(){const o=V1(),[r,i]=w.useState(new Dn),[l,a]=w.useState([]),[f,h]=w.useState([]),[d,m]=w.useState(!1),[v,E]=w.useState("white"),[k,S]=w.useState(!1),[T,_]=w.useState("history"),[C,j]=w.useState(dh[0]),[F,$]=w.useState(!1),[U,V]=w.useState(null),[ce,fe]=w.useState(!1),X=w.useRef(!1),{analysis:G,ready:Se,analyze:pe,playRivalMove:Ce}=H1(),ke=600,Te=w.useCallback((I,te)=>{if(!I||I==="(none)"){$(!1);return}const oe=new Dn(te);let ae;try{ae=oe.move({from:I.slice(0,2),to:I.slice(2,4),promotion:I[4]??"q"})}catch{$(!1);return}if(!ae){$(!1);return}fe(!0),i(oe),a(me=>[...me,{san:ae.san,fen:oe.fen()}]),V({san:ae.san,from:ae.from,to:ae.to,piece:ae.piece,color:ae.color}),$(!1),X.current=!1,setTimeout(()=>fe(!1),ke+50)},[]);w.useEffect(()=>{if(!C||!Se||r.isGameOver())return;const I=v==="white"?"b":"w";if(r.turn()!==I||X.current)return;X.current=!0,$(!0);const te=r.fen();Ce(te,oe=>Te(oe,te),C.skill)},[r,C,v,Se,Ce,Te]),w.useEffect(()=>{if(!r.isGameOver()){if(C){const I=v==="white"?"b":"w";if(r.turn()===I)return}pe(r.fen())}},[r,pe,C,v]);const Ie=w.useCallback((I,te,oe)=>{if(F||((oe==null?void 0:oe[0])==="w"?"white":"black")!==v)return!1;const me=new Dn(r.fen());let Y=null;try{Y=me.move({from:I,to:te,promotion:"q"})}catch{return!1}if(!Y)return!1;i(me),a(Fe=>[...Fe,{san:Y.san,fen:me.fen()}]);const Ee=G.score===null||G.score===void 0?null:typeof G.score=="object"?G.score:G.score/100,De={fen:me.fen(),lastMove:Y.san,eval:Ee,bestMove:Ud(r.fen(),G.bestMove),playerColor:v,isRival:!1};return console.log("[analyze-api] payload:",De),h(Fe=>[...Fe,De]),V(null),!0},[r,F,v,G]);w.useEffect(()=>{U&&G.score},[U]);const Me=w.useCallback(({piece:I})=>(I[0]==="w"?"white":"black")===v,[v]),Pe=I=>{X.current=!1,E(I),j(null),i(new Dn),a([]),h([]),V(null),$(!1),S(!1)},ge=I=>{X.current=!1,j(I),V(null),$(!1),i(new Dn),a([]),h([])},q=r.isCheckmate()?`Checkmate  ${r.turn()==="w"?"Black":"White"} wins`:r.isDraw()?"Draw":F?"Stockfish is thinking":r.isCheck()?`${r.turn()==="w"?"White":"Black"} is in check`:`${r.turn()==="w"?"White":"Black"} to move`,ie=Ud(r.fen(),G.bestMove),Q=w.useMemo(()=>{if(C&&U)return{[U.from]:{backgroundColor:"rgba(255, 165, 60, 0.4)"},[U.to]:{backgroundColor:"rgba(255, 165, 60, 0.65)"}};if(!G.bestMove||G.bestMove==="(none)")return{};const I=G.bestMove.slice(0,2),te=G.bestMove.slice(2,4);return{[I]:{backgroundColor:"rgba(100, 220, 100, 0.45)"},[te]:{backgroundColor:"rgba(100, 220, 100, 0.65)"}}},[G.bestMove,C,U]),D=(()=>{const{score:I,depth:te,thinking:oe}=G;if(!Se)return"Engine loading";if(oe&&te===0)return"Analysing";if(I===null)return"";if(typeof I=="object")return`Mate in ${Math.abs(I.mate)}`;const ae=(I/100).toFixed(2);return I>0?`+${ae}`:`${ae}`})();return p.jsxs("div",{className:"app",children:[p.jsx(r1,{isLoggedIn:d,onToggleLogin:()=>m(I=>!I),onSettings:()=>alert("Settings coming soon")}),k&&p.jsx(Zv,{onSelect:Pe,onCancel:()=>S(!1)}),p.jsxs("div",{className:"main-content",children:[p.jsxs("div",{className:"board-panel",children:[p.jsxs("div",{className:"board-status",children:[p.jsx("span",{className:`status-text ${F?"status-thinking":""}`,children:q}),p.jsx("button",{className:"reset-btn",onClick:()=>S(!0),children:"New Game"})]}),p.jsxs("div",{className:"board-with-eval",children:[p.jsx(Vv,{score:G.score,height:o}),p.jsx($v,{position:r.fen(),onPieceDrop:Ie,boardWidth:o,customSquareStyles:Q,boardOrientation:v,arePiecesDraggable:!F&&!ce&&!r.isGameOver(),isDraggablePiece:Me,animationDuration:ce?ke:150})]}),p.jsxs("div",{className:"analysis-row",children:[p.jsxs("span",{className:"analysis-chip",children:[G.thinking?"":""," Depth",p.jsx("strong",{children:G.depth})]}),p.jsx("span",{className:"analysis-chip score-chip",children:D}),!C&&ie&&p.jsxs("span",{className:"analysis-chip best-chip",children:["Best",p.jsx("strong",{children:ie})]}),C&&p.jsxs("span",{className:"analysis-chip rival-chip",children:["vs",p.jsx("strong",{children:C.label})]})]})]}),p.jsxs("div",{className:"mobile-tabs",children:[p.jsx("button",{className:`mobile-tab ${T==="history"?"mobile-tab-active":""}`,onClick:()=>_("history"),children:"History"}),p.jsx("button",{className:`mobile-tab ${T==="analysis"?"mobile-tab-active":""}`,onClick:()=>_("analysis"),children:"Analysis"})]}),p.jsxs("div",{className:`history-column${T!=="history"?" mobile-hidden":""}`,children:[p.jsx(zv,{moves:l}),p.jsx(Yv,{analysis:G,fen:r.fen()}),p.jsx(Xv,{})]}),p.jsxs("div",{className:`feedback-column${T!=="analysis"?" mobile-hidden":""}`,children:[p.jsx(Hv,{analysis:G,fen:r.fen(),rivalLevel:C,onLevelChange:ge,rivalThinking:F,rivalLastMove:U}),p.jsx(n1,{entries:f}),p.jsx(Wv,{entries:f})]})]}),p.jsx(W1,{})]})}E0.createRoot(document.getElementById("root")).render(p.jsx(di.StrictMode,{children:p.jsx(K1,{})}));
